(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[45026],{906587:e=>{var i,n,t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinRecipe_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"474x")'},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"diets",storageKey:null},{alias:null,args:null,concreteType:"CookTimes",kind:"LinkedField",name:"cookTimes",plural:!1,selections:[{alias:null,args:null,concreteType:"CookTime",kind:"LinkedField",name:"cook",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"m",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CookTime",kind:"LinkedField",name:"total",plural:!1,selections:i,storageKey:null}],storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,concreteType:"ParsedIngredientMetadata",kind:"LinkedField",name:"ingredients",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"amt",storageKey:null},n],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ServingsSummary",kind:"LinkedField",name:"servingsSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"summary",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};t.hash="72951c99039e6492a3eb8e9fcb5a22c3",e.exports=t},276667:e=>{var i,n,t,a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SeeMoreButton_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[n={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},n,{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},t,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null}],storageKey:null},i,{args:null,kind:"FragmentSpread",name:"VaseAnnotations_pin"}],type:"Pin",abstractKey:null};a.hash="9f9fd8f43ecb08150830ab032198bd1c",e.exports=a},167074:e=>{var i,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnauthMobileContextMenu_pin",selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:i,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null},{alias:null,args:null,concreteType:"SeoBreadcrumbs",kind:"LinkedField",name:"seoBreadcrumbs",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinImagesFragment_pin"}],type:"Pin",abstractKey:null};n.hash="27fdaecb4c5ddedb53006b51bfb9e6c7",e.exports=n},85934:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VaseAnnotations_pin",selections:[{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useAnnotationsWithLinksFragment_pin"}],type:"Pin",abstractKey:null,hash:"594237c2ea6ccfb8bbc0e3e8c62cac9f"};e.exports=i},569772:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useAnnotationsWithLinksFragment_pin",selections:[{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,concreteType:"AnnotationsWithLinks",kind:"LinkedField",name:"annotationsWithLinksArray",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null,hash:"35075da6e1f4b526ac4314727015c44d"};e.exports=i},96795:e=>{var i,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinImagesFragment_pin",selections:[{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"564x")'},{alias:"imageSpec_75x75",args:[{kind:"Literal",name:"spec",value:"75x75"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"75x75")'},{alias:"imageSpec_45x45",args:[{kind:"Literal",name:"spec",value:"45x45"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"45x45")'},{alias:"imageSpec_70x70",args:[{kind:"Literal",name:"spec",value:"70x70"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"70x70")'},{alias:"imageSpec_432x292",args:[{kind:"Literal",name:"spec",value:"432x292"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"432x292")'},{alias:"imageSpec_90x90",args:[{kind:"Literal",name:"spec",value:"90x90"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"90x90")'},{alias:"imageSpec_170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"170x")'},{alias:"imageSpec_237x",args:[{kind:"Literal",name:"spec",value:"237x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"237x")'},{alias:"imageSpec_192x",args:[{kind:"Literal",name:"spec",value:"192x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"192x")'},{alias:"imageSpec_640x",args:[{kind:"Literal",name:"spec",value:"640x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"640x")'},{alias:"imageSpec_750x",args:[{kind:"Literal",name:"spec",value:"750x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"750x")'},{alias:"imageSpec_345x",args:[{kind:"Literal",name:"spec",value:"345x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"345x")'},{alias:"imageSpec_70x",args:[{kind:"Literal",name:"spec",value:"70x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"70x")'},{alias:"imageSpec_400x",args:[{kind:"Literal",name:"spec",value:"400x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"400x")'},{alias:"imageSpec_200x",args:[{kind:"Literal",name:"spec",value:"200x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"200x")'},{alias:"imageSpec_216x146",args:[{kind:"Literal",name:"spec",value:"216x146"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"216x146")'},{alias:"imageSpec_150x150",args:[{kind:"Literal",name:"spec",value:"150x150"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"150x150")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"236x")'},{alias:"imageSpec_200x150",args:[{kind:"Literal",name:"spec",value:"200x150"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"200x150")'},{alias:"imageSpec_60x60",args:[{kind:"Literal",name:"spec",value:"60x60"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"60x60")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"736x")'},{alias:"imageSpec_290x",args:[{kind:"Literal",name:"spec",value:"290x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"290x")'},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"136x136")'},{alias:"imageSpec_600x",args:[{kind:"Literal",name:"spec",value:"600x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"600x")'},{alias:"imageSpec_550x",args:[{kind:"Literal",name:"spec",value:"550x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"550x")'},{alias:"imageSpec_30x30",args:[{kind:"Literal",name:"spec",value:"30x30"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"30x30")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"474x")'},{alias:"imageSpec_1200x",args:[{kind:"Literal",name:"spec",value:"1200x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"1200x")'},{alias:"imageSpec_222x",args:[{kind:"Literal",name:"spec",value:"222x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"222x")'},{alias:"imageSpec_400x300",args:[{kind:"Literal",name:"spec",value:"400x300"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"400x300")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"orig")'}],type:"Pin",abstractKey:null};n.hash="3ac137df51d06ed79fb6f1d38372ff01",e.exports=n},701305:e=>{var i=[],n=[];function t(e,i,n,a){if(e===i)return 0!==e||1/e==1/i;if(null==e||null==i)return!1;if("object"!=typeof e||"object"!=typeof i)return!1;var o=Object.prototype.toString,l=o.call(e);if(l!=o.call(i))return!1;switch(l){case"[object String]":return e==String(i);case"[object Number]":return!isNaN(e)&&!isNaN(i)&&e==Number(i);case"[object Date]":case"[object Boolean]":return+e==+i;case"[object RegExp]":return e.source==i.source&&e.global==i.global&&e.multiline==i.multiline&&e.ignoreCase==i.ignoreCase}for(var r=n.length;r--;)if(n[r]==e)return a[r]==i;n.push(e),a.push(i);var s=0;if("[object Array]"===l){if((s=e.length)!==i.length)return!1;for(;s--;)if(!t(e[s],i[s],n,a))return!1}else{if(e.constructor!==i.constructor)return!1;if(e.hasOwnProperty("valueOf")&&i.hasOwnProperty("valueOf"))return e.valueOf()==i.valueOf();var d=Object.keys(e);if(d.length!=Object.keys(i).length)return!1;for(var c=0;c<d.length;c++)if(!t(e[d[c]],i[d[c]],n,a))return!1}return n.pop(),a.pop(),!0}e.exports=function(e,a){var o=i.length?i.pop():[],l=n.length?n.pop():[],r=t(e,a,o,l);return o.length=0,l.length=0,i.push(o),n.push(l),r}},60139:e=>{function i(e){return function(){return e}}var n=function(){};n.thatReturns=i,n.thatReturnsFalse=i(!1),n.thatReturnsTrue=i(!0),n.thatReturnsNull=i(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},663620:(e,i,n)=>{var t=n(60139);e.exports=t},554290:(e,i,n)=>{var t=n(406557);e.exports=function(e){return"function"==typeof e?e:t}},498913:(e,i,n)=>{var t=n(422545),a=n(554290),o=n(640554),l=4294967295,r=Math.min;e.exports=function(e,i){if((e=o(e))<1||e>9007199254740991)return[];var n=l,s=r(e,l);i=a(i),e-=l;for(var d=t(s,i);++n<e;)i(n);return d}},418601:(e,i,n)=>{var t=n(14841),a=1/0;e.exports=function(e){return e?(e=t(e))===a||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},640554:(e,i,n)=>{var t=n(418601);e.exports=function(e){var i=t(e),n=i%1;return i==i?n?i-n:i:0}},155247:(e,i,n)=>{n.d(i,{Z:()=>p});var t=n(667294),a=n(172071),o=n(883119),l=n(266725),r=n(813401),s=n(785893);function d(e,i,n){return i in e?Object.defineProperty(e,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[i]=n,e}const c=(e,i)=>{const n=e&&e.replace(".","_");return i?n&&n.substring(0,50):n};class u extends t.Component{constructor(...e){super(...e),d(this,"state",{href:void 0}),d(this,"onEvent",(()=>new Promise(((e,i)=>{"undefined"==typeof window&&i();const{filename:n,imgSrc:t,isAndroidTwa:o,isChromeOnIOS:r,isUnauth:s,category:d,viewParameter:u,viewType:p,pinId:m,imageSignature:g}=this.props,{href:_}=this.state;window.AndroidTwa&&window.AndroidTwa.downloadImage?(window.AndroidTwa.downloadImage(t,c(n,o)),e()):r?(this.imageDownload&&this.imageDownload.click(),e()):null==_&&fetch(t,{headers:new Headers({Origin:window.location.origin}),mode:"cors"}).then((e=>e.blob())).then((i=>{this.setState({href:window.URL.createObjectURL(i)},(()=>{this.imageDownload&&(this.imageDownload.click(),e())}))})).catch((()=>this.setState({href:this.DOWNLOAD_ERROR}))),a.Z.increment(`mweb.${s?"unauth":"auth"}.download.click.${d||"no_category"}`),(0,l.j)({event_type:82,object_id_str:m,view_type:p||3,view_parameter:u||139,aux_data:{image_signature:g}})})))),d(this,"DOWNLOAD_ERROR","error")}render(){const{children:e,filename:i,imgSrc:n,isAndroidTwa:a,isChromeOnIOS:l}=this.props,{href:r}=this.state,d=null!=r&&r!==this.DOWNLOAD_ERROR;return(0,s.jsxs)(t.Fragment,{children:[e(this.onEvent),l&&n?(0,s.jsx)(o.xu,{display:"none",children:(0,s.jsx)("a",{ref:e=>this.imageDownload=e,rel:"noopener noreferrer",tabIndex:-1,target:"_blank",href:n})}):d&&(0,s.jsx)(o.xu,{display:"none",children:(0,s.jsx)("a",{ref:e=>this.imageDownload=e,tabIndex:-1,download:c(i,a),href:r})})]})}}function p(e){const i=(0,r.xC)();return(0,s.jsx)(u,{...e,isAndroidTwa:i})}},825077:(e,i,n)=>{n.d(i,{fv:()=>h,GR:()=>p,Hs:()=>x,Mv:()=>g,uc:()=>_,dL:()=>m,qS:()=>v,Y4:()=>b,HE:()=>f,Cy:()=>y});var t=n(667294),a=n(973935),o=n(124580),l=n(266725);function r(e,i,n){return i in e?Object.defineProperty(e,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[i]=n,e}class s extends t.Component{constructor(...e){super(...e),r(this,"observe",(()=>{try{if(this.node=(0,a.findDOMNode)(this),this.node instanceof HTMLElement){const{pinIdStr:e,newsIdStr:i}=this.props.eventData;o.Z.start(this.node).onExitViewport(this.logImpression).setDebugId(e||i||"unknown")}}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}})),r(this,"logImpression",(e=>{(0,l.vP)({viewData:this.props.viewData||{},viewType:this.props.viewType,viewParameter:this.props.viewParameter,eventType:this.props.eventType,impressionType:this.props.impressionType,auxData:this.props.auxData,component:this.props.component,objectIdStr:this.props.objectIdStr,eventData:{endTime:e.endTime,time:e.startTime,...this.props.eventData}}),this.props.onTracked&&this.props.onTracked(this.props.eventData)}))}componentDidMount(){this.props.isPaused||this.observe()}componentDidUpdate(e){e.isPaused&&!this.props.isPaused&&this.observe()}componentWillUnmount(){this.node instanceof HTMLElement&&o.Z.stop(this.node)}render(){return t.Children.only(this.props.children)}}var d=n(407043);function c({auxData:e,component:i,eventData:n,eventType:a,impressionType:l,isPaused:r,objectIdStr:s,onTracked:c,viewData:u,viewType:p,viewParameter:m}){const g=(0,t.useRef)(null),{logImpression:_}=(0,d.v)(),h=(0,t.useCallback)((()=>{const t=t=>{_({viewData:u||{},viewType:p,viewParameter:m,eventType:a,impressionType:l,auxData:e,component:i,objectIdStr:s,eventData:{endTime:t.endTime,time:t.startTime,...n}}),c&&c(n)};try{if(g.current instanceof HTMLElement){const{pinIdStr:e,newsIdStr:i}=n;o.Z.start(g.current).onExitViewport(t).setDebugId(e||i||"unknown")}}catch(r){window.console.error('Can only track impressions for type "HTMLElement"')}}),[g.current]);return(0,t.useEffect)((()=>{r||h();const e=g.current;return()=>{e instanceof HTMLElement&&o.Z.stop(e)}}),[r,h]),g}var u=n(785893);const p=e=>(0,u.jsx)(s,{eventData:{...e.impressionData||{},pinIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:18,impressionType:"pinImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children}),m=e=>{const i=c({eventData:{...e.impressionData||{},pinIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:18,impressionType:"pinImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:i})},g=e=>{const i=c({eventData:{newsIdStr:e.notificationId,newsType:e.newsType,displayMode:e.displayMode,newsIndex:e.newsIndex||0,tapItemIdStr:e.tapItemIdStr},auxData:e.auxData||{},eventType:4111,impressionType:"notificationDetailImpressions",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:i})},_=e=>{const i=c({eventData:{newsIdStr:e.notificationId,newsType:e.newsType},auxData:e.auxData||{},eventType:4110,impressionType:"notificationFeedImpressions",loggingId:e.notificationId,viewType:107,viewParameter:3081});return e.children({impressionTrackerRef:i})},h=e=>(0,u.jsx)(s,{eventData:{...e.impressionData||{},articleIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:3829,impressionType:"articleImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children}),v=e=>{const i=c({eventData:{...e.impressionData||{},storyIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:170,impressionType:"storyImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:i})},x=e=>(0,u.jsx)(s,{eventData:{...e.impressionData||{},storyIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:170,impressionType:"storyImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children}),y=e=>{const i=c({eventData:{...e.impressionData||{},userIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0},auxData:e.auxData||{},component:e.component,eventType:3704,impressionType:"userImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:i})},f=e=>{const i=c({eventData:{...e.impressionData||{},topicIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0},auxData:e.auxData||{},component:e.component,eventType:3703,impressionType:"topicImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:i})},b=e=>{const i=c({eventData:{...e.impressionData||{},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:8569,impressionType:"todayArticleImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,onTracked:e.onTracked,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:i})}},556080:(e,i,n)=>{n.r(i),n.d(i,{default:()=>Pe,pinRepPaddingInBoint:()=>ge});var t=n(667294),a=n(702664),o=n(319915),l=n(680046),r=n(558150),s=n(248975),d=n(609943),c=n(958007),u=n(954571),p=n(30700),m=n(81226),g=n(116303),_=n(561195),h=n(883119),v=n(785893);function x({maxRating:e,rating:i,text:n}){return(0,v.jsxs)(h.xu,{alignItems:"center",display:"flex",marginBottom:0,children:[(0,v.jsx)(_.Z,{max_rating:e||"",rating:i||"",width:10}),n&&(0,v.jsx)(t.Fragment,{children:(0,v.jsx)(h.xu,{marginStart:1,overflow:"hidden",children:(0,v.jsx)(h.xv,{size:"100",lineClamp:1,children:n})})})]})}var y=n(898781),f=n(755506);const b=({pinId:e})=>{var i;const n=(0,y.ZP)(),o=(0,a.useSelector)((({pins:e})=>e))[e];if(!o)return null;const{pinProduct:l}=(0,f.Fi)({i18n:n,pin:o});if(!l||!l.price)return null;const r=l.standard_price||l.price,s=l.min_price||"",d=l.max_price||"",c=l.in_stock||!1,u=null===(i=o.rich_summary)||void 0===i?void 0:i.site_name,p="dark",m=c?p:"subtle";return(0,v.jsxs)(t.Fragment,{children:[u&&(0,v.jsx)(h.xv,{color:p,size:"100",children:u}),(0,v.jsxs)(h.xu,{display:"flex",alignItems:"center","data-test-id":"priceLego_price",children:[s&&d?(0,v.jsxs)(h.xv,{size:"100",color:m,children:[s," - ",d]}):(0,v.jsx)(h.xv,{size:"100",color:m,children:r}),!c&&(0,v.jsxs)(t.Fragment,{children:[(0,v.jsx)(h.xu,{paddingX:1,children:(0,v.jsx)(h.xv,{size:"100",color:m,children:"·"})}),(0,v.jsx)(h.xv,{size:"100",color:m,children:n._('Out of stock', 'pinCard.priceLego.outOfStock', 'display if a product is out of stock')})]})]})]})};var w=n(947599),P=n(23084),S=n(941646),k=n(50286),T=n(803035),j=n(997440),I=n(923297),C=n(904411),A=n(276775),D=n(867820),L=n(53987);const z=(0,t.lazy)((()=>n.e(42368).then(n.bind(n,342368)))),O=(0,t.lazy)((()=>n.e(25397).then(n.bind(n,125397)))),M=({title:e})=>{const i=(0,k.ZP)(),n=(0,A.TH)();return(0,v.jsx)(S.Z,{id:"related-pins-title",children:(0,v.jsx)(h.iP,{onTap:()=>{(0,D.LW)({action:"click",pageLocation:n,item:"related-pins-title"})},children:(0,v.jsx)(h.xv,{size:"desktop"===i?"300":"100",weight:"bold",children:e})})})},E=({addPinCountExpDisplayData:e={},allowPriceIndicator:i,contextMenu:n,credits:l,hidePinMetadata:r,hasAffiliatedProducts:s,isPromotedPin:d,isSponsoredPin:c,isSquarePin:u,marginTop:m,marginStart:_,marginEnd:f,onCreditsClick:E,pinDescription:F,pinId:R,pinnedToBoardId:Z,pinReactionCounts:U,recipeCookTime:N,recipeMaxRating:B,recipeRating:K,recipeReviewCount:H,saves:W=0,shouldShowReactions:$,showSaveCount:J,style:Y="default",title:q,type:G})=>{var V,X,Q,ee,ie,ne,te,ae;const oe=(0,y.ZP)(),le=(0,A.TH)(),re=(0,a.useSelector)((({session:e})=>e.isAuthenticated)),se=(0,k.ZP)(),de=q||F||"oneTap"===G,ce=(0,a.useSelector)((({pins:e})=>e[R])),ue=(0,C.gC)()(Z||ce&&ce.board),pe=ce.pinner,me=d&&(null===(V=ce.promoter)||void 0===V?void 0:V.id)===(null===(X=ce.native_creator)||void 0===X?void 0:X.id),ge=ce.sponsorship?(0,v.jsx)(h.xv,{inline:!0,size:"100",weight:"bold",children:null==l?void 0:l.subtitle}):void 0,_e="overlay"===Y,he=$&&U&&Object.keys(U).length>0&&(0,v.jsx)(h.xu,{height:18,display:_e?"flex":void 0,justifyContent:"center",children:(0,v.jsx)(o.Z,{name:"SafeSuspense_PinCardDetails_GridAggregation",children:(0,v.jsx)(w.Z,{children:(0,v.jsx)(z,{pinReactionCounts:U})})})}),ve=J&&!!W&&(0,v.jsx)(h.xu,{height:18,display:_e?"flex":void 0,justifyContent:"center",children:(0,v.jsx)(o.Z,{name:"SafeSuspense_PinCardDetails_SaveAggregation",children:(0,v.jsx)(w.Z,{children:(0,v.jsx)(O,{saves:W,addPinCountExpDisplayData:e})})})}),xe=r?0:m||1;return(0,v.jsx)(t.Fragment,{children:(0,v.jsxs)(h.xu,{display:"flex",height:u?i?104:72:void 0,marginEnd:f||1,marginStart:_||1,position:"relative",children:[(0,v.jsxs)(h.xu,{flex:"grow",children:[(0,v.jsx)(h.xu,{display:"flex",marginTop:xe,children:(0,v.jsx)(h.xu,{flex:"grow",children:(0,v.jsxs)(t.Fragment,{children:[(0,v.jsxs)(t.Fragment,{children:[(c||s)&&!me&&(0,v.jsx)(h.xu,{marginBottom:1,children:(0,v.jsx)(h.xu,{flex:"grow",overflow:"hidden",children:(0,v.jsx)(P.Z,{hasAffiliatedProducts:s,isPromoted:d,sponsorName:ge,sponsorshipStatus:null===(Q=ce.sponsorship)||void 0===Q?void 0:Q.status})})}),q&&(0,v.jsx)(h.xu,{marginTop:1,overflow:"hidden",dangerouslySetInlineStyle:{__style:{display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2"}},children:re&&!r&&(0,v.jsx)(M,{title:q})}),"desktop"===se&&!re&&F&&!(0,L.$Y)(le)&&(0,v.jsx)(h.xu,{marginTop:1,overflow:"hidden",dangerouslySetInlineStyle:{__style:{display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2"}},"data-test-id":"desc",children:(0,v.jsx)(h.iP,{onTap:()=>{(0,D.LW)({action:"click",pageLocation:le,item:"related-pins-description"})},children:(0,v.jsx)(h.xv,{size:"100",inline:!0,children:F})})})]}),i&&(0,v.jsx)(b,{credits:l,pinId:R}),"recipe"===G&&!!H&&(0,v.jsx)(t.Fragment,{children:(0,v.jsxs)(h.xu,{alignItems:"center",display:"flex",marginTop:1,children:[!!H&&(0,v.jsx)(x,{maxRating:B||"",rating:K||"",text:""}),!!N&&(0,v.jsxs)(t.Fragment,{children:[(0,v.jsx)(h.xu,{paddingX:1,children:(0,v.jsx)(h.xv,{size:"100",children:"·"})}),(0,v.jsx)(h.xv,{size:"100",children:(0,j.IS)({...(0,I.u)(N),i18n:oe})})]})]})})]})})}),!_e&&he,!_e&&ve,l&&(0,v.jsx)(p.Z,{onTouch:e=>E&&E(e),pressState:"none",children:(0,v.jsx)(h.xu,{children:(!r||c||me)&&(0,v.jsxs)(h.xu,{display:"flex",marginTop:_e?-9:m||(de&&!r?1:0),marginBottom:r?2:0,position:"relative",direction:_e?"column":"row",children:[(0,v.jsx)(h.xu,{flex:"none",display:_e?"flex":void 0,justifyContent:"center","data-test-id":"related-pins-avatar-image",children:(0,v.jsx)(h.iP,{onTap:()=>{(0,D.LW)({action:"click",pageLocation:le,item:"related-pins-avatar-image"})},children:(0,v.jsx)(g.Z,{name:l.title||"",outline:_e,size:_e?"lg":"sm",src:_e&&l.largeAvatar||l.mediumAvatar||l.avatar||void 0})})}),(0,v.jsx)(h.xu,{direction:"column",display:"flex",flex:"grow",justifyContent:"center",alignItems:_e?"center":void 0,marginStart:1,"data-test-id":"related-pins-name",children:(0,v.jsxs)(h.iP,{onTap:()=>{(0,D.LW)({action:"click",pageLocation:le,item:"related-pins-name"})},children:[l.title&&(0,v.jsx)(h.xv,{lineClamp:1,size:"100",weight:c&&!me||s?"normal":"bold",children:l.title===(null==pe?void 0:pe.full_name)&&(null!=pe&&pe.is_verified_merchant||null!=pe&&null!==(ee=pe.verified_identity)&&void 0!==ee&&ee.verified)?(0,v.jsx)(T.Z,{badgeSize:"sm",badgeSpacing:2,fullName:l.title,verifiedType:pe.is_verified_merchant?"verifiedMerchant":"verifiedIdentity"}):l.title}),l.subtitle?(!c&&!r||me)&&(0,v.jsx)(h.xv,{lineClamp:c||s?void 0:1,size:"desktop"===se?"200":"100",weight:"desktop"===se?"bold":"normal",children:l.subtitle}):!re&&ue&&"protected"!==ue.privacy?(0,v.jsx)(S.Z,{id:"related-pin-text-below-name",children:(0,v.jsx)(h.rU,{underline:"hover",href:null!==(ie=ue.url)&&void 0!==ie?ie:"",onClick:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),e.stopPropagation(),(0,D.NC)("click_board_pin_attribution_profile"),(0,D.LW)({action:"click",pageLocation:le,item:"related-pin-text-below-name"})},children:(0,v.jsx)(h.xv,{size:"200",children:ue.name})})}):null]})})]})})}),!l&&"desktop"===se&&!!pe&&((0,L.L6)(le)||(0,L.cD)(le)||(0,L.$Y)(le))&&(0,v.jsxs)(h.xu,{display:"flex",marginTop:de?2:0,children:[(0,v.jsx)(h.xu,{flex:"none","data-test-id":"related-pins-avatar-image",children:(0,v.jsx)(h.iP,{onTap:()=>{(0,D.LW)({action:"click",pageLocation:le,item:"related-pins-avatar-image"})},children:(0,v.jsx)(g.Z,{name:pe.username||"",size:"sm",src:null!==(ne=pe.image_small_url)&&void 0!==ne?ne:void 0})})}),(0,v.jsxs)(h.xu,{direction:"column",display:"flex",flex:"grow",justifyContent:"center",marginStart:1,"data-test-id":"related-pins-name",children:[(0,v.jsx)(h.rU,{underline:"hover",href:`/${pe.username}/`,onClick:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),e.stopPropagation(),(0,D.NC)("click_board_pin_attribution_board"),(0,D.LW)({action:"click",pageLocation:le,item:"related-pins-name"})},children:(0,v.jsx)(h.xv,{size:"200",weight:"bold",children:pe.full_name||pe.username})}),ue&&"protected"!==ue.privacy?(0,v.jsx)(S.Z,{id:"related-pin-text-below-name",children:(0,v.jsx)(h.rU,{underline:"hover",href:null!==(te=ue.url)&&void 0!==te?te:"",onClick:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),e.stopPropagation(),(0,D.NC)("click_board_pin_attribution_profile"),(0,D.LW)({action:"click",pageLocation:le,item:"related-pin-text-below-name"})},children:(0,v.jsx)(h.xv,{size:"200",children:null!==(ae=ue.name)&&void 0!==ae?ae:""})})}):null]})]}),_e&&he]}),(0,v.jsx)(h.xu,{position:_e?"absolute":void 0,right:!0,children:n})]})})};var F=n(857079),R=n(349700);const Z=(0,t.lazy)((()=>n.e(96011).then(n.bind(n,296011)))),U=({inviteCode:e})=>{const i=(0,y.ZP)();return(0,v.jsx)(h.xu,{minHeight:82,children:(0,v.jsx)(o.Z,{name:"SafeSuspense_PinCardSharedHeader_LoadingSpinner",children:(0,v.jsx)(w.Z,{fallback:(0,v.jsx)(F.Z,{accessibilityLabel:i._('Loading Invitation component', 'Loading InviteFetch component', 'loading InviteFetch component')}),children:(0,v.jsx)(Z,{invite_code:e,children:e=>{const n=e?e.sender:null,t=n&&n.first_name?n.first_name.substring(0,30):"";if(!t)return null;const a=n&&!n.is_default_image?n.image_medium_url:"",o=(0,R.nk)(i._('{{ name }} shared this idea with you', 'homefeed.pinSenderAvatar.heading', 'header notifying users that a sender ({{ name }}) shared a Pin to them'),{name:t});return(0,v.jsxs)(h.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,v.jsx)(h.zd,{height:32,width:32,children:(0,v.jsx)(g.Z,{name:t,src:a})}),(0,v.jsx)(h.xu,{width:"80%",paddingY:2,children:(0,v.jsx)(h.xv,{align:"center",size:"200",weight:"bold",children:o})})]})}})})})})};var N=n(945866),B=n(55275);const K={initial:{opacity:0,transition:"opacity 0.25s ease-in"},fadeIn:{opacity:1,transition:"opacity 1s ease"}},H=(e,i,n)=>(0,v.jsx)(h.xv,{color:"inverse",inline:!0,size:"200",weight:"bold",children:(0,v.jsx)(h.rU,{inline:!0,href:i,tapStyle:"none",underline:"hover",children:n})},e);function W({color:e,getFeedbackText:i,onUnfollow:n,showing:a,unfollowed:o}){const l=(0,y.ZP)(),[r,s]=(0,t.useState)(a?"fadeIn":"initial"),d=(0,t.useRef)(null);(0,t.useEffect)((()=>("initial"===r&&a&&(d.current=window.requestAnimationFrame((()=>s("fadeIn")))),()=>{d.current&&window.cancelAnimationFrame(d.current)})),[r,s,a]);const{subTitle:c,title:u,unfollow:p}=i(H);let m=u,g=c;p&&o&&(m=p.title,g=p.subTitle);const _=()=>p?(0,B.t)(p.action,p.actionOptions,n):void 0;return a&&(0,v.jsx)(h.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e,...K[r]}},margin:1,rounding:4,position:"absolute",top:!0,bottom:!0,left:!0,right:!0,children:(0,v.jsxs)(h.xu,{width:"100%",height:"100%",color:"dark",rounding:4,overflow:"auto",children:[(0,v.jsxs)(h.xu,{padding:3,rounding:2,display:"flex",direction:"column",height:"100%",justifyContent:"between",children:[(0,v.jsxs)(h.xu,{children:[(0,v.jsx)(h.X6,{size:"400",color:"inverse",children:m}),g&&(0,v.jsxs)(h.xu,{marginTop:1,children:[(0,v.jsx)(h.xv,{color:"inverse",size:"200",inline:!0,children:g}),(0,v.jsx)(h.xv,{color:"inverse",inline:!0,size:"200",weight:"bold",children:(0,v.jsx)(h.rU,{href:"/edit",inline:!0,rounding:2,tapStyle:"none",underline:"hover",children:l._('Tune your home feed', 'Text on the button to navigate to homefeed control', 'Text on the button to navigate to homefeed control')})})]})]}),!o&&p&&(0,v.jsx)(h.xu,{paddingY:1,children:(0,v.jsx)(h.zx,{fullWidth:!0,color:"white",text:l._('Unfollow', 'Text on the button to unfollow a specific board / user', 'Text on the button to unfollow a specific board / user'),onClick:_})})]}),!o&&p&&(0,v.jsx)(h.xu,{paddingY:1,children:(0,v.jsx)(h.zx,{fullWidth:!0,color:"white",text:l._('Unfollow', 'Text on the button to unfollow a specific board / user', 'Text on the button to unfollow a specific board / user'),onClick:_})})]})})}var $=n(116578),J=n(992750);function Y({pin:e}){var i,n,t,a;return(0,v.jsxs)(h.xu,{paddingX:2,marginBottom:-1,display:"flex",children:[(0,v.jsx)(h.xu,{flex:"grow",maxHeight:32,minHeight:12,overflow:"hidden",width:142,children:(0,v.jsx)(h.xv,{lineClamp:2,size:"100",weight:"bold",children:(0,J.fs)({pinTitle:e.title,gridTitle:e.grid_title,richSummaryDisplayName:null===(i=e.rich_summary)||void 0===i?void 0:i.display_name,richMetadataTitle:null===(n=e.rich_metadata)||void 0===n?void 0:n.title,storyPinDataId:e.story_pin_data_id,storyPinDataMetadataPinTitle:null===(t=e.story_pin_data)||void 0===t||null===(a=t.metadata)||void 0===a?void 0:a.pin_title,placeSummaryName:e.place_summary})||e.description})}),(0,v.jsx)(h.xu,{children:(0,v.jsx)($.Z,{pinId:e.id,size:"sm"})})]})}function q({pin:e}){var i,n,t,a,o;const l=(0,y.ZP)();if(!e)return null;const{pinProduct:r}=(0,f.Fi)({i18n:l,pin:e}),s=(null==r?void 0:r.standard_price)||(null==r?void 0:r.price),d=null===(i=e.rich_summary)||void 0===i?void 0:i.site_name;return(0,v.jsxs)(h.xu,{paddingX:2,marginBottom:-1,display:"flex",direction:"column",children:[(0,v.jsxs)(h.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[(0,v.jsxs)(h.xu,{flex:"grow",minHeight:12,overflow:"hidden",width:142,children:[(0,v.jsx)(h.xv,{size:"100",weight:"bold",children:s}),(0,v.jsx)(h.xv,{size:"100",weight:"bold",lineClamp:s?3:2,children:(0,J.fs)({pinTitle:e.title,gridTitle:e.grid_title,richSummaryDisplayName:null===(n=e.rich_summary)||void 0===n?void 0:n.display_name,richMetadataTitle:null===(t=e.rich_metadata)||void 0===t?void 0:t.title,storyPinDataId:e.story_pin_data_id,storyPinDataMetadataPinTitle:null===(a=e.story_pin_data)||void 0===a||null===(o=a.metadata)||void 0===o?void 0:o.pin_title,placeSummaryName:e.place_summary})||e.description})]}),(0,v.jsx)(h.xu,{children:(0,v.jsx)($.Z,{pinId:e.id,size:"sm"})})]}),d&&s&&(0,v.jsx)(h.xv,{size:"100",children:d})]})}var G=n(285230),V=n(364245),X=n(81759),Q=n(358589),ee=n(856919),ie=n(477802),ne=n(236458),te=n(884979),ae=n(825077),oe=n(185894),le=n(811403),re=n(378518),se=n(773285),de=n(813401),ce=n(550407),ue=n(780679),pe=n(266725);function me(e,i,n){return i in e?Object.defineProperty(e,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[i]=n,e}const ge=({isDesktop:e})=>e?0:1,_e=e=>Boolean(e.is_eligible_for_web_closeup),he=e=>Boolean(e.promoter&&!e.is_downstream_promotion),ve={width:1,height:1,url:""},xe=e=>{const{attribution:i,embed:n,is_eligible_for_web_closeup:t,rich_summary:a,videos:o,story_pin_data_id:l}=e,r=n||i&&i.embed;return t?"oneTap":o||r&&"video"===r.type?"video":r&&"gif"===r.type?"gif":a&&"product"===a.type_name?"product":a&&"recipe"===a.type_name?"recipe":l?"storyPin":"image"},ye=e=>{if("video"===xe(e)&&e.videos&&e.videos.video_list){const{duration:i=0}=e.videos.video_list[Object.keys(e.videos.video_list)[0]]||{};return(0,m.Z)(i)}return""},fe=e=>{var i;if("product"!==xe(e))return null;const[n]=(null===(i=e.rich_summary)||void 0===i?void 0:i.products)||[];if(!n)return null;const t=n.offer_summary;return t&&(t.price||t.max_price)},be=(0,t.lazy)((()=>n.e(74672).then(n.bind(n,160465))));class we extends t.Component{constructor(...e){super(...e),me(this,"state",{startImpressionTimer:!1,openContextMenuByLongPress:!1,isShowingCustomContextMenu:!1}),me(this,"getPinImage",(()=>{const{pin:e,duploIsSquarePin:i}=this.props;if(!e||!e.images)return ve;var n;if(i)return{height:136,url:null===(n=e.images["236x"])||void 0===n?void 0:n.url,width:136};const t=["236x","170x","136x136","736x","474x","orig"];for(const a of t)if(e.images[a]&&e.images[a].url)return e.images[a];return ve})),me(this,"getImpressionData",(()=>{var e,i;const{pin:n}=this.props,t=null===(e=n.videos)||void 0===e||null===(i=e.video_list)||void 0===i?void 0:i.V_720P,a=t?{isNativeVideoAndWatchable:!!(t&&t.url&&t.height&&t.width)||void 0,videoIdStr:t&&n.videos?n.videos.id:void 0}:{},o=this.getPinImage();return{richTypes:n.shopping_flags||[],imageURL:o.url||"",...a,...this.props.impressionData}})),me(this,"getAuxData",(()=>{const{auxData:e={},pin:i,pwaType:n}=this.props;return{commerce_data:(0,r.Z)(i),pwa_type:n,...e}})),me(this,"getFeedbackType",(()=>{const{board:e,feedback:i,viewParameter:n,pin:t}=this.props;return this.feedbackHelpers.getFeedbackType({board:e,feedback:i,viewParameter:n,pin:t,pinner:t.pinner})})),me(this,"getRecommendationDescription",(e=>{const{board:i,pin:n}=this.props;return this.feedbackHelpers.getRecommendationDescription({ad_match_reason:n.ad_match_reason,board:i,feedbackType:this.getFeedbackType(),makeNavigateLink:e,pinner:n.pinner,promoter:n.promoter,recommendationReason:n.recommendation_reason,sourceInterest:n.source_interest})})),me(this,"getPinHiddenFeedbackText",(e=>{const{board:i,pin:n}=this.props,t=n.promoter,a=this.feedbackHelpers.getUnfollowAction({board:i,feedbackType:this.getFeedbackType(),makeNavigateLink:e,pinner:n.pinner,sourceInterest:n.source_interest});return he(n)&&null!=t&&t.full_name?{title:"",subTitle:(0,R.nk)(this.props.i18n._('{{ promoter }} has paid to have this pin show up where you\'d be more likely to notice it.', 'pinRep.promotedPinfeedbackText.subtitle', 'message displayed after hiding a promoted pin'),{promoter:t.full_name})}:a?{title:this.props.i18n._('Pin hidden', 'message displayed after hiding a pin', 'message displayed after hiding a pin'),subTitle:this.getRecommendationDescription(e),unfollow:a}:{title:this.props.i18n._('Pin hidden', 'message displayed after hiding a pin', 'message displayed after hiding a pin'),subTitle:this.props.i18n._('Got it! We\'ll try to show you more relevant Pins in the future.', 'message displayed after hiding a pin', 'message displayed after hiding a pin')}})),me(this,"feedbackHelpers",(0,l.ZP)({i18n:this.props.i18n,interpolateNamedTemplate:R.nk})),me(this,"logOneTap",(()=>{const{pin:e,trackingParams:i,viewType:n,viewParameter:t,auxData:a}=this.props,o=(0,d.Z)(i,e.tracking_params),l={view_type:this.props.viewType,view_parameter:this.props.viewParameter,element:e.story_pin_data_id?12372:35,component:this.props.componentType,object_id_str:e.id,aux_data:{commerce_data:(0,r.Z)(e),grid_index:this.props.slotIndex,image_signature:e.image_signature,...this.props.auxData},clientTrackingParams:o};(0,pe.j)({event_type:8948,view_type:n,view_parameter:t,object_id_str:e.id,clientTrackingParams:o,aux_data:{image_signature:e.image_signature,closeup_navigation_type:"click",click_type:"clickthrough",cosmic_ray_count:"2",...a}}),(0,pe.jC)(l),(0,pe.j)({component:this.props.componentType,event_type:13,view_type:3,clientTrackingParams:o,aux_data:{closeup_navigation_type:"web_closeup",image_signature:e.image_signature},object_id_str:e.id})})),me(this,"markPinAsSeen",(()=>this.props.markPinAsSeen(this.props.pinId))),me(this,"handleLoad",(()=>{this.setState({startImpressionTimer:!0})})),me(this,"handleError",(()=>{this.setState({startImpressionTimer:!1})})),me(this,"handleClick",(e=>{const{auxData:i,componentType:n,deviceType:t,pin:a,slotIndex:o,trackingParams:l,viewParameter:s,viewType:c,duploFeedItemProps:u,isAuth:p,unauthDesktopSignupModalPageContext:m}=this.props,{onPinClick:g}=null!=u?u:{},_=e=>(0,D.My)(`unauth_pin_rep.${e}.${String(s)}`);if(_("click"),(0,pe.ob)({view_type:c,view_parameter:s,element:a.story_pin_data_id?12372:35,component:n,object_id_str:a.id,clientTrackingParams:(0,d.Z)(l,a.tracking_params),aux_data:{commerce_data:(0,r.Z)(a),grid_index:o,image_signature:a.image_signature,...i}}),_e(a)||(0,pe.j)({event_type:8948,view_type:c,view_parameter:s,object_id_str:a.id,clientTrackingParams:(0,d.Z)(l,a.tracking_params),aux_data:{image_signature:a.image_signature,commerce_data:(0,r.Z)(a),closeup_navigation_type:"click",grid_index:o,cosmic_ray_count:"3",...i}}),!p)switch((0,D.LW)({action:"click",item:"pin",pageLocation:this.props.location}),c){case 3:(0,D.NC)("click_pin_related_image");break;case 5:(0,D.NC)("click_board_pin_image");break;case 210:(0,D.NC)("click_topic_pin_image")}if(_e(a)&&this.logOneTap(),g&&g(),"desktop"===t){if(e.metaKey){_("click.cmd_button_pressed"),e.preventDefault();window.open(`/pin/${a.id}/`,"_blank").focus()}else if(!p&&m){const{pinImageClickHandler:i}=m;i({event:e,pin:a,linkTarget:"duploClientNav"})}}})),me(this,"handleCreditsClick",(e=>{var i;const{history:n,pin:t}=this.props,{id:a,sponsorship:o,story_pin_data_id:l}=t,{creator:r,sponsor:s}=o||{},{id:d}=r||{},{id:c}=s||{},u=!!l;e.stopPropagation(),e.preventDefault();const p=null===(i=this.getCredits())||void 0===i?void 0:i.link;p&&n.push(p),(0,pe.So)({view_type:3,element:27,object_id_str:a,component:u?230:void 0,aux_data:{pin_id:a,...d&&c?{creator_id:d,sponsor_id:c}:{}}})})),me(this,"handleUnfollowPin",(()=>this.props.markPinUnfollowed(this.props.pin.id))),me(this,"handlePinSend",(e=>{e&&e.stopPropagation&&e.stopPropagation();const{pin:i,board:n,setSharingOnBoardPage:t}=this.props;n&&i&&t&&n.isSocialSeasonalBoard&&t(!0,"pin",i.id)})),me(this,"isOverrideImageOnly",(()=>{const{pin:{rich_summary:e},viewer:i,viewParameter:n}=this.props,t=3375===n;return e&&43===n&&!(0,u.Z)(i.created_at)||t})),me(this,"convertToGif",(e=>{const i=Math.max(e.embed&&e.embed.width||0,236),n=Math.max(e.embed&&e.embed.height||0,236);return{url:e.embed?e.embed.src:"",width:i,height:n}}))}componentDidMount(){const{isAuth:e,slotIndex:i,pin:n,viewParameter:t,location:a}=this.props;if(!e&&0===i&&3070===t){const e=a.pathname;(0,X.H$)(e,n)}}getIsClaimedContent(){var e,i;const{pin:n,viewParameter:t}=this.props;return 3375===t&&!(null===(e=n.link_domain)||void 0===e||null===(i=e.official_user)||void 0===i||!i.is_primary_website_verified)}getCredits(){const{board:e,pin:i,viewParameter:n}=this.props,t=i.story_pin_data,a=i.pinner,o=i.promoter,l=null==t?void 0:t.has_product_pins,r=0===n,s=3173===n,d=3375===n,c=this.getIsClaimedContent(),u=i.native_creator,p=!!i.native_creator,m=he(i),{sponsorship:g}=i,{creator:_,sponsor:h}=g||{},v=m&&!!g&&(null==o?void 0:o.id)!==(null==u?void 0:u.id),x=!!g&&_;if(!(m||x||r||s||p||c))return;switch(v?"PROMOTED_SPONSORED":m?"PROMOTED":x?"SPONSORED":p?"AFFILIATED_PRODUCTS":l?"NATIVE_CONTENT":c?"CLAIMED_CONTENT":e&&"protected"===e.privacy?"SAVED_BY":"DEFAULT"){case"PROMOTED_SPONSORED":return{title:null==u?void 0:u.full_name,subtitle:null==o?void 0:o.full_name,avatar:this.getPinnerImage(null==u?void 0:u.image_small_url),mediumAvatar:this.getPinnerImage(null==u?void 0:u.image_medium_url),largeAvatar:this.getPinnerImage(null==u?void 0:u.image_large_url),link:null!=u&&u.username?`/${u.username}/`:""};case"PROMOTED":return{title:this.props.i18n._('Promoted by', 'Grid pin annotation', 'Grid pin annotation'),subtitle:null==o?void 0:o.full_name,avatar:this.getPinnerImage(null==o?void 0:o.image_small_url),mediumAvatar:this.getPinnerImage(null==o?void 0:o.image_medium_url),largeAvatar:this.getPinnerImage(null==o?void 0:o.image_large_url),link:null!=o&&o.username?`/${o.username}/`:""};case"SPONSORED":if(!g)throw new Error("sponsorship doesn't exist when expected");return{title:null==u?void 0:u.full_name,subtitle:null==h?void 0:h.full_name,avatar:this.getPinnerImage(null==u?void 0:u.image_small_url),mediumAvatar:this.getPinnerImage(null==u?void 0:u.image_medium_url),largeAvatar:this.getPinnerImage(null==u?void 0:u.image_large_url),link:null!=u&&u.username?`/${u.username}/`:""};case"AFFILIATED_PRODUCTS":return{title:null==u?void 0:u.full_name,subtitle:"",avatar:this.getPinnerImage(null==u?void 0:u.image_small_url),mediumAvatar:this.getPinnerImage(null==u?void 0:u.image_medium_url),largeAvatar:this.getPinnerImage(null==u?void 0:u.image_large_url),link:null!=u&&u.username?`/${u.username}/`:""};case"NATIVE_CONTENT":let n=(null==e?void 0:e.url)||`/pin/${i.id}/`;return d&&(n=null!=u&&u.username?`/${u.username}/`:""),{title:"",subtitle:null==u?void 0:u.full_name,avatar:this.getPinnerImage(null==u?void 0:u.image_small_url),mediumAvatar:this.getPinnerImage(null==u?void 0:u.image_medium_url),largeAvatar:this.getPinnerImage(null==u?void 0:u.image_large_url),link:n};case"CLAIMED_CONTENT":const{link_domain:t}=i,{official_user:l}=t||{};return l?{subtitle:l.full_name,avatar:this.getPinnerImage(l.image_small_url),mediumAvatar:this.getPinnerImage(l.image_medium_url),largeAvatar:this.getPinnerImage(l.image_large_url),link:l.username?`/${l.username}/`:""}:void 0;case"SAVED_BY":return{title:this.props.i18n._('Saved by', 'Grid pin annotation', 'Grid pin annotation'),subtitle:"",avatar:this.getPinnerImage(null==a?void 0:a.image_small_url),mediumAvatar:this.getPinnerImage(null==a?void 0:a.image_medium_url),largeAvatar:this.getPinnerImage(null==a?void 0:a.image_large_url),link:(null==e?void 0:e.url)||`/pin/${i.id}/`};default:return{title:(null==a?void 0:a.full_name)||"",subtitle:"",avatar:this.getPinnerImage(null==a?void 0:a.image_small_url),mediumAvatar:this.getPinnerImage(null==a?void 0:a.image_medium_url),largeAvatar:this.getPinnerImage(null==a?void 0:a.image_large_url),link:(null==e?void 0:e.url)||`/pin/${i.id}/`}}}getSharedHeaderInviteCode(){var e;const{viewParameter:i,viewedSharedPins:n,pinId:t}=this.props;return 92===i?null===(e=n&&n[t])||void 0===e?void 0:e.inviteCode:void 0}getPinnerImage(e){return e&&e.includes("/user/default")?void 0:e}getPinText(){const{grid_title:e,rich_summary:i,description:n}=this.props.pin;return"string"==typeof e?{title:e,description:""}:{title:null==i?void 0:i.display_name,description:n}}renderPinCard(){var e,i,n,t,a,l,r,u,m,g,_,x,y,f,b,P,k,T,j,I,C,A,z;const{board:O,checkExperiment:M,country:F,disableAppUpsell:R,duploDisablePinCardPadding:Z,disableRounding:B,disableReaction:K,deviceType:H,experience:$,feedback:X,imageOnlyOption:Q,i18n:ae,isAuth:oe,duploIsSquarePin:le,isImageOnlyExp:re,location:se,duploPinCardDetailsMargin:de,duploFeedItemProps:ce,duploOneTapSave:ue,pin:pe,pinCountExperience:me,slotIndex:ve,viewParameter:we,viewType:Pe,duploShouldAllowProductPriceIndicator:Se,topLevelTrafficSource:ke,topLevelTrafficSourceDepth:Te,trafficSource:je,trackingParams:Ie,vaseDisplayMode:Ce,createUnauthContextMenuHandler:Ae}=this.props,{hidePinMetadata:De=!1,onPinLinkClick:Le,showSeoMetadata:ze}=null!=ce?ce:{},{aggregated_pin_data:Oe,category:Me,image_signature:Ee,promoter:Fe,rich_summary:Re,title:Ze,sponsorship:Ue,story_pin_data:Ne}=pe,{description:Be,title:Ke}=this.getPinText(),He="desktop"===H,We=xe(pe),$e=0===we,Je=3475===we,Ye=he(pe),qe=!!Ue,Ge=null==Ne?void 0:Ne.has_product_pins,Ve=null==Ne?void 0:Ne.is_deleted,Xe=(0,d.Z)((se&&se.state||{}).trackingParams||Ie,pe.tracking_params),Qe="product"===xe(pe)&&!oe,ei=re&&!this.isOverrideImageOnly(),ii=O&&O.isSocialSeasonalBoard,ni=this.getPinImage(),ti=ii&&"gif"===We?this.convertToGif(pe):ni,ai=null===(e=pe.videos)||void 0===e||null===(i=e.video_list)||void 0===i?void 0:i.V_720P,oi=(0,J.hP)(null!==(n=pe.description)&&void 0!==n?n:"",pe.description_html||"",null===(t=pe.pin_join)||void 0===t?void 0:t.visual_annotation,pe.alt_text||""),li=oe?Be:(0,c.Z)({storyPinDataId:pe.story_pin_data_id,pinDescription:pe.description,richMetadataDescription:null!==(a=null===(l=pe.rich_metadata)||void 0===l?void 0:l.description)&&void 0!==a?a:"",richSummaryDisplayName:null!==(r=null===(u=pe.rich_summary)||void 0===u?void 0:u.display_name)&&void 0!==r?r:"",placeSummaryName:null!==(m=pe.place_summary)&&void 0!==m?m:"",closeupDescription:null!==(g=pe.closeup_description)&&void 0!==g?g:"",closeupUnifiedDescription:null!==(_=pe.closeup_unified_description)&&void 0!==_?_:""}),ri=$&&$.display_data.hideReactions||!1,si=$&&$.display_data.hideDesc||!1,di=(null==Oe||null===(x=Oe.aggregated_stats)||void 0===x?void 0:x.saves)||0,{display_data:ci={}}=me||{},{showSaves:ui=!1}=ci,pi=ui&&di>500&&(0,L.C$)(se)||!1,mi=!K&&(0,ne.J6)({boardIsCollaborative:null==O?void 0:O.is_collaborative,isDownstreamPromotion:pe.is_downstream_promotion,isPromoted:pe.is_promoted,storyPinDataId:pe.story_pin_data_id,videosId:null===(y=pe.videos)||void 0===y?void 0:y.id})&&!Je&&!ri,gi=!oe&&!!pe.story_pin_data_id&&!!pe.seo_url;let _i;_i=_e(pe)?pe.tracked_link||pe.link:gi?pe.seo_url:`/pin/${pe.id}/`;const hi=!Be||ei&&!$e?void 0:Be.trim(),vi=this.getSharedHeaderInviteCode(),xi={country:F,deeplinkUri:gi?pe.seo_url:`pin/${pe.id}`,external:_e(pe),externalQueryParams:{pin:pe.id,client_tracking_params:Ie},isAppUpsellDisabled:R,onTouch:this.handleClick,pinCategory:pe.category,pressState:"none",rounding:4,title:this.props.i18n._('See this Pin', 'App Upsell Text after clicking on Pin in feed', 'App Upsell Text after clicking on Pin in feed'),to:{pathname:_i,state:{trackingParams:Ie,trafficSource:je,topLevelTrafficSource:ke,topLevelTrafficSourceDepth:Te}},upsellType:"direct",viewParameter:we,viewType:Pe,clientTrackingParams:Xe},yi=ge({isDesktop:He}),fi=pe.native_creator||pe.pinner,bi="search"===je&&"storyPin"===We&&M("mweb_search_ideapin_module").anyEnabled;return(0,v.jsxs)(h.xu,{"data-test-id":"pin","data-test-pin-id":pe.id,marginBottom:He||De?0:2,children:[(0,v.jsxs)(h.xu,{"data-test-id":oi||Ke||Be?"pin-with-alt-text":"pin-missing-alt-text",paddingY:De||Z?0:yi,paddingX:Z?0:yi,marginBottom:0,onContextMenu:fi?Ae({pin:pe,pinner:fi,deviceOptions:{isDesktop:!0}}):void 0,dangerouslySetInlineStyle:{__style:this.state.isShowingCustomContextMenu?te.Yw:{}},children:[(0,v.jsxs)(ee.MZ,{...xi,children:[!!vi&&(0,v.jsx)(U,{inviteCode:vi}),Ve?(0,v.jsx)(G.Z,{isPinRep:!0}):(0,v.jsx)(N.Z,{clientTrackingParams:Xe,color:null!==(f=pe.dominant_color)&&void 0!==f?f:"",description:hi,domainLinkData:pe.domain&&pe.link?{clickLoggingOptions:{auxData:{objectId:pe.id,grid_index:ve,sanitized_url:pe.link}},domain:pe.domain,link:pe.link,onClick:Le}:void 0,disableRounding:B,hideBottomCardText:ii,image:ti,imageAltText:oi,imageCrop:pe.image_crop,isMessenger:ii,isSquarePin:le,onError:this.handleError,oneTapSave:ue,onLoad:this.handleLoad,openCustomContextMenu:()=>this.setState({openContextMenuByLongPress:!0}),disableDefaultContextMenu:()=>this.setState({isShowingCustomContextMenu:!0}),createUnauthContextMenuHandler:Ae,pinId:pe.id,pinnedToBoardId:(null===(b=pe.pinned_to_board)||void 0===b?void 0:b.id)||"",pinVideo:ii&&ai||void 0,productPrice:Se?fe(pe):null,slotIndex:ve,storyData:Ne,title:!ei||$e?Ke:void 0,type:We,videoDuration:ye(pe),viewType:Pe})]}),(!("image-only"===Q)&&(oe||"desktop"===H)||"shop_feed_auth_and_unauth_mweb_override"===je)&&(0,v.jsxs)(h.xu,{children:[!Je&&"desktopParity"===Ce&&(0,v.jsx)(V.Z,{pinId:pe.id,mode:"inlineWithScrollArrows"}),(0,v.jsx)(ee.MZ,{...xi,children:(0,v.jsx)(E,{addPinCountExpDisplayData:ci,allowPriceIndicator:!Se&&["shop_feed","shop_feed_auth_and_unauth_mweb_override"].includes(je),marginTop:de,hidePinMetadata:De||si,contextMenu:oe&&!Ve?(0,v.jsx)(h.xu,{marginStart:1,marginTop:de,children:(0,v.jsx)(h.xu,{height:26,width:24,children:(0,v.jsx)(o.Z,{name:"SafeSuspense_Pin_ContextualMenu",children:(0,v.jsx)(w.Z,{children:(0,v.jsx)(be,{adMatchReason:pe.ad_match_reason,bestPinImgSrc:(0,s.Z)({images:pe.images,embedSrc:null===(P=pe.embed)||void 0===P?void 0:P.src,embedType:null===(k=pe.embed)||void 0===k?void 0:k.type}),feedback:X,feedbackType:this.getFeedbackType(),getRecommendationDescription:this.getRecommendationDescription,imageSignature:Ee,pinCategory:Me,pinDescription:li,pinId:pe.id,pinImgSrc:ti.url,pinTitle:Ze,sourceType:Ye?"ad":$e?"following":void 0,viewParameter:we,viewType:Pe,openByLongPress:this.state.openContextMenuByLongPress,trackingParams:Ie,toggleLongPress:()=>{this.setState({openContextMenuByLongPress:!1})}})})})})}):null,credits:this.getCredits(),hasAffiliatedProducts:Ge,isPromotedPin:Ye,isSponsoredPin:qe,isSquarePin:le,marginStart:de,marginEnd:de,onCreditsClick:this.handleCreditsClick,pinDescription:li,pinId:pe.id,pinnedToBoardId:(null===(T=pe.pinned_to_board)||void 0===T?void 0:T.id)||"",pinReactionCounts:pe.reaction_counts,pinTagsChips:(Oe||{}).pin_tags_chips,promoterName:null==Fe?void 0:Fe.full_name,recipeCookTime:ei?void 0:pe.rich_summary&&pe.rich_summary.display_cook_time,recipeMaxRating:ei||null==Re||null===(j=Re.aggregate_rating)||void 0===j?void 0:j.best_rating,recipeRating:ei||null==Re||null===(I=Re.aggregate_rating)||void 0===I?void 0:I.rating_value,recipeReviewCount:ei||null==Re||null===(C=Re.aggregate_rating)||void 0===C?void 0:C.review_count,saves:di,showSaveCount:pi,shouldShowReactions:mi,style:bi?"overlay":"default",title:bi?void 0:Ke,type:We})})]})]}),(null==O?void 0:O.isSocialSeasonalBoard)&&oe&&(0,v.jsx)(h.xu,{color:"secondary",marginBottom:6,marginEnd:"auto",marginStart:"auto",marginTop:-2,position:"relative",rounding:2,width:"90%",children:(0,v.jsx)(p.Z,{onTouch:this.handlePinSend,pressState:"none",rounding:2,children:(0,v.jsx)(h.xu,{padding:3,children:(0,v.jsx)(h.xv,{align:"center",weight:"bold",children:ae._('Send', ' - ', ' -- ')})})})}),"reported"===pe.feedback_status?(0,v.jsx)(W,{color:null!==(A=pe.dominant_color)&&void 0!==A?A:"",getFeedbackText:()=>({title:this.props.i18n._('Reported', 'message displayed after reporting a pin', 'message displayed after reporting a pin'),subTitle:this.props.i18n._('Thanks! Your feedback helps us keep the Pinterest community safe.', 'message displayed after reporting a pin', 'message displayed after reporting a pin')}),pinId:pe.id,showing:!!pe.feedback_status}):(0,v.jsx)(W,{color:null!==(z=pe.dominant_color)&&void 0!==z?z:"",getFeedbackText:this.getPinHiddenFeedbackText,onUnfollow:this.handleUnfollowPin,pinId:pe.id,showing:!!pe.feedback_status,unfollowed:"unfollowed"===pe.feedback_status,viewParameter:we,viewType:Pe}),ze&&"inlineHidden"===Ce&&!Qe&&(0,v.jsx)(S.Z,{id:"related-pins-title",children:(0,v.jsx)(h.iP,{onTap:()=>{(0,D.LW)({action:"click",pageLocation:se,item:"related-pins-title"})},fullWidth:!1,children:(0,v.jsx)(Y,{pin:pe})})}),!oe&&Qe&&(0,v.jsx)(q,{pin:pe}),pe.debug&&(0,v.jsx)(ie.W,{data:pe.debug})]})}render(){const{componentType:e,pin:i,trackingParams:n,viewParameter:t,viewType:a,slotIndex:o,objectIdStr:l,viewData:r}=this.props,{startImpressionTimer:s}=this.state;return i?(0,v.jsx)(ae.dL,{auxData:this.getAuxData(),component:e,impressionData:this.getImpressionData(),isPaused:!s,loggingId:i.id,objectIdStr:l,onTracked:this.markPinAsSeen,slotIndex:o,trackingParams:n,viewData:r,viewParameter:t,viewType:a,children:({impressionTrackerRef:e})=>(0,v.jsx)(h.xu,{ref:e,children:this.renderPinCard()})}):null}}const Pe=(0,a.connect)((({boards:e,experiences:i,pins:n,session:t,users:a},o)=>{const l=n[o.pinId]||null,r=i[1000107];return{board:l&&e[l.board],country:t.country,hasPoorConnection:t.hasPoorConnection,isAuth:t.isAuthenticated,isImageOnlyExp:r&&500678===r.experience_id,pin:l,viewer:a[t.userId],viewedSharedPins:t.viewedSharedPins}}),((e,{viewParameter:i,viewType:n})=>({markPinAsSeen:t=>e((0,Q.DX)({pinId:t,viewParameter:i,viewType:n})),markPinUnfollowed:i=>e((0,le.fH)(i,"unfollowed")),setSharingOnBoardPage:(i,n,t)=>e((0,oe.Mj)(i,n,t))})))((function(e){const i=(0,y.ZP)(),n=(0,ue.g)(),{checkExperiment:t}=(0,se.F)(),a=(0,A.k6)(),o=(0,A.TH)(),l=(0,k.ZP)(),r=(0,ce.M)(),s=(0,de.yz)(),d=(0,re._)({id:1000107}),c=(0,re._)({id:1000418});return(0,v.jsx)(we,{...e,createUnauthContextMenuHandler:r,deviceType:l,experience:d,pinCountExperience:c,pwaType:s,unauthDesktopSignupModalPageContext:n,vaseDisplayMode:"desktop"===l?"desktopParity":"inlineHidden",i18n:i,checkExperiment:t,history:a,location:o})}))},945866:(e,i,n)=>{n.d(i,{Z:()=>K});var t=n(667294),a=n(702664),o=n(733756),l=n(499128),r=n(898781),s=n(728214),d=n(569046),c=n(332611),u=n(185894),p=n(856919),m=n(479739),g=n(500594),_=n(358589),h=n(883119),v=n(276775),x=n(785893);const y=new h.Ry(1),f=(0,d.Z)((({buttonText:e,clientTrackingParams:i,color:n="primary",deeplinkUri:d,experience:f,inline:b=!0,minWidth:w,onTouch:P,onUnsave:S,pinId:k,pinnedToBoardId:T,shape:j,shouldShowSavedButton:I,showRepinConfirmation:C,showToast:A,viewType:D,viewParameter:L,showSaveHandoffExperience:z})=>{var O;const M=(0,r.ZP)(),E=(0,a.useDispatch)(),F=(0,v.k6)(),R=(0,v.TH)().pathname.startsWith("/pin"),Z=(0,a.useSelector)((({session:e})=>e.hasSavedUnauthPin)),U=(0,a.useSelector)((({session:e})=>e.unauthSavePinId)),N=null===(O=(0,a.useSelector)((e=>(0,m.ts)(e))))||void 0===O?void 0:O.pin_count,B=()=>{E((0,_.Bp)({history:F,i18n:M,onSuccess:()=>{f&&E((0,c.CK)(f.placement_id,f.experience_id))},originalPinId:k,pinId:k,trackingParams:{clientTrackingParams:i,pinnedToBoardId:T},showRepinConfirmation:z&&!R?()=>{}:C,disableRepinAnimation:U===k,pinCount:N})).catch((e=>A((({hideToast:i})=>(0,x.jsx)(l.ZP,{variant:"error",text:e.message||M._('Sorry! Something went wrong on our end.', 'quickSave.toast.error.message', 'error during repin'),onHide:i})))))},K=(0,t.useRef)(null),H=z&&!Z,W=(0,s.Z)()({fn:e=>{e.stopPropagation(),e.preventDefault(),P&&P(e),I?I&&S&&S():B()},modalHeader:(0,g.Bx)(M)});(0,t.useEffect)((()=>{H&&!K.current&&(B(),E((0,u.e2)())),K.current=H}));const $=()=>M._('Pin', 'quickSave.quickSaveButton.icon.accessibilityLabel', 'Pin accessibility label'),J=()=>e||M._('Save', 'quickSave.quickSaveButton.buttonText', 'Auth mobile web save button for pin closeup');return Z&&!R?null:(0,x.jsx)(h.xu,{"data-test-id":"save-button-mobile",zIndex:y,children:d?(0,x.jsx)(p.di,{accessibilityLabel:$(),color:n,customStyles:{padding:"14px 16px"},deeplinkUri:d,inline:b,minHeight:48,minWidth:w,onTouch:W,pressState:["compress","background"],shape:j,size:"lg",text:J(),to:F.location.pathname,upsellType:"save",viewType:D,viewParameter:L}):(0,x.jsx)(o.Z,{accessibilityLabel:$(),color:n,customStyles:{padding:"14px 16px"},inline:b,minHeight:48,minWidth:w,onTouch:W,pressState:"compress",shape:j,size:"300",text:J()})})}));var b=n(634291),w=n(867820),P=n(716235),S=n(343341);function k(e,i,n){return i in e?Object.defineProperty(e,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[i]=n,e}class T extends t.PureComponent{constructor(...e){var i;super(...e),i=this,k(this,"state",{saveState:void 0}),k(this,"legoFixedZIndex",new h.Ry(2)),k(this,"onAddPin",(async function(){const{clientTrackingParams:e,dispatch:n,i18n:t,oneTapSave:a,pinId:o,pinnedToBoardId:r,showToast:s,viewType:d}=i.props;try{const t=await n((0,_.wh)({i18n:i.props.i18n,originalPinId:o,pinId:o,boardId:null==a?void 0:a.boardId,isOneTapSave:!0,onUndo:()=>{i.onDeletePin()},section:null==a?void 0:a.section,showToast:s,trackingParams:{clientTrackingParams:e,pinnedToBoardId:r},viewType:d}));i.setState({saveState:"saved"}),n((0,P.a)({boardId:null==a?void 0:a.boardId,localPinId:t.id,pinId:o}))}catch(c){s((({hideToast:e})=>(0,x.jsx)(l.ZP,{variant:"error",text:c.message||t._('Sorry! Something went wrong on our end.', 'error during repin', 'error during repin'),onHide:e}))),i.setState({saveState:void 0})}})),k(this,"onDeletePin",(async function(){const{dispatch:e,clientTrackingParams:n,i18n:t,pinId:a,savedInfo:o,showToast:r}=i.props;if(o){e((0,P.k)({boardId:o.boardId,localPinId:o.localPinId,pinId:a}));try{await e((0,_.q$)({pinId:o.localPinId,boardId:o.boardId,clientTrackingParams:n})),r((({hideToast:e})=>(0,x.jsx)(l.ZP,{text:t._('Pin deleted!', 'User deleted their pin', 'User deleted their pin'),onHide:e}))),i.setState({saveState:void 0})}catch(s){r((({hideToast:e})=>(0,x.jsx)(l.ZP,{variant:"error",text:t._('Sorry! There was an error deleting your Pin.', 'Error when user tried to delete pin', 'Error when user tried to delete pin'),onHide:e}))),i.setState({saveState:"saved"})}}})),k(this,"handlePinAction",this.props.requireAuthForLimitedLogin({fn:({event:e})=>{e.stopPropagation(),e.preventDefault();const{saveState:i}=this.state,{history:n,pinId:t,isOneTapExploreLocalTab:a,pinnedToBoard:o}=this.props;["saving","deleting"].includes(i)||a&&o||(i||this.props.savedInfo?this.props.isOneTapExploreLocalTab||(this.setState({saveState:"deleting"}),this.onDeletePin()):(this.setState({saveState:"saving"}),a?n.push({pathname:`/pin/${t}/repin`,state:{isOneTapSave:!0}}):this.onAddPin()))},modalHeader:(0,g.Bx)(this.props.i18n)})),k(this,"shouldDisplayAsSaved",(({isOneTapExploreLocalTab:e,pinnedToBoard:i,savedInfo:n})=>e?!!i:!!n))}render(){const{children:e,clientTrackingParams:i,homepageExperience:n,i18n:a,isOneTapExploreLocalTab:o,isRTL:l,location:r,oneTapSave:s,pinId:d,pinnedToBoard:c,pinnedToBoardId:u,savedInfo:p,shouldShowSaveHandoffExp:m}=this.props;if(!s&&!o&&!m)return e;const g=this.shouldDisplayAsSaved({isOneTapExploreLocalTab:o,pinnedToBoard:c,savedInfo:p}),_="#000",v="rgba(255, 255, 255, 0.8)",y="light",b="dark";return(0,x.jsxs)(t.Fragment,{children:[e,(0,x.jsx)(h.xu,{bottom:!0,left:l,padding:2,position:"absolute",right:!l,zIndex:this.legoFixedZIndex,children:m?(0,x.jsx)(f,{buttonText:!!c&&a._('Saved', 'OneTapSave.QuickSaveButton.Saved', 'Message on saved pin'),clientTrackingParams:i,color:c?"white":"red",deeplinkUri:"deeplinkUri",experience:n,inline:!0,pinnedToBoardId:u,minWidth:54,pinId:d,shape:"pill",shouldShowSavedButton:!!c,to:{pathname:`/pin/${d}/repin/`,state:{trackingParams:r.state?r.state.trackingParams:""}},showSaveHandoffExperience:m}):(0,x.jsx)(h.iP,{onTap:this.handlePinAction,rounding:"circle",children:(0,x.jsx)(h.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:g?_:v}},padding:2,rounding:"circle",children:(0,x.jsx)(h.xu,{dangerouslySetInlineStyle:{__style:{opacity:100}},children:(0,x.jsx)(h.JO,{accessibilityLabel:g?a._('saved', 'checkmark icon to show pin has been saved', 'checkmark icon to show pin has been saved'):a._('save', 'button for saving quickly with one click', 'button for saving quickly with one click'),icon:g?"check":"add",color:g?y:b,size:"24"})})})})})]})}}const j=(0,a.connect)(((e,{pinId:i})=>({savedInfo:e.pins[i]&&e.pins[i].savedInfo,pinnedToBoard:e.pins[i]&&e.pins[i].pinned_to_board,homepageExperience:e.experiences[40001]})))((function(e){const{showToast:i}=(0,S.F9)(),n=(0,r.ZP)(),o=(0,s.Z)(),l=(0,a.useDispatch)(),d=(0,v.k6)(),c=(0,v.TH)(),{isRTL:u}=(0,a.useSelector)((({session:e})=>e)),p=(0,a.useSelector)((({session:e})=>e.unauthSavePinId)),g=(0,a.useSelector)((({session:e})=>e.isAuthenticated)),h=(0,a.useSelector)((e=>{var i;return null===(i=(0,m.ts)(e))||void 0===i?void 0:i.pin_count})),y=g&&!!p&&p===e.pinId,{pins:f,clear:P}=(0,b.Z)(),k=(0,t.useRef)(!1);return(0,t.useEffect)((()=>{g&&!k.current&&f.length>0&&(k.current=!0,f.forEach((({id:e})=>{l((0,_.Bp)({history:d,i18n:n,onSuccess:()=>{},originalPinId:e,pinId:e,trackingParams:{clientTrackingParams:"",pinnedToBoardId:""},showRepinConfirmation:()=>{},disableRepinAnimation:!0,pinCount:h})).catch((e=>{(0,w.My)(`error.unauth_profile_pin_merge.${e}`)}))})),P())})),(0,x.jsx)(T,{...e,i18n:n,requireAuthForLimitedLogin:o,history:d,location:c,showToast:i,shouldShowSaveHandoffExp:y,isRTL:u})}));j.displayName="OneTapSave";const I=j;var C=n(883561),A=n(349700);function D({boardUrl:e,boardName:i,isQuicksave:n,sectionName:t,sectionSlug:a}){const o=(0,r.ZP)(),l=(0,v.k6)(),s=new h.Ry(1),d=!!a&&`${e}${a}/`;return(0,x.jsx)(h.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,zIndex:s,dangerouslySetInlineStyle:{__style:{background:"rgb(0 0 0 / .4)"}},children:(0,x.jsx)(h.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"start",padding:4,children:(0,x.jsx)(h.iP,{onTap:i=>{i.event.preventDefault(),l.push(n?"/me/":d||e)},children:(0,x.jsx)(h.xv,{color:"inverse",children:t?(0,A.nk)(o._('Saved to {{sectionName}}', 'PinCard.SavedToSection.Overlay', 'Saved to section overlay'),{sectionName:(0,x.jsx)(h.xv,{color:"inverse",weight:"bold",inline:!0,children:(0,C.ZP)(t,22)},`pincard-${t}`)}):(0,A.nk)(o._('Saved to {{boardName}}', 'PinCard.SavedToBoard.Overlay', 'Saved to board overlay'),{boardName:(0,x.jsx)(h.xv,{color:"inverse",weight:"bold",inline:!0,children:n?o._('Profile', 'PinCard.SavedToProfile.Overlay', 'Part of string saying "Saved to Profile" after saving a Pin'):(0,C.ZP)(i,22)},`pincard-${i}`)})})})})})}var L=n(252745),z=n(50286),O=n(310227),M=n(773285),E=n(904411),F=n(780679),R=n(627995);const Z=({domainLinkData:e})=>{const i=(0,r.ZP)(),n=(0,F.g)();return(0,x.jsxs)(h.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(51, 51, 51, 0.8)"}},children:[(0,x.jsx)(h.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"center",paddingX:2,children:(0,x.jsx)(h.X6,{size:"400",align:"center",color:"light",children:i._('Open', 'Text on hover of a pin leading to opening this pin in the same tab. This is for users who don\'t have an account on Pinterest.', 'Text on hover of a pin leading to opening this pin in the same tab. This is for users who don\'t have an account on Pinterest.')})}),!!e&&(0,x.jsx)(h.xu,{position:"absolute",bottom:!0,left:!0,width:"100%",minWidth:"100%",children:(0,x.jsx)(R.Z,{clickLoggingOptions:e.clickLoggingOptions,domain:e.domain,link:e.link,onClick:e.onClick||(null==n?void 0:n.pinLinkClickHandler)||(()=>{})})})]})};var U=n(53987);const N=({width:e,height:i,minY:n,maxY:t})=>{const a=i=>e<=0||!i?"0%":Math.round(i/e*100)+"%";return{top:n<=0?"0%":a(-1*n*i),bottom:t>=1?"0%":a(-1*(1-t)*i)}},B=({children:e,margin:i,disableRounding:n})=>(0,x.jsx)(h.xu,{dangerouslySetInlineStyle:{__style:i?{marginTop:i.top,marginBottom:i.bottom}:{}},position:"relative","data-test-id":"pin-visual-wrapper",children:(0,x.jsx)(h.zd,{wash:!0,rounding:n?0:O.mv,children:e})}),K=({clientTrackingParams:e,color:i,description:n,domainLinkData:o,hideBottomCardText:l,image:s,imageAltText:d,imageCrop:c,isMessenger:u,isOneTapExploreLocalTab:p,isSquarePin:m,onError:g,oneTapSave:_,onLoad:y,openCustomContextMenu:f,disableDefaultContextMenu:b,createUnauthContextMenuHandler:P,pinId:S,pinnedToBoardId:k,pinVideo:T,productPrice:j,disableRounding:C,storyData:A,title:O,type:F,videoDuration:R,viewType:K})=>{var H,W,$,J,Y,q,G,V,X,Q;const ee=(0,r.ZP)(),{checkExperiment:ie}=(0,M.F)(),[ne,te]=(0,t.useState)(!1),ae=(0,a.useSelector)((({session:e})=>e.isAuthenticated)),oe=(0,z.ZP)(),le=(0,a.useSelector)((({pins:e})=>e[S])),re=(0,E.gC)()(k||le&&le.board),se=k&&le.savedThisSession,de=o&&o.link?"with-link":"without-link",ce=!ae&&"desktop"!==oe,ue=(0,t.useRef)(Date.now()),pe=(0,t.useRef)(null),me=(0,x.jsx)(h.Ee,{alt:d||O||n||"",color:i,naturalHeight:null!==(H=s.height)&&void 0!==H?H:1,naturalWidth:null!==(W=s.width)&&void 0!==W?W:1,onError:g,onLoad:y,src:null!==($=s.url)&&void 0!==$?$:"",fit:m?"cover":void 0}),ge=m?(0,x.jsx)(h.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(100%)"}},children:(0,x.jsx)(h.xu,{top:!0,right:!0,bottom:!0,left:!0,position:"absolute",dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},children:me})}):me,_e=(0,v.TH)(),he=()=>(0,U.C$)(_e)?"homefeed":(0,U.L6)(_e)?"related_pins":(0,U.En)(_e)?"search":"unknown";return(0,x.jsx)("div",{className:"PinCard__imageWrapper",style:{position:"relative"},children:(0,x.jsxs)(h.xu,{onContextMenu:e=>{if("desktop"!==oe){const i=he();(0,w.My)((ae?"auth":"unauth")+".mweb_pin_feed.pin_image.long_press",{page:i}),ae&&"unknown"!==i&&(ie("mweb_custom_context_menu_on_longpress").anyEnabled||ie("mweb_pin_card_custom_context_menu_on_longpress").anyEnabled)?(e.preventDefault(),e.stopPropagation(),f()):"related_pins"===i&&!ae&&ie("mweb_unauth_rp_context_menu_on_longpress").anyEnabled&&(e.preventDefault(),e.stopPropagation())}},onTouchStart:e=>{if("desktop"!==oe){const i=he();if((0,w.My)("unauth.mweb.related_pin.image.touch.start"),"related_pins"===i&&!ae&&ie("mweb_unauth_rp_context_menu_on_longpress").anyEnabled&&(null==b||b(),e.stopPropagation(),ue.current=Date.now(),e.changedTouches&&e.changedTouches.length>0)){const i=e.changedTouches.item(0);i&&(pe.current={x:i.pageX,y:i.pageY})}}},onTouchEnd:e=>{if("desktop"!==oe){const i=he();if((0,w.My)("unauth.mweb.related_pin.image.touch.end"),"related_pins"===i&&!ae&&ie("mweb_unauth_rp_context_menu_on_longpress").anyEnabled){const i=ie("mweb_unauth_rp_context_menu_on_longpress").group,n=(i.includes("download")?"download":i.includes("save")&&"save")||i.includes("short_d")&&"short_d"||i.includes("short_s")&&"short_s"||"main";if(e.stopPropagation(),Date.now()-ue.current>500){const i=pe.current;if(e.changedTouches&&e.changedTouches.length>0&&i){const t=e.changedTouches.item(0);if(t&&Math.pow(t.pageX-i.x,2)+Math.pow(t.pageY-i.y,2)>100)return;null==b||b(),null==P||P({pin:le,pinner:le.pinner,deviceOptions:{isDesktop:!1,context:n}})(e)}}}}},"data-test-id":`pincard-${F}-${de}`,dangerouslySetInlineStyle:{__style:{willChange:"transform",textDecoration:"none"}},overflow:"hidden",onMouseOver:ce?void 0:()=>te(!0),onMouseLeave:ce?void 0:()=>te(!1),position:"relative",rounding:C?0:4,children:[(0,x.jsxs)(I,{clientTrackingParams:e||"",oneTapSave:_,isOneTapExploreLocalTab:p,pinId:S,pinnedToBoardId:k,viewType:K,children:["gif"===F&&!l&&!se&&(0,x.jsx)(L.Z,{text:ee._('GIF', 'pin.pinCard.gifIconIdentifier', 'pin type identifier for gifs')}),"video"===F&&R&&!l&&!se&&(0,x.jsx)(L.Z,{text:R}),"storyPin"===F&&A&&"number"==typeof A.page_count&&A.page_count>0&&!se&&(0,x.jsx)(L.Z,{icon:"idea-pin",text:A.page_count.toString()}),"product"===F&&!!j&&(0,x.jsx)(L.Z,{text:j}),(0,x.jsx)(B,{disableRounding:C,margin:c?N({width:null!==(J=s.width)&&void 0!==J?J:1,height:null!==(Y=s.height)&&void 0!==Y?Y:1,minY:c.min_y,maxY:c.max_y}):void 0,children:"video"===F&&u&&T?(0,x.jsx)(h.nk,{autoplay:!0,accessibilityMaximizeLabel:"",accessibilityMinimizeLabel:"",accessibilityMuteLabel:"",accessibilityPauseLabel:"",accessibilityPlayLabel:"",accessibilityProgressBarLabel:ee._('Progress bar', 'PinCardVisual.accessibilityProgressBarLabel', 'Video progress bar accessibility label'),accessibilityUnmuteLabel:"",aspectRatio:T.width/T.height,captions:"",loop:!0,onPlay:()=>{},onPlayError:()=>{},playsInline:!0,poster:null!==(q=s.url)&&void 0!==q?q:"",src:T.url,volume:0}):ge})]}),ne&&!ae&&(0,x.jsx)(Z,{domainLinkData:o}),ae&&se&&(0,x.jsx)(D,{boardName:null!==(G=null==re?void 0:re.name)&&void 0!==G?G:"",boardUrl:null!==(V=null==re?void 0:re.url)&&void 0!==V?V:"",sectionName:null==_||null===(X=_.section)||void 0===X?void 0:X.title,sectionSlug:null==_||null===(Q=_.section)||void 0===Q?void 0:Q.slug,isQuicksave:"quick_saves"===(null==re?void 0:re.layout)})]})})}},252745:(e,i,n)=>{n.d(i,{Z:()=>r});var t=n(898781),a=n(643010),o=n(883119),l=n(785893);function r({text:e,icon:i,largeIdentifier:n,largeMargin:r}){const s=(0,t.ZP)();return(0,l.jsxs)(o.xu,{zIndex:new o.Ry(1),alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:(0,a.Yc)()?"rgba(0, 0, 0, 0.7)":"rgba(255, 255, 255, 0.8)"}},display:"flex",margin:r?4:2,overflow:"hidden",position:"absolute",rounding:"pill",padding:2,paddingX:n?4:void 0,height:n?36:24,top:!0,children:[i&&(0,l.jsx)(o.xu,{marginEnd:n?2:1,children:(0,l.jsx)(o.JO,{accessibilityLabel:s._('identifier that shows the pin type', 'pin.pincard.iconAccessibilityLabel', 'shows an icon with the pin type'),color:"default",icon:i,inline:!0,size:n?18:12})}),(0,l.jsx)(o.xv,{inline:!0,size:n?"200":"100",weight:"bold",children:e})]})}},236458:(e,i,n)=>{function t(e){const i=Object.keys(e);if(i.length>0){return i.sort(((i,n)=>e[n]-e[i])).slice(0,3)}return null}function a(e){const i=Object.values(e);if(i.length>0){return i.reduce(((e,i)=>e+i),0)}return 0}function o({boardIsCollaborative:e,isDownstreamPromotion:i,isPromoted:n,storyPinDataId:t,videosId:a}){return!(n||i||!a&&!t||null!=e&&e)}n.d(i,{At:()=>t,J6:()=>o,Ud:()=>a})},116578:(e,i,n)=>{n.d(i,{Z:()=>A});var t,a=n(667294),o=n(702664),l=n(373420),r=n(121151),s=n(941646),d=n(898781),c=n(784590),u=n(364245),p=n(349700),m=n(643010),g=n(904411),_=n(802201),h=n(276775),v=n(992750),x=n(867820),y=n(50286),f=n(883119),b=n(167912),w=n(785893);const P=void 0!==t?t:t=n(276667);function S({boardUrl:e,boardName:i,boardPrivacy:n,pinnerFullName:t,pinnerImageSmallUrl:a,pinnerImageLargeUrl:o}){const l=(0,h.TH)(),r=(0,y.HG)();if(!e||!i)return null;const d=e.split("/")[1],c=t||d,u=a||o;return(0,w.jsxs)(f.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[u?(0,w.jsx)(f.iP,{role:"link",href:`/${d}/`,fullWidth:!1,tapStyle:"compress",onTap:()=>{(0,x.My)(`pcons.${r?"desktop":"mobile"}.see-more-button-creator`),(0,x.LW)({action:"click",pageLocation:l,item:"see-more-button-creator"})},children:(0,w.jsx)(f.xu,{rounding:"circle",width:32,height:32,overflow:"hidden",marginEnd:2,"data-test-id":"see-more-button-creator",children:(0,w.jsx)(f.Ee,{naturalHeight:32,naturalWidth:32,alt:c,fit:"cover",color:"rgb(231, 186, 176)",src:u})})},"profile-link"):null,(0,w.jsxs)(f.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[(0,w.jsx)(s.Z,{id:"see-more-button-creator-full-name",children:(0,w.jsx)(f.iP,{onTap:()=>{(0,x.My)(`pcons.${r?"desktop":"mobile"}.see-more-button-creator-full-name`),(0,x.LW)({action:"click",pageLocation:l,item:"see-more-button-creator-full-name"})},children:(0,w.jsx)(f.xv,{color:"default",inline:!0,size:"200",weight:"bold",children:(0,w.jsx)(f.rU,{href:`/${d}/`,inline:!0,tapStyle:"compress",underline:"hover",children:c},"profile-link")},"profileLink")})}),"protected"===n?null:(0,w.jsx)(f.xv,{color:"default",inline:!0,size:"200",children:(0,w.jsx)(f.rU,{href:null!=e?e:"",inline:!0,tapStyle:"compress",underline:"hover",children:null!=i?i:""},"board-link")},"boardLink")]})]})}function k({description:e,title:i,isAuth:n,pinCreditPrefix:t,onClickTitleOrDomain:a,pinDomain:l,boardId:r,boardUrl:s,boardName:c,boardPrivacy:m,pinnerFullName:g,pinnerImageSmallUrl:_,pinnerImageLargeUrl:v,pinId:b,graphqlRef:P}){const k=(0,d.ZP)(),T=(0,h.TH)(),{isSeoBot:j}=(0,o.useSelector)((({session:e})=>e)),I=(0,y.ml)(),C=!n&&!j&&I,A=a||null;return(0,w.jsxs)(f.xu,{children:[(0,w.jsx)(f.xu,{marginBottom:2,children:(0,w.jsx)(u.Z,{pinId:b,mode:"expanded",graphqlRef:P})}),(0,w.jsxs)(f.xu,{marginBottom:3,children:[(0,w.jsxs)(f.xu,{as:"figcaption",children:[(0,w.jsx)(f.X6,{color:"default",size:"400",accessibilityLevel:3,children:i}),(0,w.jsx)(f.xu,{height:4}),(0,w.jsx)(f.xv,{color:"default",children:e})]}),C&&(0,w.jsx)(f.xu,{marginTop:2,children:(0,w.jsx)(f.kC,{alignItems:"center",direction:"row",width:"100%",children:(0,p.nk)(k._('{{ pinCreditPrefix }} {{ pinCredit }}', 'tells the user where the pin is from in the form of Saved from website', 'tells the user where the pin is from in the form of Saved from website'),{pinCreditPrefix:(0,w.jsx)(f.xu,{display:"inlineBlock",children:(0,w.jsx)(f.xv,{inline:!0,size:"200",children:t})},"pinCreditsPrefix"),pinCredit:(0,w.jsx)(f.xu,{display:"inlineBlock",marginStart:1,maxWidth:"60vw","data-test-id":"pin-domain-link",children:(0,w.jsx)(f.iP,{onTap:({event:e})=>{e.preventDefault(),e.stopPropagation(),(0,x.LW)({action:"click",pageLocation:T,item:"pin-domain-link"}),(0,x.My)("mweb_pin_page.pin_link.clickthrouh"),n||(0,x.NC)("click_pin_closeup_link_clickthrough"),A&&A()},tapStyle:"compress",children:(0,w.jsx)(f.xv,{size:"200",lineClamp:1,children:(0,w.jsx)("span",{style:{textDecoration:"underline"},children:l})},"pinLinkDomain")})},"pinCredits")})})})]}),!!r&&(0,w.jsx)(S,{boardUrl:s,boardName:c,boardPrivacy:m,pinnerFullName:g,pinnerImageSmallUrl:_,pinnerImageLargeUrl:v})]})}function T({iconColor:e,size:i,isAuth:n,isMainPin:t,pinCreditPrefix:s,onClickTitleOrDomain:c,richMetadataDescription:u,richMetadataTitle:p,richSummaryDisplayName:g,placeSummaryName:_,closeupUnifiedDescription:b,gridTitle:P,storyPinDataId:S,storyPinDataMetadataPinTitle:T,pinDescription:j,pinDomain:I,pinTitle:C,boardId:A,boardUrl:D,boardName:L,boardPrivacy:z,pinnerFullName:O,pinnerImageSmallUrl:M,pinnerImageLargeUrl:E,pinId:F,graphqlRef:R}){const Z=(0,d.ZP)(),{unauthInterstitialDismissed:U,isSeoBot:N}=(0,o.useSelector)((({session:e})=>e)),[B,K]=(0,a.useState)(!1),H=(0,y.HG)(),W=(0,y.Wb)(),{description:$}=(0,v.eK)({richMetadataDescription:u,richSummaryDisplayName:g,placeSummaryName:_,closeupUnifiedDescription:b}),J=(0,v.fs)({pinTitle:C,gridTitle:P,richSummaryDisplayName:g,richMetadataTitle:p,storyPinDataId:S,storyPinDataMetadataPinTitle:T,placeSummaryName:_})||j,Y=!H,q=(0,h.TH)(),G=(0,w.jsxs)(f.xu,{padding:5,children:[(0,w.jsx)(f.xu,{left:!0,position:"absolute",top:!0,color:"default",padding:4,"data-test-id":"close-seo-vase-see-more-button",children:(0,w.jsx)(f.hU,{accessibilityLabel:Z._('Cancel', 'close modal icon', 'close modal icon'),icon:"cancel",size:"sm",onClick:()=>{(0,x.My)("mweb.unauth.see_more.dismissed"),(0,x.LW)({action:"click",pageLocation:q,item:"close-seo-vase-see-more-button"}),K(!1),t&&(0,x.My)("mweb.unauth.see_more.main_pin.dismissed")}})}),(0,w.jsx)(f.xu,{marginBottom:8,children:(0,w.jsx)(f.xv,{align:"center",weight:"bold",children:(0,w.jsx)("span",{className:"deprecatedTextSizeXL",children:Z._('More information', 'more information label', 'more information label')})})}),(0,w.jsx)(k,{description:$,title:J,isAuth:n,pinCreditPrefix:s,onClickTitleOrDomain:c,pinDomain:I,boardId:A,boardUrl:D,boardName:L,boardPrivacy:z,pinnerFullName:O,pinnerImageSmallUrl:M,pinnerImageLargeUrl:E,pinId:F,graphqlRef:R})]});return(0,w.jsxs)(f.xu,{right:!0,"data-test-id":"SeoVaseSeeMoreButton",dangerouslySetInlineStyle:{__style:{float:"right"}},children:[(0,w.jsx)(f.hU,{accessibilityLabel:Z._('See more', 'more information icon', 'more information icon'),icon:"ellipsis",iconColor:e,size:i||"md",onClick:({event:e})=>{e.stopPropagation(),(0,x.My)("mweb.unauth.see_more.shown"),(0,x.LW)({action:"click",pageLocation:q,item:"seo-vase-see-more-button"}),K(!0),t&&(0,x.My)("mweb.unauth.see_more.main_pin.shown")}}),N&&Y?(0,w.jsx)(f.xu,{display:B?"flex":"none",children:G}):(0,w.jsx)(r.ZP,{accessibilityModalLabel:"",mobileHideCloseIcon:!0,mobileIsFullscreen:!0,isOpen:B&&!W,closeOnOutsideClick:!1,onDismiss:()=>{},children:(0,w.jsx)(f.xu,{color:(0,m.Yc)()?"dark":"default",dangerouslySetInlineStyle:{__style:{border:(0,m.Yc)()?void 0:"1px solid #efefef",transition:"transform 0.3s ease-out",WebkitOverflowScrolling:"touch"}},height:"100%",left:!0,maxHeight:"100%",overflow:"auto",position:"fixed",top:!0,width:Y?"100%":"100vw",zIndex:new f.Ry(1),children:(0,w.jsx)(f.xu,{bottom:!0,left:!0,right:!0,top:!0,position:"fixed",padding:5,overflow:"scroll",marginTop:U?0:12,children:G})})}),W&&B&&(0,w.jsx)(l.default,{accessibilityModalLabel:"test",onDismiss:()=>{},children:G})]})}function j(e){var i,n,t,a,o,l,r,s,d,c,u,p,m,g,_,h;const v=(0,b.useFragment)(P,e.graphqlRef);return(0,w.jsx)(T,{iconColor:e.iconColor,size:e.size,isAuth:e.isAuth,isMainPin:e.isMainPin,pinCreditPrefix:e.pinCreditPrefix,onClickTitleOrDomain:e.onClickTitleOrDomain,richMetadataDescription:null!==(i=null==v||null===(n=v.richMetadata)||void 0===n?void 0:n.description)&&void 0!==i?i:"",richMetadataTitle:null!==(t=null==v||null===(a=v.richMetadata)||void 0===a?void 0:a.title)&&void 0!==t?t:"",richSummaryDisplayName:null!==(o=null==v||null===(l=v.richSummary)||void 0===l?void 0:l.displayName)&&void 0!==o?o:"",closeupUnifiedDescription:null!==(r=null==v?void 0:v.closeupUnifiedDescription)&&void 0!==r?r:"",gridTitle:null==v?void 0:v.gridTitle,storyPinDataId:null==v?void 0:v.storyPinDataId,storyPinDataMetadataPinTitle:null==v||null===(s=v.storyPinData)||void 0===s||null===(d=s.metadata)||void 0===d?void 0:d.pinTitle,pinDescription:null==v?void 0:v.description,pinDomain:(null==v?void 0:v.domain)||void 0,pinTitle:null==v?void 0:v.title,boardId:null==v||null===(c=v.board)||void 0===c?void 0:c.entityId,boardUrl:(null==v||null===(u=v.board)||void 0===u?void 0:u.url)||void 0,boardName:(null==v||null===(p=v.board)||void 0===p?void 0:p.name)||void 0,boardPrivacy:(null==v||null===(m=v.board)||void 0===m?void 0:m.privacy)||void 0,pinnerFullName:(null==v||null===(g=v.pinner)||void 0===g?void 0:g.fullName)||void 0,pinnerImageSmallUrl:null==v||null===(_=v.pinner)||void 0===_?void 0:_.imageSmallUrl,pinnerImageLargeUrl:null==v||null===(h=v.pinner)||void 0===h?void 0:h.imageLargeUrl,pinId:null==v?void 0:v.entityId,graphqlRef:v})}function I(e){var i,n,t,a,o,l,r,s,d,c,u,p;const m=(0,_.S6)()(null!==(i=e.pinId)&&void 0!==i?i:""),h=(0,g.gC)()(null!==(n=null==m?void 0:m.board)&&void 0!==n?n:""),v=null==m?void 0:m.pinner;return(0,w.jsx)(T,{iconColor:e.iconColor,size:e.size,isAuth:e.isAuth,isMainPin:e.isMainPin,pinCreditPrefix:e.pinCreditPrefix,onClickTitleOrDomain:e.onClickTitleOrDomain,richMetadataDescription:null!==(t=null==m||null===(a=m.rich_metadata)||void 0===a?void 0:a.description)&&void 0!==t?t:"",richMetadataTitle:null!==(o=null==m||null===(l=m.rich_metadata)||void 0===l?void 0:l.title)&&void 0!==o?o:"",richSummaryDisplayName:null!==(r=null==m||null===(s=m.rich_summary)||void 0===s?void 0:s.display_name)&&void 0!==r?r:"",placeSummaryName:null!==(d=null==m?void 0:m.place_summary)&&void 0!==d?d:"",closeupUnifiedDescription:null!==(c=null==m?void 0:m.closeup_unified_description)&&void 0!==c?c:"",gridTitle:null==m?void 0:m.grid_title,storyPinDataId:null==m?void 0:m.story_pin_data_id,storyPinDataMetadataPinTitle:null==m||null===(u=m.story_pin_data)||void 0===u||null===(p=u.metadata)||void 0===p?void 0:p.pin_title,pinDescription:null==m?void 0:m.description,pinDomain:null==m?void 0:m.domain,pinTitle:null==m?void 0:m.title,boardId:null==h?void 0:h.id,boardUrl:null==h?void 0:h.url,boardName:null==h?void 0:h.name,boardPrivacy:null==h?void 0:h.privacy,pinnerFullName:null==v?void 0:v.full_name,pinnerImageSmallUrl:null==v?void 0:v.image_small_url,pinnerImageLargeUrl:null==v?void 0:v.image_large_url,pinId:null==m?void 0:m.id})}function C(e){var i,n,t,a,o,l,r,s,d,u,p,m;const h=(0,_.S6)()(null!==(i=e.pinId)&&void 0!==i?i:""),v=(0,g.gC)()(null!==(n=null==h?void 0:h.board)&&void 0!==n?n:""),x=null==h?void 0:h.pinner;return(0,c.Z)({name:"PinResource",options:{id:e.pinId,field_set_key:"unauth_ssr_lazy_load"}}),(0,w.jsx)(T,{iconColor:e.iconColor,size:e.size,isAuth:e.isAuth,isMainPin:e.isMainPin,pinCreditPrefix:e.pinCreditPrefix,onClickTitleOrDomain:e.onClickTitleOrDomain,richMetadataDescription:null!==(t=null==h||null===(a=h.rich_metadata)||void 0===a?void 0:a.description)&&void 0!==t?t:"",richMetadataTitle:null!==(o=null==h||null===(l=h.rich_metadata)||void 0===l?void 0:l.title)&&void 0!==o?o:"",richSummaryDisplayName:null!==(r=null==h||null===(s=h.rich_summary)||void 0===s?void 0:s.display_name)&&void 0!==r?r:"",placeSummaryName:null!==(d=null==h?void 0:h.place_summary)&&void 0!==d?d:"",closeupUnifiedDescription:null!==(u=null==h?void 0:h.closeup_unified_description)&&void 0!==u?u:"",gridTitle:null==h?void 0:h.grid_title,storyPinDataId:null==h?void 0:h.story_pin_data_id,storyPinDataMetadataPinTitle:null==h||null===(p=h.story_pin_data)||void 0===p||null===(m=p.metadata)||void 0===m?void 0:m.pin_title,pinDescription:null==h?void 0:h.description,pinDomain:null==h?void 0:h.domain,pinTitle:null==h?void 0:h.title,boardId:null==v?void 0:v.id,boardUrl:null==v?void 0:v.url,boardName:null==v?void 0:v.name,boardPrivacy:null==v?void 0:v.privacy,pinnerFullName:null==x?void 0:x.full_name,pinnerImageSmallUrl:null==x?void 0:x.image_small_url,pinnerImageLargeUrl:null==x?void 0:x.image_large_url,pinId:null==h?void 0:h.id})}function A(e){return e.graphqlRef?(0,w.jsx)(j,{...e}):e.lazyLoadAnnotations?(0,w.jsx)(C,{...e}):(0,w.jsx)(I,{...e})}},23084:(e,i,n)=>{n.d(i,{Z:()=>d,j:()=>s});var t=n(898781),a=n(883119),o=n(773285),l=n(349700),r=n(785893);const s=[0,2,3];function d({hasAffiliatedProducts:e,isPromoted:i,sponsorName:n,sponsorshipStatus:d,textColor:c}){const u=(0,t.ZP)(),p=(0,o.F)().checkExperiment("mweb_web_android_ios_clbc_eu_ad_string").anyEnabled;let m;i?m=(0,l.nk)(u._('Promoted by {{ name }}', 'sponsorship.sponsorshipText.promotedByBrand', 'indicating the username of the person who promoted the pin'),{name:n}):d||0===d?n&&!s.includes(d)?m=(0,l.nk)(u._('Paid partnership with {{ name }}', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when sponsored by a brand'),{name:n}):2!==d&&(m=u._('Paid partnership', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when the pin is sponsored but the sponsorship status is rejected/requested/unaffiliated')):e&&(m=u._('Includes sponsored products', 'sponsorship.sponsorshipText.affiliatedProducts', 'Subtext of pincard attribution for a pin with affiliated products'));const g=p&&!i?"Ad • ":"";return(0,r.jsxs)(a.xv,{color:c,size:"100",children:[g,m]})}},364245:(e,i,n)=>{n.d(i,{Z:()=>w});var t,a=n(667294),o=n(391254),l=n(941646),r=n(111168),s=n(898781),d=n(992750),c=n(867820),u=n(802201),p=n(276775),m=n(883119),g=n(167912),_=n(785893);const h=void 0!==t?t:t=n(85934);function v({direction:e,handleClick:i,testId:n}){const t=(0,s.ZP)(),a=(0,p.TH)();return(0,_.jsx)("div",{style:{alignItems:"center",background:`linear-gradient(to ${"left"===e?"right":"left"}, rgba(255,255,255,1) 25%,rgba(255,255,255,0) 100%)`,border:"none",cursor:"pointer",display:"flex",height:30,lineHeight:25,outline:"none",paddingBottom:4,paddingTop:4,position:"absolute",top:0,width:45,..."right"===e?{right:0,justifyContent:"flex-end",textAlign:"right"}:{left:0}},onClick:e=>{(0,c.LW)({action:"click",pageLocation:a,item:"board-pills-arrow"}),i(e)},role:"button","aria-label":"arrow",tabIndex:-1,"aria-hidden":"true","data-test-id":n,children:(0,_.jsx)(l.Z,{id:"board-pills-arrow",children:(0,_.jsx)(m.JO,{accessibilityLabel:t._('Scroll', 'annotations.scrollArrow', 'Accessibility label for scroll arrow button'),icon:"right"===e?"arrow-forward":"arrow-back",size:8,color:"subtle"})})})}function x({name:e,url:i}){const[n,t]=(0,a.useState)(!1),o=(0,p.TH)();return(0,_.jsx)(m.xu,{"data-test-id":"vase-tag",display:"inlineBlock",marginTop:1,marginEnd:1,paddingX:2,paddingY:1,height:26,color:"secondary",rounding:8,dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),children:(0,_.jsx)(m.xv,{color:n?"subtle":"default",inline:!0,overflow:"breakWord",size:"100",weight:"bold",children:i?(0,_.jsx)(m.rU,{inline:!0,tapStyle:"compress",href:i,rounding:8,onClick:()=>{(0,c.LW)({action:"click",pageLocation:o,item:"vase-tag"})},underline:"hover",children:e}):e})})}function y({pinJoinVisualAnnotation:e,pinJoinAnnotationsWithLinks:i,mode:n}){const[t,r]=(0,a.useState)(!1),[s,u]=(0,a.useState)(!1),g=(0,p.TH)(),h=(0,a.useRef)(null);(0,a.useEffect)((()=>{const e=h.current,i=()=>{if("inlineWithScrollArrows"===n&&h.current){const e=h.current,i=Math.max(0,e.scrollLeft),n=i+e.clientWidth;r(0!==i),u(n<e.scrollWidth)}else r(!1),u(!1)};return i(),null==e||e.addEventListener("scroll",i),()=>{null==e||e.removeEventListener("scroll",i)}}),[n]);const y=e=>i=>{i.preventDefault(),i.stopPropagation(),"right"===e&&(0,c.LW)({action:"click",pageLocation:g,item:"board-pills-arrow-button-right"});const n=h.current;if(!n)return;const t=("left"===e?-1:1)*n.clientWidth*.5;n.scrollLeft=Math.min(Math.max(n.scrollLeft+t,0),n.scrollWidth)},{annotationsWithLinks:f}=(0,d.eK)({pinJoinVisualAnnotation:e,pinJoinAnnotationsWithLinks:i});return(0,_.jsx)(m.kC,{alignItems:"center",justifyContent:"end",children:(0,_.jsxs)(m.xu,{display:"flex",overflow:"auto",width:"100%",position:"relative","data-test-id":"vase-carousel",children:[(0,_.jsx)(o.Z,{unsafeCSS:"\n::-webkit-scrollbar {\n  display: none;\n}\n"}),t&&(0,_.jsx)(v,{direction:"left",handleClick:y("left"),testId:"left-scroll-arrow"}),(0,_.jsx)(m.xu,{overflow:"auto",dangerouslySetInlineStyle:{__style:{scrollBehavior:"smooth",scrollbarWidth:"none",padding:"4px 0",whiteSpace:"nowrap"}},ref:h,display:"expanded"===n?"flex":void 0,wrap:"expanded"===n,children:f.map((({name:e,url:i})=>(0,_.jsx)(x,{name:e,url:i},i||e)))}),s&&(0,_.jsx)(l.Z,{id:"board-pills-arrow-button-right",children:(0,_.jsx)(v,{direction:"right",handleClick:y("right"),testId:"right-scroll-arrow"})})]})})}function f(e){var i;const n=(0,g.useFragment)(h,e.graphqlRef),t=(0,r.Z)(n),a=(null==n||null===(i=n.pinJoin)||void 0===i?void 0:i.visualAnnotation)||[];return a.length<1?null:(0,_.jsx)(y,{mode:e.mode,pinJoinVisualAnnotation:a,pinJoinAnnotationsWithLinks:t||void 0})}function b(e){var i,n,t;const a=(0,u.S6)()(e.pinId||"");return((null==a||null===(i=a.pin_join)||void 0===i?void 0:i.visual_annotation)||[]).length<1?null:(0,_.jsx)(y,{mode:e.mode,pinJoinVisualAnnotation:null==a||null===(n=a.pin_join)||void 0===n?void 0:n.visual_annotation,pinJoinAnnotationsWithLinks:null==a||null===(t=a.pin_join)||void 0===t?void 0:t.annotations_with_links})}function w(e){return e.graphqlRef?(0,_.jsx)(f,{...e}):(0,_.jsx)(b,{...e})}},217013:(e,i,n)=>{n.d(i,{R:()=>o,q:()=>a});var t=n(425288);const{Provider:a,useHook:o}=(0,t.Z)("CloseupPageContext")},997440:(e,i,n)=>{n.d(i,{IS:()=>h,Ys:()=>_,ZP:()=>S,j$:()=>y});var t,a=n(134185),o=n(50286),l=n(349700),r=n(578661),s=n(923297),d=n(802201),c=n(898781),u=n(883119),p=n(167912),m=n(785893);const g=void 0!==t?t:t=n(906587),_=({m:e,h:i,rm:n,rh:t},a)=>e&&(!i||t<=0)?(0,l.nk)(a.ngettext('{{mins}} minute', '{{mins}} minutes', n, 'number showing the minutes to complete a recipe', 'number showing the minutes to complete a recipe'),{mins:n.toString()}):i?(0,l.nk)(a.ngettext('{{hrs}} hour', '{{hrs}} hours', t, 'number showing the hours to complete a recipe', 'number showing the hours to complete a recipe'),{hrs:t.toString()}):null,h=({m:e,h:i,rm:n,rh:t,i18n:a})=>e&&(!i||t<=0)?(0,l.nk)(a._('{{mins}}m', 'number showing minutes to complete a recipe', 'number showing mnutes to complete a recipe'),{mins:n.toString()}):i?(0,l.nk)(a._('{{hrs}}h {{mins}}m', 'number showing hours to complete a recipe', 'number showing hours to complete a recipe'),{hrs:i.toString(),mins:e.toString()}):null,v=(e,i)=>{const n=e&&e.length>0&&e.join(", "),t=i&&i.summary;return n&&t?`${n} • ${t}`:n||t},x=e=>e?e.reduce(((e,i)=>{var n,t;return e+(null!==(n=null===(t=i.ingredients)||void 0===t?void 0:t.length)&&void 0!==n?n:0)}),0):0,y=({cookTimesCookM:e,cookTimesCookH:i,cookTimesTotalM:n,cookTimesTotalH:t,hasCookTimesTotal:a,i18n:o})=>{let l;return l=a?(0,s.X)({m:n||0,h:t||0}):(0,s.X)({m:e||0,h:i||0}),_(l,o)};function f({category:e,ingredients:i,textSize:n="300"}){return(0,m.jsxs)(u.xu,{marginBottom:4,children:[e&&(0,m.jsx)(u.xu,{children:(0,m.jsx)(u.xv,{weight:"bold",size:n,children:e})}),(null!=i?i:[]).map((e=>{var i,t;return(0,m.jsx)(u.xu,{"data-test-id":"recipe-ingredient",itemProp:"recipeIngredient",marginTop:1,children:(0,m.jsxs)(u.xv,{size:n,children:[e.amt||null," ",e.name]})},`${null!==(i=e.name)&&void 0!==i?i:""}-${null!==(t=e.name)&&void 0!==t?t:""}`)}))]})}const b=({categorizedIngredients:e,cookTimes:i,image:n,ingredientCount:t,ingredientsDescription:l,name:s,pinLink:d})=>{var p,g,_,h;const v=(0,c.ZP)(),x=(0,o.ZP)();return y({cookTimesCookM:null==i||null===(p=i.cook)||void 0===p?void 0:p.m,cookTimesCookH:null==i||null===(g=i.cook)||void 0===g?void 0:g.h,cookTimesTotalM:null==i||null===(_=i.total)||void 0===_?void 0:_.m,cookTimesTotalH:null==i||null===(h=i.total)||void 0===h?void 0:h.h,hasCookTimesTotal:!(!i||!i.total),i18n:v})||t||l?(0,m.jsxs)(u.xu,{"data-test-id":"pin-recipe-container",display:"flex",direction:"column",marginTop:8,children:[(0,m.jsxs)(u.xu,{direction:"column",display:"flex",marginTop:4,marginBottom:4,marginEnd:6,overflow:"hidden",children:[(0,m.jsx)(u.xu,{marginBottom:4,children:(0,m.jsx)(u.xv,{weight:"bold",align:"desktop"===x?"start":"center",children:v._('Ingredients', 'Ingredients category heading for recipes', 'Ingredients category heading for recipes')})}),(0,m.jsxs)(a.Z,{itemScope:!0,itemType:r.G,children:[(0,m.jsx)("meta",{content:s,itemProp:"name"}),n&&(0,m.jsx)("meta",{content:n,itemProp:"image"}),Array.isArray(e)&&e.length>0&&(0,m.jsx)(u.xu,{column:12,"data-test-id":"single-column-ingredients",children:e.map((({category:e,ingredients:i},n)=>(0,m.jsx)(u.xu,{marginBottom:2,children:(0,m.jsx)(f,{category:e,ingredients:i,textSize:"300"})},n)))})]})]}),(0,m.jsx)(u.xu,{marginBottom:4,display:"flex",justifyContent:"phone"===x?"center":void 0,children:d&&(0,m.jsx)(u.rU,{href:d,onClick:({dangerouslyDisableOnNavigation:e})=>e(),children:(0,m.jsx)(u.zx,{text:v._('Make it', 'closeup.recipe.make_it_button', 'label for button go to recipe link')})})})]}):null},w=({graphqlRef:e})=>{const i=(0,p.useFragment)(g,e),{imageSpec_474x:n,link:t,richMetadata:a}=i,o=null==a?void 0:a.recipe,l=null==o?void 0:o.categorizedIngredients,r=x(l),s=(null==o?void 0:o.categorizedIngredients)&&v(o.diets,o.servingsSummary);return(0,m.jsx)(b,{categorizedIngredients:l,cookTimes:null==o?void 0:o.cookTimes,image:null==n?void 0:n.url,ingredientCount:r,ingredientsDescription:s,name:null==o?void 0:o.name,pinLink:t})},P=({pinId:e})=>{var i,n;const t=(0,d.S6)()(e),a=(null==t||null===(i=t.rich_metadata)||void 0===i?void 0:i.recipe)||{},{cook_times:o,name:l,categorized_ingredients:r,diets:s,servings_summary:c}=a,u=x(r),p=r&&v(s,c);return(0,m.jsx)(b,{categorizedIngredients:r,cookTimes:o,image:(null===(n=((null==t?void 0:t.images)||{})["474x"])||void 0===n?void 0:n.url)||"",ingredientCount:u,ingredientsDescription:p,name:l,pinLink:(null==t?void 0:t.link)||""})};function S({graphqlRef:e,pinId:i}){return e?(0,m.jsx)(w,{graphqlRef:e}):(0,m.jsx)(P,{pinId:i})}},250946:(e,i,n)=>{n.d(i,{Z:()=>l});var t,a=n(167912);const o=void 0!==t?t:t=n(96795);const l=({pin:e})=>function(e){var i,n,t,a,o,l,r,s,d,c,u,p,m,g,_,h,v,x,y,f,b,w,P,S,k,T,j,I,C,A,D,L,z,O,M,E,F,R,Z,U,N,B,K,H,W,$,J,Y,q,G,V,X,Q,ee,ie,ne,te,ae,oe,le,re,se,de,ce,ue,pe,me,ge,_e,he,ve,xe,ye,fe,be,we,Pe,Se,ke,Te,je,Ie,Ce,Ae,De,Le,ze,Oe,Me,Ee,Fe,Re,Ze,Ue,Ne,Be,Ke,He,We,$e,Je,Ye,qe,Ge,Ve,Xe,Qe,ei,ii,ni,ti,ai,oi,li,ri,si,di,ci,ui,pi,mi,gi,_i,hi,vi,xi,yi,fi,bi,wi,Pi,Si,ki,Ti,ji,Ii,Ci,Ai,Di,Li,zi,Oi,Mi,Ei,Fi,Ri,Zi,Ui,Ni,Bi,Ki,Hi,Wi,$i,Ji;return{"564x":{dominant_color:(null==e||null===(i=e.imageSpec_564x)||void 0===i?void 0:i.dominantColor)||void 0,height:(null==e||null===(n=e.imageSpec_564x)||void 0===n?void 0:n.height)||void 0,type:(null==e||null===(t=e.imageSpec_564x)||void 0===t?void 0:t.type)||void 0,url:(null==e||null===(a=e.imageSpec_564x)||void 0===a?void 0:a.url)||void 0,width:(null==e||null===(o=e.imageSpec_564x)||void 0===o?void 0:o.width)||void 0},"75x75":{dominant_color:(null==e||null===(l=e.imageSpec_75x75)||void 0===l?void 0:l.dominantColor)||void 0,height:(null==e||null===(r=e.imageSpec_75x75)||void 0===r?void 0:r.height)||void 0,type:(null==e||null===(s=e.imageSpec_75x75)||void 0===s?void 0:s.type)||void 0,url:(null==e||null===(d=e.imageSpec_75x75)||void 0===d?void 0:d.url)||void 0,width:(null==e||null===(c=e.imageSpec_75x75)||void 0===c?void 0:c.width)||void 0},"45x45":{dominant_color:(null==e||null===(u=e.imageSpec_45x45)||void 0===u?void 0:u.dominantColor)||void 0,height:(null==e||null===(p=e.imageSpec_45x45)||void 0===p?void 0:p.height)||void 0,type:(null==e||null===(m=e.imageSpec_45x45)||void 0===m?void 0:m.type)||void 0,url:(null==e||null===(g=e.imageSpec_45x45)||void 0===g?void 0:g.url)||void 0,width:(null==e||null===(_=e.imageSpec_45x45)||void 0===_?void 0:_.width)||void 0},"70x70":{dominant_color:(null==e||null===(h=e.imageSpec_70x70)||void 0===h?void 0:h.dominantColor)||void 0,height:(null==e||null===(v=e.imageSpec_70x70)||void 0===v?void 0:v.height)||void 0,type:(null==e||null===(x=e.imageSpec_70x70)||void 0===x?void 0:x.type)||void 0,url:(null==e||null===(y=e.imageSpec_70x70)||void 0===y?void 0:y.url)||void 0,width:(null==e||null===(f=e.imageSpec_70x70)||void 0===f?void 0:f.width)||void 0},"432x292":{dominant_color:(null==e||null===(b=e.imageSpec_432x292)||void 0===b?void 0:b.dominantColor)||void 0,height:(null==e||null===(w=e.imageSpec_432x292)||void 0===w?void 0:w.height)||void 0,type:(null==e||null===(P=e.imageSpec_432x292)||void 0===P?void 0:P.type)||void 0,url:(null==e||null===(S=e.imageSpec_432x292)||void 0===S?void 0:S.url)||void 0,width:(null==e||null===(k=e.imageSpec_432x292)||void 0===k?void 0:k.width)||void 0},"90x90":{dominant_color:(null==e||null===(T=e.imageSpec_90x90)||void 0===T?void 0:T.dominantColor)||void 0,height:(null==e||null===(j=e.imageSpec_90x90)||void 0===j?void 0:j.height)||void 0,type:(null==e||null===(I=e.imageSpec_90x90)||void 0===I?void 0:I.type)||void 0,url:(null==e||null===(C=e.imageSpec_90x90)||void 0===C?void 0:C.url)||void 0,width:(null==e||null===(A=e.imageSpec_90x90)||void 0===A?void 0:A.width)||void 0},"170x":{dominant_color:(null==e||null===(D=e.imageSpec_170x)||void 0===D?void 0:D.dominantColor)||void 0,height:(null==e||null===(L=e.imageSpec_170x)||void 0===L?void 0:L.height)||void 0,type:(null==e||null===(z=e.imageSpec_170x)||void 0===z?void 0:z.type)||void 0,url:(null==e||null===(O=e.imageSpec_170x)||void 0===O?void 0:O.url)||void 0,width:(null==e||null===(M=e.imageSpec_170x)||void 0===M?void 0:M.width)||void 0},"237x":{dominant_color:(null==e||null===(E=e.imageSpec_237x)||void 0===E?void 0:E.dominantColor)||void 0,height:(null==e||null===(F=e.imageSpec_237x)||void 0===F?void 0:F.height)||void 0,type:(null==e||null===(R=e.imageSpec_237x)||void 0===R?void 0:R.type)||void 0,url:(null==e||null===(Z=e.imageSpec_237x)||void 0===Z?void 0:Z.url)||void 0,width:(null==e||null===(U=e.imageSpec_237x)||void 0===U?void 0:U.width)||void 0},"192x":{dominant_color:(null==e||null===(N=e.imageSpec_192x)||void 0===N?void 0:N.dominantColor)||void 0,height:(null==e||null===(B=e.imageSpec_192x)||void 0===B?void 0:B.height)||void 0,type:(null==e||null===(K=e.imageSpec_192x)||void 0===K?void 0:K.type)||void 0,url:(null==e||null===(H=e.imageSpec_192x)||void 0===H?void 0:H.url)||void 0,width:(null==e||null===(W=e.imageSpec_192x)||void 0===W?void 0:W.width)||void 0},"640x":{dominant_color:(null==e||null===($=e.imageSpec_640x)||void 0===$?void 0:$.dominantColor)||void 0,height:(null==e||null===(J=e.imageSpec_640x)||void 0===J?void 0:J.height)||void 0,type:(null==e||null===(Y=e.imageSpec_640x)||void 0===Y?void 0:Y.type)||void 0,url:(null==e||null===(q=e.imageSpec_640x)||void 0===q?void 0:q.url)||void 0,width:(null==e||null===(G=e.imageSpec_640x)||void 0===G?void 0:G.width)||void 0},"750x":{dominant_color:(null==e||null===(V=e.imageSpec_750x)||void 0===V?void 0:V.dominantColor)||void 0,height:(null==e||null===(X=e.imageSpec_750x)||void 0===X?void 0:X.height)||void 0,type:(null==e||null===(Q=e.imageSpec_750x)||void 0===Q?void 0:Q.type)||void 0,url:(null==e||null===(ee=e.imageSpec_750x)||void 0===ee?void 0:ee.url)||void 0,width:(null==e||null===(ie=e.imageSpec_750x)||void 0===ie?void 0:ie.width)||void 0},"345x":{dominant_color:(null==e||null===(ne=e.imageSpec_345x)||void 0===ne?void 0:ne.dominantColor)||void 0,height:(null==e||null===(te=e.imageSpec_345x)||void 0===te?void 0:te.height)||void 0,type:(null==e||null===(ae=e.imageSpec_345x)||void 0===ae?void 0:ae.type)||void 0,url:(null==e||null===(oe=e.imageSpec_345x)||void 0===oe?void 0:oe.url)||void 0,width:(null==e||null===(le=e.imageSpec_345x)||void 0===le?void 0:le.width)||void 0},"70x":{dominant_color:(null==e||null===(re=e.imageSpec_70x)||void 0===re?void 0:re.dominantColor)||void 0,height:(null==e||null===(se=e.imageSpec_70x)||void 0===se?void 0:se.height)||void 0,type:(null==e||null===(de=e.imageSpec_70x)||void 0===de?void 0:de.type)||void 0,url:(null==e||null===(ce=e.imageSpec_70x)||void 0===ce?void 0:ce.url)||void 0,width:(null==e||null===(ue=e.imageSpec_70x)||void 0===ue?void 0:ue.width)||void 0},"400x":{dominant_color:(null==e||null===(pe=e.imageSpec_400x)||void 0===pe?void 0:pe.dominantColor)||void 0,height:(null==e||null===(me=e.imageSpec_400x)||void 0===me?void 0:me.height)||void 0,type:(null==e||null===(ge=e.imageSpec_400x)||void 0===ge?void 0:ge.type)||void 0,url:(null==e||null===(_e=e.imageSpec_400x)||void 0===_e?void 0:_e.url)||void 0,width:(null==e||null===(he=e.imageSpec_400x)||void 0===he?void 0:he.width)||void 0},"200x":{dominant_color:(null==e||null===(ve=e.imageSpec_200x)||void 0===ve?void 0:ve.dominantColor)||void 0,height:(null==e||null===(xe=e.imageSpec_200x)||void 0===xe?void 0:xe.height)||void 0,type:(null==e||null===(ye=e.imageSpec_200x)||void 0===ye?void 0:ye.type)||void 0,url:(null==e||null===(fe=e.imageSpec_200x)||void 0===fe?void 0:fe.url)||void 0,width:(null==e||null===(be=e.imageSpec_200x)||void 0===be?void 0:be.width)||void 0},"216x146":{dominant_color:(null==e||null===(we=e.imageSpec_216x146)||void 0===we?void 0:we.dominantColor)||void 0,height:(null==e||null===(Pe=e.imageSpec_216x146)||void 0===Pe?void 0:Pe.height)||void 0,type:(null==e||null===(Se=e.imageSpec_216x146)||void 0===Se?void 0:Se.type)||void 0,url:(null==e||null===(ke=e.imageSpec_216x146)||void 0===ke?void 0:ke.url)||void 0,width:(null==e||null===(Te=e.imageSpec_216x146)||void 0===Te?void 0:Te.width)||void 0},"150x150":{dominant_color:(null==e||null===(je=e.imageSpec_150x150)||void 0===je?void 0:je.dominantColor)||void 0,height:(null==e||null===(Ie=e.imageSpec_150x150)||void 0===Ie?void 0:Ie.height)||void 0,type:(null==e||null===(Ce=e.imageSpec_150x150)||void 0===Ce?void 0:Ce.type)||void 0,url:(null==e||null===(Ae=e.imageSpec_150x150)||void 0===Ae?void 0:Ae.url)||void 0,width:(null==e||null===(De=e.imageSpec_150x150)||void 0===De?void 0:De.width)||void 0},"236x":{dominant_color:(null==e||null===(Le=e.imageSpec_236x)||void 0===Le?void 0:Le.dominantColor)||void 0,height:(null==e||null===(ze=e.imageSpec_236x)||void 0===ze?void 0:ze.height)||void 0,type:(null==e||null===(Oe=e.imageSpec_236x)||void 0===Oe?void 0:Oe.type)||void 0,url:(null==e||null===(Me=e.imageSpec_236x)||void 0===Me?void 0:Me.url)||void 0,width:(null==e||null===(Ee=e.imageSpec_236x)||void 0===Ee?void 0:Ee.width)||void 0},"200x150":{dominant_color:(null==e||null===(Fe=e.imageSpec_200x150)||void 0===Fe?void 0:Fe.dominantColor)||void 0,height:(null==e||null===(Re=e.imageSpec_200x150)||void 0===Re?void 0:Re.height)||void 0,type:(null==e||null===(Ze=e.imageSpec_200x150)||void 0===Ze?void 0:Ze.type)||void 0,url:(null==e||null===(Ue=e.imageSpec_200x150)||void 0===Ue?void 0:Ue.url)||void 0,width:(null==e||null===(Ne=e.imageSpec_200x150)||void 0===Ne?void 0:Ne.width)||void 0},"60x60":{dominant_color:(null==e||null===(Be=e.imageSpec_60x60)||void 0===Be?void 0:Be.dominantColor)||void 0,height:(null==e||null===(Ke=e.imageSpec_60x60)||void 0===Ke?void 0:Ke.height)||void 0,type:(null==e||null===(He=e.imageSpec_60x60)||void 0===He?void 0:He.type)||void 0,url:(null==e||null===(We=e.imageSpec_60x60)||void 0===We?void 0:We.url)||void 0,width:(null==e||null===($e=e.imageSpec_60x60)||void 0===$e?void 0:$e.width)||void 0},"736x":{dominant_color:(null==e||null===(Je=e.imageSpec_736x)||void 0===Je?void 0:Je.dominantColor)||void 0,height:(null==e||null===(Ye=e.imageSpec_736x)||void 0===Ye?void 0:Ye.height)||void 0,type:(null==e||null===(qe=e.imageSpec_736x)||void 0===qe?void 0:qe.type)||void 0,url:(null==e||null===(Ge=e.imageSpec_736x)||void 0===Ge?void 0:Ge.url)||void 0,width:(null==e||null===(Ve=e.imageSpec_736x)||void 0===Ve?void 0:Ve.width)||void 0},"290x":{dominant_color:(null==e||null===(Xe=e.imageSpec_290x)||void 0===Xe?void 0:Xe.dominantColor)||void 0,height:(null==e||null===(Qe=e.imageSpec_290x)||void 0===Qe?void 0:Qe.height)||void 0,type:(null==e||null===(ei=e.imageSpec_290x)||void 0===ei?void 0:ei.type)||void 0,url:(null==e||null===(ii=e.imageSpec_290x)||void 0===ii?void 0:ii.url)||void 0,width:(null==e||null===(ni=e.imageSpec_290x)||void 0===ni?void 0:ni.width)||void 0},"136x136":{dominant_color:(null==e||null===(ti=e.imageSpec_136x136)||void 0===ti?void 0:ti.dominantColor)||void 0,height:(null==e||null===(ai=e.imageSpec_136x136)||void 0===ai?void 0:ai.height)||void 0,type:(null==e||null===(oi=e.imageSpec_136x136)||void 0===oi?void 0:oi.type)||void 0,url:(null==e||null===(li=e.imageSpec_136x136)||void 0===li?void 0:li.url)||void 0,width:(null==e||null===(ri=e.imageSpec_136x136)||void 0===ri?void 0:ri.width)||void 0},"600x":{dominant_color:(null==e||null===(si=e.imageSpec_600x)||void 0===si?void 0:si.dominantColor)||void 0,height:(null==e||null===(di=e.imageSpec_600x)||void 0===di?void 0:di.height)||void 0,type:(null==e||null===(ci=e.imageSpec_600x)||void 0===ci?void 0:ci.type)||void 0,url:(null==e||null===(ui=e.imageSpec_600x)||void 0===ui?void 0:ui.url)||void 0,width:(null==e||null===(pi=e.imageSpec_600x)||void 0===pi?void 0:pi.width)||void 0},"550x":{dominant_color:(null==e||null===(mi=e.imageSpec_550x)||void 0===mi?void 0:mi.dominantColor)||void 0,height:(null==e||null===(gi=e.imageSpec_550x)||void 0===gi?void 0:gi.height)||void 0,type:(null==e||null===(_i=e.imageSpec_550x)||void 0===_i?void 0:_i.type)||void 0,url:(null==e||null===(hi=e.imageSpec_550x)||void 0===hi?void 0:hi.url)||void 0,width:(null==e||null===(vi=e.imageSpec_550x)||void 0===vi?void 0:vi.width)||void 0},"30x30":{dominant_color:(null==e||null===(xi=e.imageSpec_30x30)||void 0===xi?void 0:xi.dominantColor)||void 0,height:(null==e||null===(yi=e.imageSpec_30x30)||void 0===yi?void 0:yi.height)||void 0,type:(null==e||null===(fi=e.imageSpec_30x30)||void 0===fi?void 0:fi.type)||void 0,url:(null==e||null===(bi=e.imageSpec_30x30)||void 0===bi?void 0:bi.url)||void 0,width:(null==e||null===(wi=e.imageSpec_30x30)||void 0===wi?void 0:wi.width)||void 0},"474x":{dominant_color:(null==e||null===(Pi=e.imageSpec_474x)||void 0===Pi?void 0:Pi.dominantColor)||void 0,height:(null==e||null===(Si=e.imageSpec_474x)||void 0===Si?void 0:Si.height)||void 0,type:(null==e||null===(ki=e.imageSpec_474x)||void 0===ki?void 0:ki.type)||void 0,url:(null==e||null===(Ti=e.imageSpec_474x)||void 0===Ti?void 0:Ti.url)||void 0,width:(null==e||null===(ji=e.imageSpec_474x)||void 0===ji?void 0:ji.width)||void 0},"1200x":{dominant_color:(null==e||null===(Ii=e.imageSpec_1200x)||void 0===Ii?void 0:Ii.dominantColor)||void 0,height:(null==e||null===(Ci=e.imageSpec_1200x)||void 0===Ci?void 0:Ci.height)||void 0,type:(null==e||null===(Ai=e.imageSpec_1200x)||void 0===Ai?void 0:Ai.type)||void 0,url:(null==e||null===(Di=e.imageSpec_1200x)||void 0===Di?void 0:Di.url)||void 0,width:(null==e||null===(Li=e.imageSpec_1200x)||void 0===Li?void 0:Li.width)||void 0},"222x":{dominant_color:(null==e||null===(zi=e.imageSpec_222x)||void 0===zi?void 0:zi.dominantColor)||void 0,height:(null==e||null===(Oi=e.imageSpec_222x)||void 0===Oi?void 0:Oi.height)||void 0,type:(null==e||null===(Mi=e.imageSpec_222x)||void 0===Mi?void 0:Mi.type)||void 0,url:(null==e||null===(Ei=e.imageSpec_222x)||void 0===Ei?void 0:Ei.url)||void 0,width:(null==e||null===(Fi=e.imageSpec_222x)||void 0===Fi?void 0:Fi.width)||void 0},"400x300":{dominant_color:(null==e||null===(Ri=e.imageSpec_400x300)||void 0===Ri?void 0:Ri.dominantColor)||void 0,height:(null==e||null===(Zi=e.imageSpec_400x300)||void 0===Zi?void 0:Zi.height)||void 0,type:(null==e||null===(Ui=e.imageSpec_400x300)||void 0===Ui?void 0:Ui.type)||void 0,url:(null==e||null===(Ni=e.imageSpec_400x300)||void 0===Ni?void 0:Ni.url)||void 0,width:(null==e||null===(Bi=e.imageSpec_400x300)||void 0===Bi?void 0:Bi.width)||void 0},orig:{dominant_color:(null==e||null===(Ki=e.imageSpec_orig)||void 0===Ki?void 0:Ki.dominantColor)||void 0,height:(null==e||null===(Hi=e.imageSpec_orig)||void 0===Hi?void 0:Hi.height)||void 0,type:(null==e||null===(Wi=e.imageSpec_orig)||void 0===Wi?void 0:Wi.type)||void 0,url:(null==e||null===($i=e.imageSpec_orig)||void 0===$i?void 0:$i.url)||void 0,width:(null==e||null===(Ji=e.imageSpec_orig)||void 0===Ji?void 0:Ji.width)||void 0}}}((0,a.useFragment)(o,e))},568388:(e,i,n)=>{n.d(i,{Z:()=>g,z:()=>d});var t=n(667294),a=n(702664),o=n(391254),l=n(281180),r=n(883119),s=n(785893);const d=2500,c={__style:{right:"-105px"}},u={__style:{animationName:"SavePin_AnimateIn, SavePin_CircleAnimateOut",animationDuration:"0.3s, 0.25s",animationDelay:"0.5s, 1.3s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out",backgroundColor:"rgba(255, 255, 255, 0.6)"}},p={__style:{animationName:"SavePin_AnimateIn, SavePin_AnimateOut",animationDuration:"0.3s, 0.35s",animationDelay:"0.5s, 1.55s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out",border:"4px solid white"}},m={__style:{animationName:"SavePin_NavButtonAnimation",animationDuration:"0.8s",animationDelay:"1.65s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out"}},g=(0,t.memo)((({children:e})=>{const i=(0,l.Tt)(),n=(0,a.useSelector)((({pins:e})=>{const n=null==i?void 0:i.last_repin_id;return n?e[n]:null})),t=(0,a.useSelector)((({session:e})=>e.isShowingRepinAnimation));if(!n||!t)return e;const{images:d}=n,{height:g,width:_,url:h}=(null==d?void 0:d["136x136"])||(null==d?void 0:d["236x"])||{};return(0,s.jsxs)(r.kC,{alignItems:"stretch",flex:"grow",justifyContent:"center",children:[(0,s.jsx)(o.Z,{unsafeCSS:"\n@keyframes SavePin_AnimateIn {\n  from {\n    transform: scale(0.0);\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n    transform: scale(1.0);\n  }\n}\n@keyframes SavePin_CircleAnimateOut {\n  from {\n    transform: scale(1.0);\n    opacity: 1;\n  }\n  to {\n    transform: scale(0.8);\n    opacity: 0;\n  }\n}\n@keyframes SavePin_AnimateOut {\n  from {\n    transform: translateY(0);\n    opacity: 1;\n  }\n  to {\n    transform: translateY(100px);\n    width: 0px;\n    height: 0px;\n    opacity: 0;\n  }\n}\n@keyframes SavePin_NavButtonAnimation {\n  0% {\n    transform: scale(1.0);\n  }\n  50% {\n    transform: scale(1.3);\n  }\n  100% {\n    transform: scale(1.0);\n  }\n}\n"}),(0,s.jsxs)(r.xu,{position:"relative",children:[(0,s.jsxs)(r.xu,{width:250,height:250,position:"absolute",right:!0,bottom:!0,dangerouslySetInlineStyle:c,children:[(0,s.jsx)(r.xu,{height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",opacity:0,rounding:"circle",dangerouslySetInlineStyle:u}),(0,s.jsx)(r.xu,{width:100,height:100,position:"absolute",margin:"auto",left:!0,right:!0,top:!0,bottom:!0,opacity:0,rounding:3,dangerouslySetInlineStyle:p,children:(0,s.jsx)(r.zd,{rounding:2,height:"100%",width:"100%",wash:!0,children:(0,s.jsx)(r.Ee,{alt:"pin-image",fit:"cover",naturalWidth:null!=_?_:1,naturalHeight:null!=g?g:1,src:null!=h?h:""})})})]}),(0,s.jsx)(r.xu,{dangerouslySetInlineStyle:m,children:e})]})]})}))},569046:(e,i,n)=>{n.d(i,{Z:()=>d});var t=n(702664),a=n(568388),o=n(14890),l=n(185894),r=n(343341),s=n(785893);const d=(0,o.compose)((0,t.connect)(null,(function(e){return{hideRepinAnimation:()=>e((0,l.a5)()),showRepinAnimation:()=>e((0,l.WF)())}})),(function(e){return i=>{const{hideRepinAnimation:n,showRepinAnimation:t}=i,{showToast:o,showOneToast:l}=(0,r.F9)();return(0,s.jsx)(e,{...i,showToast:o,showOneToast:l,showRepinConfirmation:(e,i)=>{i||t(),setTimeout((()=>{i||n(),o(e)}),a.z)}})}}))},285230:(e,i,n)=>{n.d(i,{Z:()=>r});var t=n(166300),a=n(898781),o=n(883119),l=n(785893);function r({isPinRep:e}){const i=(0,a.ZP)(),n=e?"default":"inverse",r=(0,l.jsx)(o.xu,{padding:e?1:0,"data-test-id":"unavailable-pin",children:(0,l.jsx)(o.xu,{color:e?"secondary":"dark",top:!0,height:e?314:"100vh",position:e?"static":"absolute",rounding:e?4:0,width:"100%",children:(0,l.jsxs)(o.kC,{height:"100%",direction:"column",justifyContent:"center",alignItems:"center",children:[(0,l.jsx)(o.xu,{paddingY:4,children:(0,l.jsx)(o.JO,{accessibilityLabel:i._('Pin not available', 'story-pin.Closeup.UnavailableStoryPin.icon.accessibilityLabel', 'Accessibility label on icon'),color:n,icon:"alert",size:20})}),(0,l.jsx)(o.xv,{align:"center",color:n,weight:"bold",children:i._('Unavailable', 'story-pin.Closeup.UnavailableStoryPin.Unavailable', 'Text on an unavailable idea Pin that has been deleted')}),(0,l.jsx)(o.xu,{paddingY:1,children:(0,l.jsx)(o.xv,{align:"center",color:n,children:i._('Removed by the creator', 'story-pin.Closeup.UnavailableStoryPin.Removed', 'Text on an unavailable idea Pin explaining it has been removed by its creator')})})]})})});return e?r:(0,l.jsx)(o.xu,{height:"100vh",children:(0,l.jsx)(t.Z,{children:r})})}},957980:(e,i,n)=>{n.d(i,{Z:()=>_});var t=n(667294),a=n(248975),o=n(898781),l=n(667679),r=n(755506),s=n(349700),d=n(864537),c=n(867820),u=n(276775),p=n(883119),m=n(785893);const g=({children:e,onTap:i})=>{const[n,a]=(0,t.useState)(!1);return(0,m.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:n?"rgba(0, 0, 0, 0.06)":void 0}},rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,m.jsx)(p.iP,{onTap:i,onBlur:()=>a(!1),onFocus:()=>a(!0),onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:e})})};function _({desktopContextMenuState:e,pin:i,pinner:n,isMainPinImage:_,source:h}){var v,x,y,f;const b=(0,o.ZP)(),w=(0,u.k6)(),P=(0,a.Z)({images:i.images,embedSrc:null===(v=i.embed)||void 0===v?void 0:v.src,embedType:null===(x=i.embed)||void 0===x?void 0:x.type});let S=(0,r.wS)(i);var k;S&&"string"!=typeof S||(S=null!==(k=i.link_domain)&&void 0!==k&&k.official_user?i.link_domain.official_user:n);const{full_name:T,username:j}=S,I=null!==(y=i.pin_join)&&void 0!==y&&y.seo_breadcrumbs&&i.pin_join.seo_breadcrumbs.length>0?i.pin_join.seo_breadcrumbs[0]:null,C=null==I?void 0:I.name,A=null==I?void 0:I.url,[D]=(null===(f=i.pin_join)||void 0===f?void 0:f.visual_annotation)||[],L=(0,d.NO)(D),z=`/search/pins/?q=${encodeURIComponent(L)}&rs=image_only_attribution`,O=(0,l.Z)(),M="dweb.plp.ellipsis.button"===h;return P?(0,m.jsxs)(p.xu,{position:"fixed",dangerouslySetInlineStyle:{__style:{top:`${e.yPosition}px`,left:`${e.xPosition}px`}},zIndex:new p.Ry(99999),color:"default",rounding:2,borderStyle:"shadow",display:"flex",direction:"column",paddingY:3,paddingX:2,maxWidth:250,children:[(0,m.jsx)(p.xu,{rounding:2,paddingX:3,paddingY:2,role:"img",children:(0,m.jsx)(p.JO,{icon:"pinterest",accessibilityLabel:b._('Pinterest logo', 'dweb.unauth.context_menu.pinterest_logo', 'Pinterest logo in the context menu'),color:"brandPrimary"})}),(0,m.jsx)(g,{onTap:()=>{(0,c.My)("dweb.unauth.context_menu.save_image"),O({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"tap.unauth_context_menu.download_image",desktopOptions:{modalType:"signup",modalOptions:{source:"saveButtonExp",container:"save",savePinId:i.id}}})},children:(0,m.jsx)(p.xv,{size:"200",weight:"bold",children:b._('Save image', 'dweb.unauth.context_menu.link.save_image', 'Link to save the image')})}),!(_||M&&!i.link)&&(0,m.jsx)(g,{onTap:()=>{(0,c.My)(M?"dweb.unauth.context_menu.open_plp_new_tab.from.ellipsis.button":"dweb.unauth.context_menu.open_plp_new_tab"),window.open(M?i.link:`/pin/${i.id}/`),M||O({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"tap.unauth_context_menu.open_plp_new_tab",desktopOptions:{modalType:"login"}})},children:(0,m.jsx)(p.xv,{size:"200",weight:"bold",children:b._('Open link in new tab', 'dweb.unauth.context_menu.link.plp_new_tab', 'Link to open the pin in a new tab')})}),(D||!(!C||!A))&&(0,m.jsx)(g,{onTap:()=>{(0,c.My)("dweb.unauth.context_menu.see_more_pins"),A?w.push(`${A}`):w.push(z)},children:C?(0,m.jsx)(p.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,s.nk)(b._('See more ideas about {{levelOneInterestName}}', 'dweb.unauth.context_menu.link.see_more_ideas.l1', 'Link to see similar pins'),{levelOneInterestName:C})}):(0,m.jsx)(p.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,s.nk)(b._('See more ideas about {{interestTag}}', 'dweb.unauth.context_menu.link.see_more_ideas.interest_tag', 'Link to see similar pins'),{interestTag:D})})}),!(!T||!j)&&(0,m.jsx)(g,{onTap:()=>{(0,c.My)("dweb.unauth.context_menu.more_from_creator"),w.push(`/${j}/`)},children:(0,m.jsx)(p.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,s.nk)(b._('See more from {{full_name}}', 'dweb.unauth.context_menu.link.more_from_creator', 'Link to see more ideas from this creator'),{full_name:T})})}),(0,m.jsx)(t.Fragment,{children:(0,m.jsx)(g,{onTap:()=>{(0,c.My)("dweb.unauth.context_menu.login_signup"),O({reason:"CLICK_LOGIN_OR_SIGNUP",attributionLabel:"tap.unauth_context_menu.login_signup",desktopOptions:{modalType:"login"}})},children:(0,m.jsx)(p.xv,{size:"200",weight:"bold",children:b._('Log in or sign up for more', 'dweb.unauth.context_menu.link.login_signup', 'Link to log in or sign up')})})})]}):null}},743873:(e,i,n)=>{n.d(i,{n:()=>b,Z:()=>w});var t=n(702664),a=n(474635),o=n(104788),l=n(966476);const r=({children:e,fallback:i})=>(()=>{const e=(0,t.useSelector)((e=>{var i;return!(null==e||null===(i=e.session)||void 0===i||!i.isSeoBot)})),i=(0,l.Z)();return!e&&!i})()?i||null:e;var s=n(949372),d=n(898781),c=n(125920),u=n(867820);var p=n(643010),m=n(968228),g=n(266725),_=n(773285),h=n(385740),v=n(53987),x=n(883119),y=n(276775),f=n(785893);const b=56;function w(){const e=(0,d.ZP)(),i=(0,y.TH)(),n=(0,y.k6)(),{viewType:l,viewParameter:w}=(0,h.SU)(),{userAgentPlatform:P,userAgent:S}=(0,t.useSelector)((({session:e})=>e)),k=(0,m.Rp)({platform:P,userAgent:S}),T=(0,c.Z)(),j=function(){const{isSeoBot:e}=(0,t.useSelector)((({session:e})=>e));return(i,n)=>{e||(0,u.NC)(i,n)}}(),I=(0,s.Z)(),{checkExperiment:C}=(0,_.F)(),A=e._('Log in', 'Label for log in button', 'Label for log in button'),D=e._('Sign up', 'Text on button on the top bar that leads users to signing up.', 'Text on button on the top bar that leads users to signing up.'),L=e._('Download', 'mweb.unauth.interstitial_upsell.download_button_text', 'CTA on the app interstitial upsell to install the app'),z=!k&&!(0,v.Xn)(i),O=((0,v.J3)(i)||(0,v.$Y)(i))&&!C("lex_follow_button").group.includes("main_cta"),M=!I||T||O?"signup":"download",E=(z?A.length:0)+("signup"===M?D.length:0)+("download"===M?L.length:0);return(0,f.jsx)(x.xu,{dangerouslySetInlineStyle:{__style:{boxShadow:"0 1px 0 0 rgba(0, 0, 0, 0.08)",backgroundColor:(0,p.Yc)()?"#333":"white",transition:"all 225ms cubic-bezier(0.0,0.0,0.2,1) 500ms",transform:"translateY(0)"}},top:!0,left:!0,width:"100vw",position:"relative",paddingX:3,children:(0,f.jsxs)(x.xu,{alignItems:"center","data-test-id":"unauth-header",direction:"row",display:"flex",justifyContent:"between",children:[(0,f.jsx)(x.iP,{accessibilityLabel:e._('Pinterest App', 'Pinterest icon for app upsell', 'Pinterest icon for app upsell'),onTap:()=>{(0,u.LW)({action:"click",pageLocation:i,within:"unauth-header",item:"pinterest-logo"})},children:(0,f.jsxs)(x.xu,{alignItems:"center",display:"flex",direction:"row",marginEnd:3,children:[(0,f.jsx)(x.xu,{alignItems:"center",display:"flex",height:b,justifyContent:"center",rounding:2,"data-test-id":"pinterest-logo-icon",children:(0,f.jsx)(x.iP,{role:"link",tapStyle:"none",href:"/",children:k?(0,f.jsx)(o.Z,{size:24}):(0,f.jsx)(x.hU,{icon:"pinterest",iconColor:"red",padding:1,size:"xl",accessibilityLabel:e._('Pinterest App', 'Pinterest icon for app upsell', 'Pinterest icon for app upsell')})})}),(0,f.jsx)(x.xu,{paddingY:2,paddingX:1,"data-test-id":"pinterest-logo-text",children:E<18&&(0,f.jsxs)(x.xu,{children:[(0,f.jsx)(x.X6,{color:"error",size:"400",overflow:"normal",children:k?e._('Pinterest Lite', 'Pinterest lite brand for the app upsell', 'Pinterest lite brand for the app upsell'):e._('Pinterest', 'Pinterest brand for the app upsell', 'Pinterest brand for the app upsell')}),k&&(0,f.jsx)(x.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"pre-wrap"}},children:(0,f.jsx)(x.xu,{children:(0,f.jsx)(x.xv,{inline:!0,size:"100",color:"subtle",children:e._('Save space on your device', 'Unauth app upsell copy that describe Pinterest product core value to users', 'Unauth app upsell copy that describe Pinterest product core value to users')})})})]})})]})}),(0,f.jsx)(r,{children:(0,f.jsxs)(x.xu,{marginEnd:0,flex:"none",alignItems:"center",display:"flex",direction:"row","data-test-id":"UnauthAppUpsellButton",children:[z&&(0,f.jsx)(x.xu,{"data-test-id":"login-button",children:(0,f.jsx)(x.zx,{fullWidth:!0,color:"white",onClick:()=>{(0,u.LW)({action:"click",pageLocation:i,within:"unauth-header",item:"login-button"}),(0,g.So)({component:13198,element:30,view_type:l,view_parameter:w}),j("press_header_login"),n.push("/login",i.state)},size:"md",text:A})}),"signup"===M?(0,f.jsx)(x.xu,{"data-test-id":"signup-button",children:(0,f.jsx)(x.zx,{fullWidth:!0,color:O?"red":"gray",onClick:()=>{(0,u.LW)({action:"click",pageLocation:i,within:"unauth-header",item:"signup-button"}),(0,g.So)({component:13198,element:31,view_type:l,view_parameter:w}),j("press_header_signup"),n.push("/signup",i.state)},size:"md",text:D})}):(0,f.jsx)(x.xu,{"data-test-id":"download-button",children:(0,f.jsx)(a.Z,{componentType:13198,within:"unauth-header",children:({handleOpenApp:e})=>(0,f.jsx)(x.zx,{fullWidth:!0,color:(0,v.j8)(i)||C("lex_follow_button").group.includes("main_cta")?"gray":"red",onClick:()=>e(),size:"md",text:L})})})]})})]})})}},884979:(e,i,n)=>{n.d(i,{Yw:()=>P,ZP:()=>I,nt:()=>w});var t,a=n(474635),o=n(155247),l=n(248975),r=n(30700),s=n(949372),d=n(898781),c=n(250946),u=n(667679),p=n(755506),m=n(349700),g=n(864537),_=n(867820),h=n(217013),v=n(773285),x=n(276775),y=n(883119),f=n(167912),b=n(785893);const w=250,P={WebkitTouchCallout:"none",WebkitUserSelect:"none",MozUserSelect:"none",MsUserSelect:"none",KhtmlUserSelect:"none",UserSelect:"none"},S=void 0!==t?t:t=n(167074);function k({mwebContextMenuState:e,openShareModal:i,setMwebContextMenuState:n,pinId:t,images:c,embedSrc:p,embedType:f,sourceUserUsername:P,sourceUserFullname:S,pinDownloadFilename:k,pinImageSignature:T,pinJoinVisualAnnotation:j,pinJoinSeoBreadcrumbName:I,pinJoinSeoBreadcrumbUrl:C}){var A;const D=(0,d.ZP)(),L=(0,x.k6)(),z=(0,l.Z)({images:c,embedSrc:p,embedType:f}),{isChromeOnIOS:O}=(0,h.R)(),M=I,E=C,F=null!==(A=null==j?void 0:j[0])&&void 0!==A?A:void 0,R=(0,g.NO)(F),Z=`/search/pins/?q=${encodeURIComponent(R)}&rs=image_only_attribution`,U=(0,u.Z)(),N=(0,h.R)(),{checkExperiment:B}=(0,v.F)(),K=(0,s.Z)();return z?(0,b.jsxs)(y.xu,{position:"absolute",dangerouslySetInlineStyle:{__style:{top:`${e.yPosition}px`,left:`${e.xPosition}px`}},zIndex:new y.Ry(99999),color:"default",rounding:2,borderStyle:"shadow",display:"flex",direction:"column",paddingY:3,paddingX:2,maxWidth:w,children:[(0,b.jsxs)(y.xu,{rounding:2,paddingX:3,paddingY:2,role:"img",direction:"row",display:"flex",alignItems:"center",justifyContent:"between",children:[(0,b.jsx)(y.JO,{icon:"pinterest",accessibilityLabel:D._('Pinterest logo', 'unauth.mweb.context_menu.pinterest_logo', 'Pinterest logo in the context menu'),color:"brandPrimary"}),(0,b.jsx)(y.xu,{alignSelf:"end",children:(0,b.jsx)(y.iP,{onTap:({event:e})=>{e.stopPropagation(),n(null)},children:(0,b.jsx)(y.JO,{icon:"cancel",accessibilityLabel:D._('Dismiss mweb context menu', 'unauth.mweb.context_menu.dismiss', 'Dismiss icon in mweb context menu')})})})]}),"main"===e.context&&K&&B("mweb_main_pin_ltcm_open_in_app").anyEnabled&&(0,b.jsx)(a.Z,{componentType:18,within:"mweb-context-menu",children:({handleOpenApp:e})=>(0,b.jsx)(y.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,b.jsx)(y.iP,{onTap:({event:i})=>{i.stopPropagation(),n(null),e({deepLinkUri:`/pin/${t}/`}),(0,_.My)("unauth.mweb.context_menu.open_in_app")},children:(0,b.jsx)(y.xv,{size:"200",weight:"bold",children:D._('Open in App', 'unauth.mweb.context_menu.link.open_in_app', 'Link to open the pin in Pinterest app')})})})}),["download","short_d"].includes(e.context)?(0,b.jsx)(y.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,b.jsx)(o.Z,{imgSrc:z,isChromeOnIOS:O,filename:k,pinId:t,viewType:3,imageSignature:T,children:e=>(0,b.jsx)(r.Z,{pressState:"none",onTouch:i=>{e().then((()=>{i.stopPropagation(),n(null),(0,_.My)("unauth.mweb.context_menu.download_image")}))},children:(0,b.jsx)(y.xv,{size:"200",weight:"bold",children:D._('Download image', 'unauth.mweb.related_pin.context_menu.link.download_image', 'Link to download image')})})})}):(0,b.jsx)(y.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,b.jsx)(y.iP,{onTap:({event:e})=>{e.stopPropagation(),n(null),(0,_.My)("unauth.mweb.context_menu.save_image"),e&&N.saveButtonConfig.onSaveButtonClick(e)},children:(0,b.jsx)(y.xv,{size:"200",weight:"bold",children:D._('Save image', 'unauth.mweb.context_menu.link.save_image', 'Link to save image')})})}),["download","save","short_s","short_d"].includes(e.context)&&(0,b.jsx)(y.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,b.jsx)(y.iP,{onTap:({event:e})=>{e.stopPropagation(),n(null),i&&i(!0),(0,_.My)("unauth.mweb.context_menu.share_related_pin")},children:(0,b.jsx)(y.xv,{size:"200",weight:"bold",children:D._('Share image', 'unauth.mweb.context_menu.link.share_menu', 'Link to open the share menu')})})}),(0,b.jsx)(y.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,b.jsx)(y.iP,{onTap:({event:e})=>{e.stopPropagation(),n(null),(0,_.My)("unauth.mweb.context_menu.open_plp_new_tab"),window.open(`/pin/${t}/`)},children:(0,b.jsx)(y.xv,{size:"200",weight:"bold",children:D._('Open link in new tab', 'unauth.mweb.context_menu.link.plp_new_tab', 'Link to open the pin in a new tab')})})}),["download","save","main"].includes(e.context)&&(F||!(!M||!E))&&(0,b.jsx)(y.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,b.jsx)(y.iP,{onTap:()=>{(0,_.My)("unauth.mweb.context_menu.see_more_pins"),L.push(E?`${E}`:Z)},children:M?(0,b.jsx)(y.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,m.nk)(D._('See more ideas about {{levelOneInterestName}}', 'unauth.mweb.context_menu.link.see_more_ideas.l1', 'Link to see similar pins'),{levelOneInterestName:M})}):(0,b.jsx)(y.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,m.nk)(D._('See more ideas about {{interestTag}}', 'unauth.mweb.context_menu.link.see_more_ideas.interest_tag', 'Link to see similar pins'),{interestTag:F})})})}),["download","save","main"].includes(e.context)&&!(!S||!P)&&(0,b.jsx)(y.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,b.jsx)(y.iP,{onTap:()=>{(0,_.My)("unauth.mweb.context_menu.more_from_creator"),L.push(`/${P}/`)},children:(0,b.jsx)(y.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,m.nk)(D._('See more from {{full_name}}', 'unauth.context_menu.link.more_from_creator', 'Link to see more ideas from this creator'),{full_name:S})})})}),(0,b.jsx)(y.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,b.jsx)(y.iP,{onTap:({event:e})=>{e.stopPropagation(),n(null),(0,_.My)("unauth.mweb.context_menu.login_signup"),U({reason:"CLICK_LOGIN_OR_SIGNUP",attributionLabel:"tap.unauth_context_menu.login_signup"})},children:(0,b.jsx)(y.xv,{size:"200",weight:"bold",children:D._('Log in or sign up for more', 'unauth.mweb.context_menu.link.login_signup', 'Link to log in or sign up')})})})]}):null}function T(e){var i,n,t,a,o;const l=(0,f.useFragment)(S,e.graphqlRef),r=(0,c.Z)({pin:l});let s;var d,u;(s=null!=l&&l.nativeCreator?l.nativeCreator:null!=l&&l.linkDomain?l.linkDomain.officialUser:(null==l?void 0:l.originPinner)||(null==l?void 0:l.pinner),s&&"string"!=typeof s)||(s=null!==(d=null==l||null===(u=l.linkDomain)||void 0===u?void 0:u.officialUser)&&void 0!==d?d:null==l?void 0:l.pinner);return(0,b.jsx)(k,{...e,embedSrc:(null==l?void 0:l.embed)&&l.embed.src,embedType:(null==l?void 0:l.embed)&&l.embed.type,images:r,sourceUserUsername:null===(i=s)||void 0===i?void 0:i.username,sourceUserFullname:null===(n=s)||void 0===n?void 0:n.fullName,pinJoinVisualAnnotation:null==l||null===(t=l.pinJoin)||void 0===t?void 0:t.visualAnnotation,pinJoinSeoBreadcrumbName:(null==l||null===(a=l.pinJoin)||void 0===a?void 0:a.seoBreadcrumbs)&&(l.pinJoin.seoBreadcrumbs.length>0?l.pinJoin.seoBreadcrumbs[0].name:null),pinJoinSeoBreadcrumbUrl:(null==l||null===(o=l.pinJoin)||void 0===o?void 0:o.seoBreadcrumbs)&&(l.pinJoin.seoBreadcrumbs.length>0?l.pinJoin.seoBreadcrumbs[0].url:null),pinId:(null==l?void 0:l.entityId)||""})}function j(e){var i,n,t,a,o,l;const{pin:r,pinner:s}=e;let d=(0,p.wS)(r);var c,u;d&&"string"!=typeof d||(d=null!==(c=null===(u=r.link_domain)||void 0===u?void 0:u.official_user)&&void 0!==c?c:s);const{full_name:m,username:g}=null!==(i=d)&&void 0!==i?i:{},_=r.grid_title||r.closeup_unified_description,h=r.image_signature;return(0,b.jsx)(k,{...e,embedSrc:null===(n=r.embed)||void 0===n?void 0:n.src,embedType:null===(t=r.embed)||void 0===t?void 0:t.type,images:r.images,sourceUserUsername:m,sourceUserFullname:g,pinDownloadFilename:_,pinImageSignature:h,pinJoinVisualAnnotation:null===(a=r.pin_join)||void 0===a?void 0:a.visual_annotation,pinJoinSeoBreadcrumbName:(null===(o=r.pin_join)||void 0===o?void 0:o.seo_breadcrumbs)&&(r.pin_join.seo_breadcrumbs.length>0?r.pin_join.seo_breadcrumbs[0].name:null),pinJoinSeoBreadcrumbUrl:(null===(l=r.pin_join)||void 0===l?void 0:l.seo_breadcrumbs)&&(r.pin_join.seo_breadcrumbs.length>0?r.pin_join.seo_breadcrumbs[0].url:null),pinId:r.id})}function I(e){return e.graphqlRef?(0,b.jsx)(T,{...e}):(0,b.jsx)(j,{...e})}},125920:(e,i,n)=>{n.d(i,{Z:()=>g});var t=n(702664),a=n(172071),o=n(949372),l=n(436851),r=n(968228),s=n(50286),d=n(276775),c=n(780280),u=n(419940),p=n(622096),m=n(53987);const g=()=>{const{isBot:e}=(0,c.B)(),i=(0,d.TH)(),{userAgentPlatform:n,userAgent:g}=(0,t.useSelector)((e=>e.session)),_=(0,o.Z)(),h=(0,s.ml)();return!e&&!(h&&!_)&&!(0,r.Rp)({platform:n,userAgent:g})&&((0,m.uM)(i)||(0,m.am)(i))&&!(0,u.P)()&&!(e=>!!(0,l.d)(e)&&((0,p.qn)("ufausfiiab")||(a.Z.increment("unauth.floating_app_upsell.suppress_for_instagram_in_app_browser"),(0,p.Nh)("ufausfiiab","1")),!0))(g)}},111168:(e,i,n)=>{n.d(i,{Z:()=>r});var t,a=n(667294),o=n(167912);const l=void 0!==t?t:t=n(569772),r=e=>{var i;const n=(0,o.useFragment)(l,e),t=null==n||null===(i=n.pinJoin)||void 0===i?void 0:i.annotationsWithLinksArray;return(0,a.useMemo)((()=>null==t?void 0:t.reduce(((e,i)=>(i.name&&(e[i.name]={name:i.name,url:i.url}),e)),{})),[t])}},803035:(e,i,n)=>{n.d(i,{Z:()=>r});var t=n(667294),a=n(157983),o=n(883119),l=n(785893);const r=function({badgeSize:e,badgeSpacing:i,fullName:n,verifiedType:r,truncate:s=!1}){const d=n.split(" "),c=d.slice(0,d.length-1).join(" "),u=" ".concat(d[d.length-1]);return s?(0,l.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,l.jsx)(o.xv,{lineClamp:1,weight:"bold",children:n}),(0,l.jsx)(o.xu,{flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:i}},paddingX:1,children:(0,l.jsx)(a.Z,{isVerifiedMerchant:"verifiedMerchant"===r,size:e,showVerifiedIdentity:"verifiedIdentity"===r})})]}):(0,l.jsxs)(t.Fragment,{children:[(0,l.jsx)("span",{children:c}),(0,l.jsxs)("span",{style:{whiteSpace:"nowrap"},children:[u," ",(0,l.jsx)(o.xu,{display:"inlineBlock",flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:i}},children:(0,l.jsx)(a.Z,{isVerifiedMerchant:"verifiedMerchant"===r,size:e,showVerifiedIdentity:"verifiedIdentity"===r})})]})]})}},558150:(e,i,n)=>{function t(e){if(e){const i=e.shopping_flags||[],n={pin_is_shop_the_look:i.includes(2),pin_show_pdp:e.is_eligible_for_pdp||e.is_oos_product||e.is_stale_product,is_available:i.includes(1),is_product_pin_v2:i.includes(5),is_rich_product_pin:i.includes(6)};return JSON.stringify(n)}}n.d(i,{Z:()=>t})},550407:(e,i,n)=>{n.d(i,{M:()=>p,g:()=>m});var t=n(667294),a=n(203345),o=(n(883119),n(867820)),l=n(743873),r=n(50286),s=n(957980),d=n(884979),c=n(785893);const u=(0,t.createContext)((()=>()=>{})),p=()=>(0,t.useContext)(u),m=({children:e,feedRef:i,viewType:n,viewParameter:p})=>{const[m,g]=(0,t.useState)(null),[_,h]=(0,t.useState)(null),[v,x]=(0,t.useState)(!1),[y,f]=(0,t.useState)(null),[b,w]=(0,t.useState)(null),[P,S]=(0,t.useState)(!1),k=(0,r.HG)(),T=()=>{document&&document.body&&document.body.style&&(document.body.style.overflow="unset")};(0,t.useEffect)((()=>T),[]);const j=(0,t.useCallback)((e=>n=>{const{pin:t,pinner:a,deviceOptions:r}=e;if(n.stopPropagation(),n.preventDefault(),f(t),a&&w(a),r.isDesktop)S(r.isMainPinImage),(0,o.My)("dweb.unauth.context_menu.open_menu"),g({xPosition:n.clientX,yPosition:n.clientY}),document&&document.body&&document.body.style&&(document.body.style.overflow="hidden");else{(0,o.My)("mweb.unauth.related_pin.context_menu.open");const e=n.changedTouches.item(0);if(i&&i.current){const n=i.current.getBoundingClientRect(),t=Math.min(e.pageX-n.left,n.width-d.nt),a=e.pageY-l.n;h({xPosition:t,yPosition:a,context:r.context})}}}),[i]),I=!!m;return(0,t.useEffect)((()=>{const e=()=>{g(null),T(),(0,o.My)("dweb.unauth.context_menu.click_away")};return I&&document.addEventListener("click",e),()=>{I&&document.removeEventListener("click",e)}}),[I]),(0,c.jsx)(u.Provider,{value:j,children:(0,c.jsxs)(t.Fragment,{children:[e,k&&m&&y&&b&&(0,c.jsx)(s.Z,{desktopContextMenuState:m,pin:y,pinner:b,isMainPinImage:!!P}),!k&&_&&y&&b&&(0,c.jsx)(d.ZP,{mwebContextMenuState:_,pin:y,pinner:b,openShareModal:x,setMwebContextMenuState:h}),!k&&v&&y&&(0,c.jsx)(a.default,{objectType:1,isOpen:v,onDismiss:()=>x(!1),objectId:y.id,hideContactsSuggestions:!0,element:12016,viewType:n,viewParameter:p})]})})}},634291:(e,i,n)=>{n.d(i,{Z:()=>s});var t=n(667294),a=n(807609),o=n(957161);const l=e=>{const i=(0,o.qn)(e);if(!i)return null;try{return JSON.parse(i)}catch(n){return null}};var r=n(773285);const s=()=>{const[e,i]=function(e){const i=(0,a.Z)(),[n,r]=(0,t.useState)(i?null:l(e));return(0,t.useEffect)((()=>{r(l(e))}),[e]),[n,(0,t.useCallback)((i=>{r(i),null===i?(0,o.L_)(e):(0,o.Nh)(e,JSON.stringify(i))}),[e])]}("unauthSavedPins"),n=null!==(d=null==(s=e)?void 0:s.pins)&&void 0!==d?d:[];var s,d;const c=e=>i((e=>e.length?{pins:e}:null)(e)),{checkExperiment:u}=(0,r.F)(),p=()=>{const{anyEnabled:e,group:i}=u("pcons_mweb_save_v3");let t=0;if(e){const e=i.split("_")[1];t=e?parseInt(e,10):0}return n.length<t};return{pins:n,save:e=>{p()&&c(n.filter((({id:i})=>i!==e.id)).concat([e]))},unsave:e=>c(n.filter((({id:i})=>i!==e))),isSaved:e=>n.some((({id:i})=>i===e)),clear:()=>c([]),canSaveMore:p}}},419940:(e,i,n)=>{n.d(i,{C:()=>s,P:()=>r});var t=n(172071),a=n(53987),o=n(622096);const l="msmrsfda",r=()=>!!(0,o.qn)(l),s=e=>{(0,a.LM)(e)&&!r()&&((0,o.Nh)(l,"1"),t.Z.incrementNow("mobile_signup_modal.rules.suppress_for_discover_article",1))}},716235:(e,i,n)=>{n.d(i,{a:()=>a,k:()=>o});var t=n(983360);const a=e=>({type:t.cZ,payload:e}),o=e=>({type:t.U1,payload:e})},185894:(e,i,n)=>{n.d(i,{Cp:()=>p,FK:()=>u,H5:()=>I,MI:()=>b,Mj:()=>T,O0:()=>y,QZ:()=>c,W:()=>S,WF:()=>h,Wz:()=>C,YV:()=>_,a5:()=>v,dz:()=>P,e0:()=>x,e2:()=>d,gH:()=>f,iW:()=>k,n1:()=>s,rm:()=>g,wb:()=>j,xu:()=>w});var t=n(172071),a=n(360903),o=n(983360),l=n(53987),r=n(408285);const s=()=>({type:o.Wn}),d=()=>({type:o.lj}),c=e=>({type:o.j_,payload:{unauthSavePinId:e}}),u=()=>({type:o.JG}),p=()=>({type:o.pV}),m=e=>({type:o.BM,payload:e}),g=e=>({type:o.a9,payload:{from:e}}),_=()=>e=>{e(m({preparingNewVersion:!0})),(0,r.Ng)().catch((()=>(t.Z.increment("mweb_service_worker.prepareNewVersion.error",1),(0,r.Dm)()))).finally((()=>{t.Z.increment("mweb.new_version.refresh",1),e(m({newVersionAvailable:!0,preparingNewVersion:!1}))})),(0,a.Qi)()},h=()=>({type:o.cs}),v=()=>({type:o.tg}),x=e=>({type:o.$t,payload:{steps:e}}),y=()=>({type:o.LB}),f=e=>({type:o.aj,payload:e}),b=e=>({type:o.HQ,payload:e}),w=e=>({type:o.vH,payload:{viewedImageSignature:e}}),P=e=>({type:o.le,payload:{pins:e}}),S=()=>({type:o.L6}),k=e=>e?{type:o.Pz,payload:e}:{type:o.OO},T=(e,i,n)=>t=>t(((e,i,n)=>({type:o.AO,payload:{isShareMenuOpen:e,objectType:i,objectId:n}}))(e,i,n)),j=()=>({type:o.dO}),I=e=>({type:o.UD,payload:e}),C=(e,i)=>{let n;return n=e?(0,l.bo)(e)?"today":i&&(0,l.dZ)(e,i)?"own_section":i&&(0,l.J)(e,i)?"own_board":(0,l.OJ)(e)?"section":(0,l.am)(e)?"board":(0,l.L6)(e)?"closeup":(0,l.C$)(e)?"home":(0,l.cD)(e)?"profile":(0,l.En)(e)?"search":(0,l.$V)(e)?"topic":"":"",{type:o.il,payload:n}}},310227:(e,i,n)=>{n.d(i,{Dv:()=>o,Ml:()=>l,Oc:()=>t,mv:()=>a});const t=16,a=4,o={SAVED:"rgba(0, 0, 0, 0.33)",VISUAL:"rgba(0, 0, 0, 0.1)",LEGO_WASH:"rgba(0, 0, 0, 0.4)"},l=120},436851:(e,i,n)=>{n.d(i,{$:()=>a,d:()=>t});const t=e=>/instagram/i.test(e||""),a=e=>(e||"").includes("[Pinterest/iOS]")||(e||"").includes("[Pinterest/Android]")},81226:(e,i,n)=>{function t(e){const i=Math.round(e/1e3),n=i%60;return Math.floor(i/60)+":"+(n<10?"0":"")+n}n.d(i,{Z:()=>t})},903095:(e,i,n)=>{n.d(i,{Mi:()=>a,lO:()=>o});var t=n(425288);const{Provider:a,useMaybeHook:o}=(0,t.Z)("pageContext")},373420:(e,i,n)=>{n.r(i),n.d(i,{default:()=>d});var t=n(667294),a=n(124580),o=n(223815),l=n(968121),r=n(883119),s=n(785893);function d({_dangerouslyDisableScrollBoundaryContainer:e,accessibilityModalLabel:i,align:n,allowClickAndDrag:d,allowMediaPlay:c,allowScroll:u,children:p,closeOnOutsideClick:m,footer:g,heading:_,onDismiss:h,role:v,size:x,subHeading:y}){(0,t.useEffect)((()=>(a.Z.pause(),function(){a.Z.resume()})),[]);return(0,s.jsx)(r.mh,{zIndex:l.b7,children:(0,s.jsx)(o.Z,{allowClickAndDrag:d,allowEsc:!0,allowMediaPlay:c,allowScroll:u,children:(0,s.jsx)(r.u_,{_dangerouslyDisableScrollBoundaryContainer:e,accessibilityModalLabel:i,align:n,closeOnOutsideClick:m,heading:_,footer:g,onDismiss:()=>{a.Z.resume(),h()},role:v,size:x,subHeading:y,children:p})})})}},166300:(e,i,n)=>{n.d(i,{Z:()=>s});var t=n(50286),a=n(883119),o=n(444445),l=n(134879),r=n(785893);const s=({children:e,roundedForLargeDevice:i})=>{const n="phone"!==(0,t.ZP)()&&i;return(0,l.V)()?(0,r.jsx)(a.xu,{marginStart:-o.D6,marginEnd:-o.D6,rounding:n?6:void 0,overflow:n?"hidden":void 0,children:(0,r.jsx)(l.C,{value:!1,children:e})}):e}},627995:(e,i,n)=>{n.d(i,{Z:()=>c});var t=n(927104),a=n(898781),o=n(903095),l=n(112690),r=n(883119),s=n(785893);const d=(e,i)=>{let n={};if(e){const{pinData:t,viewData:a}=e;n={unauth_click_pin_id:t.id,unauth_click_pin_image_signature:t.imageSignature},3===i?n={...n,unauth_page_pin_id:a.id,unauth_page_pin_image_signature:a.imageSignature}:5===i&&(n={...n,unauth_page_board_id:a.id})}return n},c=({clickLoggingOptions:e,domain:i,link:n,onClick:c})=>{var u;const p=null===(u=(0,o.lO)())||void 0===u?void 0:u.logging,m=(0,a.ZP)(),g=(0,l.Z)(),_=()=>[{event_type:8948},{event_type:12},{event_type:101,element:0,aux_data:d(e.unauthRankingLoggingData,null==p?void 0:p.viewType)}].map((i=>({component:0,element:162,view_type:null==p?void 0:p.viewType,view_parameter:null==p?void 0:p.viewParameter,aux_data:e.auxData,object_id_str:e.auxData.objectId,...i})));return(0,s.jsx)(r.iP,{onTap:({event:e})=>{e.stopPropagation(),_().forEach((e=>g(e))),c(e)},children:(0,s.jsxs)(r.xu,{marginBottom:4,marginStart:4,position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",left:!0,bottom:!0,children:[(0,s.jsx)(r.xu,{marginEnd:1,children:(0,s.jsx)(r.JO,{size:9,icon:"arrow-up-right",color:"light",accessibilityLabel:m._('Link', 'unauth.pin.domain.link', 'Link to take them to the source of the iamge')})}),(0,s.jsx)("a",{href:n,onClick:e=>{e.stopPropagation(),_().forEach((e=>g(e))),c(e)},rel:"nofollow noopener noreferrer",target:"_blank",type:"button",children:(0,s.jsx)(r.xv,{size:"200",inline:!0,weight:"bold",lineClamp:1,color:"inverse",children:(0,t.Z)(i,27)})})]})})}},55275:(e,i,n)=>{n.d(i,{P:()=>l,t:()=>r});var t=n(6637);const a=()=>{};const o={complaint:function(e,i){t.Z.create("PinFeedbackResource",e).callUpdate().then((()=>i()))},followBoard:function(e,i){t.Z.create("BoardFollowResource",e).callCreate().then((()=>i()))},followPinner:function(e,i){t.Z.create("UserFollowResource",e).callCreate().then((()=>i()))},followTopic:function(e,i){t.Z.create("InterestFollowResource",e).callCreate().then((()=>i()))},newsHubPinHide:function(e,i){t.Z.create("NewsHubPinFeedbackResource",e).callUpdate().then((()=>i()))},promotedComplaint:function(e,i){t.Z.create("PinFeedbackResource",e).callUpdate().then((()=>i()))},relatedPinHide:function(e,i){t.Z.create("RelatedPinFeedbackResource",e).callUpdate().then((()=>i()))},reportPin:function(e,i){i()},showAdReasons:function(e,i){i()},unfollowBoard:function(e,i){t.Z.create("BoardFollowResource",e).callDelete().then((()=>i()))},unfollowPinner:function(e,i){t.Z.create("UserFollowResource",e).callDelete().then((()=>i()))},unfollowTopic:function(e,i){t.Z.create("InterestFollowResource",e).callDelete().then((()=>i()))},unrelatedSearchPin:function(e,i){t.Z.create("SearchPinFeedbackResource",e).callUpdate().then((()=>i()))}},l=["complaint","relatedPinHide","unrelatedSearchPin","promotedComplaint","newsHubPinHide","unfollowBoard","unfollowPinner","unfollowTopic"];function r(e,i,n=a){const t=e?o[e]:null;return t?t(i,n):n()}},680046:(e,i,n)=>{n.d(i,{EF:()=>u,XZ:()=>d,ZP:()=>r,nb:()=>c,yl:()=>s});var t=n(966113),a=n(55275),o=n(760372);const l=e=>e.length>32?`${e.substring(0,32).trim()}...`:e,r=({i18n:e,interpolateNamedTemplate:i})=>({getLearnMoreUrl:e=>{switch(e){case 1:return t.Z.settings.HELP_PROMOTED_PINS_RETARGETED_PIN_URL;case 2:case 3:return t.Z.settings.HELP_PROMOTED_PINS_LOOKALIKE_TARGETING_URL;default:return t.Z.settings.HELP_PROMOTED_PINS_URL}},getRecommendationDescription:({ad_match_reason:n,board:t,feedbackType:a,makeNavigateLink:o,pinner:r,promoter:s,recommendationReason:d,sourceInterest:c})=>{switch(a){case"pfy":return e._('This Pin was inspired by your recent activity', 'Pin feedback reason', 'Pin feedback reason');case"pfyBoard":const{name:a,url:u}=d.board,p=o("navigation",u,a);return i(e._('This Pin was inspired by your board {{ boardLink }}', 'Pin feedback - inspired by your board', 'Pin feedback - inspired by your board'),{boardLink:p});case"topic":const{name:m,url_name:g}=c,_=o("topicUrl",`/topics/${g}`,m);return i(e._('This Pin was inspired by {{ formattedTopic }}', 'Pin feedback', 'Pin feedback'),{formattedTopic:_});case"followed":const h=`/${r.username}`,v=o("boardUrl",t.url,l(t.name)),x=o("pinnerUrl",h,l(r.full_name));return r.explicitly_followed_by_me?i(e._('This Pin is from {{ formattedPinner }}, a profile you follow', 'Pin feedback', 'Pin feedback'),{formattedPinner:x}):i(e._('This Pin is from {{ formattedBoard }}, a board you follow', 'Pin feedback', 'Pin feedback'),{formattedBoard:v});case"promoted":switch(n){case 1:case 2:case 3:return e._('This ad was personalized for you using info from one of our partners', 'Pin feedback', 'Pin feedback');default:const{full_name:n,username:t}=s,a=o("promotedLink",t?"/"+t+"/":"/",n);return i(e._('{{ promoterLink }} paid to have this Pin show up where\n          you\u2019d be more likely to notice it', 'Pin feedback', 'Pin feedback'),{promoterLink:a})}default:return null}},getFeedbackType({board:e,feedback:i,viewParameter:n,pin:{promoter:t,is_downstream_promotion:a,recommendation_reason:o},pinner:l}){const r=i&&i.type;return t&&!a?"promoted":r||((e=>!!e&&"FOLLOWED_INTEREST"!==e.reason&&"FOLLOWING_FEED"!==e.reason&&"RECENT_FOLLOWED_BOARD"!==e.reason&&!0)(o)?o.board?"pfyBoard":"pfy":o&&"FOLLOWED_INTEREST"===o.reason?"topic":e&&e.followed_by_me||l&&l.explicitly_followed_by_me?"followed":140===n||144===n||141===n||145===n||139===n||3173===n?"related":92===n?"default":3082===n?"newsHub":null)},getHidePinAction:({feedbackData:e,feedbackType:i,pinId:n,recommendationReasonId:t,pinFeedbackType:a,complaintReason:o,throughId:l,throughProperties:r,clientTrackingParams:s})=>{const d="promoted"===i;let c,u;switch(i){case"promoted":c="promotedComplaint";break;case"search":c="unrelatedSearchPin";break;case"related":c="relatedPinHide";break;case"newsHub":c="newsHubPinHide";break;default:c="complaint"}switch(i){case"search":u={query:e.query,pin_id:n};break;case"related":u={pin:n};break;case"newsHub":u={pinId:n,newsId:e.newsId};break;default:u={complaint_reason:o||0,pin_id:n,...t?{recommendation_reason_id:t}:{},feedback_type:a||1,promoted:d,...l?{through_id:l}:{},...r?{through_properties:r}:{},...s?{client_tracking_params:s}:{}}}return{action:c,actionOptions:u}},getUnfollowAction:({board:n,feedbackType:t,makeNavigateLink:a,pinner:l,sourceInterest:r})=>{if("topic"===t){if(r){const{id:n,name:t,url_name:l}=r,s=a("topicUrl",`/topics/${l}`,t,!0),d=i(e._('We\u2019ll show you less Pins from {{ formattedTopic }} in the future.', 'pin.contextualMenu.feedback.unfollowTopic.subtitle', 'Confirmation text after unfollowing a topic'),{formattedTopic:s});return{action:"unfollowTopic",actionOptions:{interest_id:n,interest_list:o.X},title:"",subTitle:d}}}else if("followed"===t&&n&&l){const{id:t,name:o,url:r}=n||{},{explicitly_followed_by_me:s,full_name:d,username:c}=l,u=`/${c}`,p=a("boardUrl",r,o,!0),m=a("pinnerUrl",u,d,!0);let g=s?i(e._('You\u2019ve unfollowed {{ formattedPinner }}\u2019s Board {{ formattedBoard }}. You can follow it again by searching for it.', 'Confirmation text after unfollowing a board', 'Confirmation text after unfollowing a board'),{formattedPinner:m,formattedBoard:p}):i(e._('You\u2019ve unfollowed {{ formattedBoard }}. You can follow it again by searching for it.', 'Confirmation text after unfollowing a board', 'Confirmation text after unfollowing a board'),{formattedBoard:p});return g=s?i(e._('You unfollowed {{ formattedPinner }} and won\u2019t see Pins they save anymore.', 'Confirmation text after unfollowing a user', 'Confirmation text after unfollowing a user'),{formattedPinner:m}):i(e._('You unfollowed the board {{ formattedBoard }} and won\u2019t see Pins saved to it anymore.', 'Confirmation text after unfollowing a board', 'Confirmation text after unfollowing a board'),{formattedBoard:p}),{action:"unfollowBoard",actionOptions:{board_id:t},title:"",subTitle:g}}return null}});function s(e){return null!=e&&e.reason_id?e.reason_id:null!=e&&e.board?e.board.id:null!=e&&e.pin?e.pin.id:null!=e&&e.interest?e.interest.id:""}function d(e){return null==e?void 0:e.through_properties}function c(e){switch(e){case"promoted":return 60;case"followed":case"topic":return 100;case"pfyBoard":case"pfy":return 58}}function u(e,i,n,t,o,l,r){return()=>{const s={...e,undo:!0};let d=i;"unfollowPinner"===i?d="followPinner":"unfollowBoard"===i?d="followBoard":"unfollowTopic"===i&&(d="followTopic"),(0,a.t)(d,s),l(n),r({event_type:101,component:0,element:11181,view_type:t,view_parameter:o})}}},248975:(e,i,n)=>{function t({embedSrc:e,embedType:i,images:n,preferredResolution:t}){if(!e&&!i&&!n)return"";if("gif"===i)return e||"";const a=n;if(!a)return"";if(t){const e="474x"===t&&a["474x"]||"236x"===t&&a["236x"]||a["736x"];if(e&&e.url)return e.url}const o=Object.keys(a).map((e=>{try{const i=e.split("x")[0];return Number.isNaN(Number(i))?(a[i]=a[e],i):e}catch(i){return""}}));o.sort();const l=o.pop();return a[l]&&a[l].url||""}n.d(i,{Z:()=>t})},958007:(e,i,n)=>{n.d(i,{Z:()=>o});var t=n(992750);const a=e=>(e||"").trim().replace(/\s+/g," "),o=({storyPinDataId:e,pinDescription:i,richMetadataDescription:n,richSummaryDisplayName:o,placeSummaryName:l,closeupDescription:r,closeupUnifiedDescription:s})=>!!e?a(i):a((0,t.eK)({richMetadataDescription:n,richSummaryDisplayName:o,placeSummaryName:l,closeupUnifiedDescription:s}).description)||a(s||"")||a(r)||a(i)||a(n)||""},992750:(e,i,n)=>{n.d(i,{hP:()=>u,fs:()=>s,eK:()=>d,Ly:()=>c,RC:()=>l,EU:()=>r});const t=/\s\s+/g,a=e=>e.replace(t," ");var o=n(883561);const l=({storyPinDataMetadataPinTitle:e,pinTitle:i})=>e||i,r=(e,i)=>e?e.trim().length>i?(0,o.ZP)(e.trim(),i).trim():e.trim():"",s=({pinTitle:e,gridTitle:i,richSummaryDisplayName:n,richMetadataTitle:t,storyPinDataId:a,storyPinDataMetadataPinTitle:o,placeSummaryName:l})=>{const s=o||e,d=r(i,200);return d||(n||(l||(t||(a&&s?s:null))))},d=e=>{var i,n,t,l;const{richSummaryDisplayName:r,placeSummaryName:s}=e,d=null!==(i=e.pinJoinVisualAnnotation)&&void 0!==i?i:[],c=null!==(n=e.pinJoinAnnotationsWithLinks)&&void 0!==n?n:{},u=null!==(t=e.richMetadataDescription)&&void 0!==t?t:"",p=null!==(l=e.closeupUnifiedDescription)&&void 0!==l?l:"",m=d.map((e=>(c||{})[e]||{name:e,url:""}));let g="";const _=(({richSummaryDisplayName:e,placeSummaryName:i})=>e||i||"")({richSummaryDisplayName:r,placeSummaryName:s}).toLocaleLowerCase().trim(),h=u.toLocaleLowerCase().trim(),v=p.toLocaleLowerCase().trim();return p&&p.length>3&&v!==_?g=p:u&&u.length>3&&h!==_&&(g=u),g&&(g=a((0,o.ZP)(g,496)).trim()),{description:g,annotationsWithLinks:m}},c=({pinTitle:e,gridTitle:i,richSummaryDisplayName:n,richMetadataTitle:t,storyPinDataId:a,storyPinDataMetadataPinTitle:o,placeSummaryName:l,pinJoinVisualAnnotation:r,pinJoinAnnotationsWithLinks:c})=>{const{annotationsWithLinks:u}=d({pinJoinVisualAnnotation:r,pinJoinAnnotationsWithLinks:c}),p=(u||[]).map((e=>e.name)),m=e=>(e||[])[0]||null;return s({pinTitle:e,gridTitle:i,richSummaryDisplayName:n,richMetadataTitle:t,storyPinDataId:a,storyPinDataMetadataPinTitle:o,placeSummaryName:l})||m(r)||m(p)||e},u=(e,i,n,t)=>{var a;let o=(a=e,"string"==typeof a?a:"").trim();if(!n)return t&&t.trim().length?t:o;t&&t.trim().length&&(o=t);let l=n;return l&&l.length>0&&(l=l.join(", "),o&&(o+=" "),o+=l),o}},760372:(e,i,n)=>{n.d(i,{X:()=>t});const t="favorited"},813401:(e,i,n)=>{n.d(i,{kf:()=>h,l5:()=>g,of:()=>p,xC:()=>_,yz:()=>m});var t=n(667294),a=n(172071),o=n(829407),l=n(807609),r=n(30287),s=n(425288),d=n(785893);const{Provider:c,useMaybeHook:u}=(0,s.Z)("PwaContext"),p=({children:e,initialContext:i})=>{const[n,l]=(0,t.useState)(null),s=i||{pwaType:"unknown",twaType:null},u=s.pwaType;(0,o.Z)((()=>{const e=(0,r.FB)(window)||"unknown";l(e),u!==e&&a.Z.increment("pwa.type_mismatch",1,{serverPwaType:u,clientPwaType:e,conflict:"unknown"!==u&&"unknown"!==e})}));const p="unknown"===u&&n?n:u,m=s.twaType,g=(0,t.useMemo)((()=>({pwaType:p,twaType:m})),[p,m]);return(0,d.jsx)(c,{value:g,children:e})},m=()=>{var e;const i=u();return null!==(e=null==i?void 0:i.pwaType)&&void 0!==e?e:"unknown"},g=()=>{var e;const i=u();return null!==(e=null==i?void 0:i.twaType)&&void 0!==e?e:null},_=()=>"android-twa"===m(),h=()=>{const e=m(),i=(0,l.Z)();return"unknown"===e&&i?null:"windows"===e}},561195:(e,i,n)=>{n.d(i,{A:()=>s,Z:()=>d});var t=n(667294),a=n(498913),o=n.n(a),l=n(883119),r=n(785893);const s=({fill:e,width:i,color:n})=>{const a="half"===e?(0,r.jsxs)(t.Fragment,{children:[(0,r.jsx)(l.xu,{position:"absolute",children:(0,r.jsx)(l.JO,{accessibilityLabel:"",color:"default",icon:"star-half",size:12})}),(0,r.jsx)(l.JO,{accessibilityLabel:"",color:"subtle",icon:"star",size:12})]}):(0,r.jsx)(l.JO,{accessibilityLabel:"",color:"full"===e?"default":"subtle",icon:"star",size:12});return(0,r.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{marginRight:"3px"}},display:"inlineBlock",children:a})};function d({max_rating:e,rating:i,width:n,color:a}){const l=[],d=function(e,i){return 5*(i=i<=e?i:e)/e}(parseFloat(e)||5,parseFloat(i)||0);if(Number.isNaN(d))return null;const c=Math.floor(d),u=d-c;return o()(c,(e=>l.push((0,r.jsx)(s,{color:a,fill:"full",width:n},e)))),u>=.75?l.push((0,r.jsx)(s,{color:a,fill:"full",width:n},l.length)):u>=.25&&l.push((0,r.jsx)(s,{color:a,fill:"half",width:n},l.length)),o()(5-l.length,(()=>l.push((0,r.jsx)(s,{color:a,fill:"empty",width:n},l.length)))),(0,r.jsx)(t.Fragment,{children:l})}},923297:(e,i,n)=>{function t({m:e=0,h:i=0}){let n;return n=i<=0?i:e>45?i+1:e>15?i+.5:i,{m:e,h:i,rm:i>0?0:e,rh:n}}function a(e){const i=Math.floor(e/3600);return t({m:Math.floor(e%3600/60),h:i})}n.d(i,{X:()=>t,u:()=>a})},134185:(e,i,n)=>{n.d(i,{Z:()=>a});var t=n(785893);const a=e=>{const i=e.itemType?{itemScope:!0,itemType:e.itemType}:{};return(0,t.jsx)("div",{...i,children:e.children||null})}},578661:(e,i,n)=>{n.d(i,{G:()=>t});const t="https://schema.org/Recipe"},857079:(e,i,n)=>{n.d(i,{Z:()=>o});var t=n(883119),a=n(785893);function o({accessibilityLabel:e}){return(0,a.jsx)(t.kC,{alignItems:"center",justifyContent:"center",children:(0,a.jsx)(t.$j,{accessibilityLabel:e,show:!0})})}},497997:(e,i,n)=>{n.d(i,{Z:()=>l});var t=n(667294);const a=(0,t.createContext)();var o=n(785893);function l({children:e,fallback:i,dangerouslyServerRenderForGraphQL:n=!1}){const l=i||null;(0,t.useContext)(a);return(0,o.jsx)(t.Suspense,{fallback:l,children:e})}},947599:(e,i,n)=>{n.d(i,{Z:()=>t});const t=n(497997).Z},864537:(e,i,n)=>{n.d(i,{Jc:()=>r,NO:()=>l,R3:()=>o,ge:()=>c,th:()=>s});var t=n(643913);const a=["and","that","but","or","as","if","when","than","because","while","where","after","so","though","since","until","whether","before","although","nor","like","once","unless","now","except","the","a","an","san","for","in","with"],o={AUTO_COMPLETE_DEFAULT:"query",AUTO_COMPLETE_HASHTAG:"hashtag",AUTO_COMPLETE_RECENT_SEARCH:"recent_query",AUTO_COMPLETE_RECOMMENDED_SEARCH:"recommended_query",AUTO_COMPLETE_TRENDING:"trending",TYPO_AUTO_CORRECT_ORIGINAL:"typo_auto_original",USER_INPUT:"typed",SEARCH_GUIDE:"add_refine"};function l(e){return(e||"").trim().replace(/\s+/g," ")}function r({type:e,term:i="",index:n}){switch(e){case o.USER_INPUT:case o.AUTO_COMPLETE_HASHTAG:case o.TYPO_AUTO_CORRECT_ORIGINAL:return`${i}|${e}`;case o.AUTO_COMPLETE_DEFAULT:return`${i}|autocomplete|${n}`;case o.AUTO_COMPLETE_RECENT_SEARCH:return`${i}|recentsearch|${n}`;case o.AUTO_COMPLETE_TRENDING:return`${i}|trending|${n}`;case o.AUTO_COMPLETE_RECOMMENDED_SEARCH:return`${i}|recommended|${n}`;case o.SEARCH_GUIDE:return`${i}|guide|word|${n}`;default:return""}}function s({queryStates:e}){return 0===e.length?"":"&"+(0,t.Z)({term_meta:e.map((e=>r(e)))})}function d(e){if(e){const i=e.trim().split(/\s+/);return i.find((e=>a.includes(e.toLowerCase())))?[e]:i}return[]}function c({type:e,query:i="",index:n}){switch(e){case o.USER_INPUT:case o.AUTO_COMPLETE_HASHTAG:case o.TYPO_AUTO_CORRECT_ORIGINAL:return d(i).map((i=>({index:n,term:i,type:e})));case o.AUTO_COMPLETE_RECENT_SEARCH:case o.AUTO_COMPLETE_RECOMMENDED_SEARCH:case o.AUTO_COMPLETE_TRENDING:case o.AUTO_COMPLETE_DEFAULT:return d(i).map((i=>({term:i,type:e,index:n})));default:return[]}}},927104:(e,i,n)=>{n.d(i,{Z:()=>t});const t=(e,i)=>e.length>i?e.substr(0,i-3).trim()+"…":e},477802:(e,i,n)=>{n.d(i,{W:()=>l,Z:()=>o});var t=n(883119),a=n(785893);function o({data:e}){return(0,a.jsx)(t.xu,{overflow:"auto",dangerouslySetInlineStyle:{__style:{border:"2px solid red"}},children:(0,a.jsx)("pre",{children:JSON.stringify(e,null,2).replace(/\\n/g,"\n")})})}const l=e=>(0,a.jsx)(t.xu,{width:236,dangerouslySetInlineStyle:{__style:{marginTop:10}},children:(0,a.jsx)(o,{...e})})},373897:e=>{e.exports=function(e,i){(null==i||i>e.length)&&(i=e.length);for(var n=0,t=new Array(i);n<i;n++)t[n]=e[n];return t},e.exports.__esModule=!0,e.exports.default=e.exports},163405:(e,i,n)=>{var t=n(373897);e.exports=function(e){if(Array.isArray(e))return t(e)},e.exports.__esModule=!0,e.exports.default=e.exports},474704:(e,i,n)=>{var t=n(386116);e.exports=function(e,i){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=t(e))||i&&e&&"number"==typeof e.length){n&&(e=n);var a=0,o=function(){};return{s:o,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,r=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){s=!0,l=e},f:function(){try{r||null==n.return||n.return()}finally{if(s)throw l}}}},e.exports.__esModule=!0,e.exports.default=e.exports},238416:e=>{e.exports=function(e,i,n){return i in e?Object.defineProperty(e,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[i]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},564836:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},379498:e=>{e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},742281:e=>{e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},242122:(e,i,n)=>{var t=n(238416);function a(e,i){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);i&&(t=t.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),n.push.apply(n,t)}return n}e.exports=function(e){for(var i=1;i<arguments.length;i++){var n=null!=arguments[i]?arguments[i]:{};i%2?a(Object(n),!0).forEach((function(i){t(e,i,n[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},600861:(e,i,n)=>{var t=n(163405),a=n(379498),o=n(386116),l=n(742281);e.exports=function(e){return t(e)||a(e)||o(e)||l()},e.exports.__esModule=!0,e.exports.default=e.exports},386116:(e,i,n)=>{var t=n(373897);e.exports=function(e,i){if(e){if("string"==typeof e)return t(e,i);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(e,i):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},204942:(e,i,n)=>{function t(e,i,n){return i in e?Object.defineProperty(e,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[i]=n,e}n.d(i,{Z:()=>t})},601413:(e,i,n)=>{n.d(i,{Z:()=>o});var t=n(204942);function a(e,i){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);i&&(t=t.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),n.push.apply(n,t)}return n}function o(e){for(var i=1;i<arguments.length;i++){var n=null!=arguments[i]?arguments[i]:{};i%2?a(Object(n),!0).forEach((function(i){(0,t.Z)(e,i,n[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))}))}return e}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/45026-fc0132ca8545841a.mjs.map