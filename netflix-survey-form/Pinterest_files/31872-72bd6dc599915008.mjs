(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[31872],{294184:(e,t)=>{var n;!function(){var r={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)&&n.length){var i=o.apply(null,n);i&&e.push(i)}else if("object"===a)for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},108679:(e,t,n)=>{var r=n(121296),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function c(e){return r.isMemo(e)?i:s[e.$$typeof]||o}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=i;var l=Object.defineProperty,d=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(f){var o=h(n);o&&o!==f&&e(t,o,r)}var i=d(n);u&&(i=i.concat(u(n)));for(var s=c(t),m=c(n),_=0;_<i.length;++_){var b=i[_];if(!(a[b]||r&&r[b]||m&&m[b]||s&&s[b])){var y=p(n,b);try{l(t,b,y)}catch(g){}}}}return t}},396103:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,i=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,d=n?Symbol.for("react.async_mode"):60111,u=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116;function _(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case d:case u:case a:case s:case i:case h:return e;default:switch(e=e&&e.$$typeof){case l:case p:case c:return e;default:return t}}case m:case f:case o:return t}}}function b(e){return _(e)===u}t.typeOf=_,t.AsyncMode=d,t.ConcurrentMode=u,t.ContextConsumer=l,t.ContextProvider=c,t.Element=r,t.ForwardRef=p,t.Fragment=a,t.Lazy=m,t.Memo=f,t.Portal=o,t.Profiler=s,t.StrictMode=i,t.Suspense=h,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===u||e===s||e===i||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===f||e.$$typeof===c||e.$$typeof===l||e.$$typeof===p)},t.isAsyncMode=function(e){return b(e)||_(e)===d},t.isConcurrentMode=b,t.isContextConsumer=function(e){return _(e)===l},t.isContextProvider=function(e){return _(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===p},t.isFragment=function(e){return _(e)===a},t.isLazy=function(e){return _(e)===m},t.isMemo=function(e){return _(e)===f},t.isPortal=function(e){return _(e)===o},t.isProfiler=function(e){return _(e)===s},t.isStrictMode=function(e){return _(e)===i},t.isSuspense=function(e){return _(e)===h}},121296:(e,t,n)=>{e.exports=n(396103)},869921:(e,t)=>{var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,i=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,d=n?Symbol.for("react.async_mode"):60111,u=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,_=n?Symbol.for("react.lazy"):60116,b=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,g=n?Symbol.for("react.responder"):60118,v=n?Symbol.for("react.scope"):60119;function x(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case d:case u:case a:case s:case i:case h:return e;default:switch(e=e&&e.$$typeof){case l:case p:case _:case m:case c:return e;default:return t}}case o:return t}}}function w(e){return x(e)===u}t.AsyncMode=d,t.ConcurrentMode=u,t.ContextConsumer=l,t.ContextProvider=c,t.Element=r,t.ForwardRef=p,t.Fragment=a,t.Lazy=_,t.Memo=m,t.Portal=o,t.Profiler=s,t.StrictMode=i,t.Suspense=h,t.isAsyncMode=function(e){return w(e)||x(e)===d},t.isConcurrentMode=w,t.isContextConsumer=function(e){return x(e)===l},t.isContextProvider=function(e){return x(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return x(e)===p},t.isFragment=function(e){return x(e)===a},t.isLazy=function(e){return x(e)===_},t.isMemo=function(e){return x(e)===m},t.isPortal=function(e){return x(e)===o},t.isProfiler=function(e){return x(e)===s},t.isStrictMode=function(e){return x(e)===i},t.isSuspense=function(e){return x(e)===h},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===u||e===s||e===i||e===h||e===f||"object"==typeof e&&null!==e&&(e.$$typeof===_||e.$$typeof===m||e.$$typeof===c||e.$$typeof===l||e.$$typeof===p||e.$$typeof===y||e.$$typeof===g||e.$$typeof===v||e.$$typeof===b)},t.typeOf=x},659864:(e,t,n)=>{e.exports=n(869921)},560053:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<a(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,i=o>>>1;r<i;){var s=2*(r+1)-1,c=e[s],l=s+1,d=e[l];if(0>a(c,n))l<o&&0>a(d,c)?(e[r]=d,e[l]=n,r=l):(e[r]=c,e[s]=n,r=s);else{if(!(l<o&&0>a(d,n)))break e;e[r]=d,e[l]=n,r=l}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,c=s.now();t.unstable_now=function(){return s.now()-c}}var l=[],d=[],u=1,p=null,h=3,f=!1,m=!1,_=!1,b="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,g="undefined"!=typeof setImmediate?setImmediate:null;function v(e){for(var t=r(d);null!==t;){if(null===t.callback)o(d);else{if(!(t.startTime<=e))break;o(d),t.sortIndex=t.expirationTime,n(l,t)}t=r(d)}}function x(e){if(_=!1,v(e),!m)if(null!==r(l))m=!0,R(w);else{var t=r(d);null!==t&&Z(x,t.startTime-e)}}function w(e,n){m=!1,_&&(_=!1,y(E),E=-1),f=!0;var a=h;try{for(v(n),p=r(l);null!==p&&(!(p.expirationTime>n)||e&&!O());){var i=p.callback;if("function"==typeof i){p.callback=null,h=p.priorityLevel;var s=i(p.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?p.callback=s:p===r(l)&&o(l),v(n)}else o(l);p=r(l)}if(null!==p)var c=!0;else{var u=r(d);null!==u&&Z(x,u.startTime-n),c=!1}return c}finally{p=null,h=a,f=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,P=!1,C=null,E=-1,I=5,j=-1;function O(){return!(t.unstable_now()-j<I)}function T(){if(null!==C){var e=t.unstable_now();j=e;var n=!0;try{n=C(!0,e)}finally{n?S():(P=!1,C=null)}}else P=!1}if("function"==typeof g)S=function(){g(T)};else if("undefined"!=typeof MessageChannel){var k=new MessageChannel,A=k.port2;k.port1.onmessage=T,S=function(){A.postMessage(null)}}else S=function(){b(T,0)};function R(e){C=e,P||(P=!0,S())}function Z(e,n){E=b((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,R(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,o,a){var i=t.unstable_now();switch("object"==typeof a&&null!==a?a="number"==typeof(a=a.delay)&&0<a?i+a:i:a=i,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:u++,callback:o,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>i?(e.sortIndex=a,n(d,e),null===r(l)&&e===r(d)&&(_?(y(E),E=-1):_=!0,Z(x,a-i))):(e.sortIndex=s,n(l,e),m||f||(m=!0,R(w))),e},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},363840:(e,t,n)=>{e.exports=n(560053)},653250:(e,t,n)=>{var r=n(667294);var o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=r.useState,i=r.useEffect,s=r.useLayoutEffect,c=r.useDebugValue;function l(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!o(e,n)}catch(r){return!0}}var d="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),o=r[0].inst,d=r[1];return s((function(){o.value=n,o.getSnapshot=t,l(o)&&d({inst:o})}),[e,n,t]),i((function(){return l(o)&&d({inst:o}),e((function(){l(o)&&d({inst:o})}))}),[e]),c(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:d},950139:(e,t,n)=>{var r=n(667294),o=n(61688);var a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=o.useSyncExternalStore,s=r.useRef,c=r.useEffect,l=r.useMemo,d=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var u=s(null);if(null===u.current){var p={hasValue:!1,value:null};u.current=p}else p=u.current;u=l((function(){function e(e){if(!c){if(c=!0,i=e,e=r(e),void 0!==o&&p.hasValue){var t=p.value;if(o(t,e))return s=t}return s=e}if(t=s,a(i,e))return t;var n=r(e);return void 0!==o&&o(t,n)?t:(i=e,s=n)}var i,s,c=!1,l=void 0===n?null:n;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]}),[t,n,r,o]);var h=i(e,u[0],u[1]);return c((function(){p.hasValue=!0,p.value=h}),[h]),d(h),h}},61688:(e,t,n)=>{e.exports=n(653250)},552798:(e,t,n)=>{e.exports=n(950139)},347556:(e,t,n)=>{n.d(t,{Dy:()=>h,Hn:()=>o,Jw:()=>l,PS:()=>p,QO:()=>f,UT:()=>a,Ws:()=>i,cK:()=>d,ci:()=>m,cy:()=>c,o4:()=>s,oH:()=>_,p4:()=>b,tr:()=>r,vA:()=>u});const r=3,o="has_done_closeup",a=[503459,503761],i="Gender",s="InterestPicker",c="LoadingStep",l="AppInstall",d={NUX_GENDER_STEP_NAME:i,NUX_INTEREST_PICKER_STEP_NAME:s,NUX_LOADING_STEP_NAME:c,NUX_APP_INSTALL_STEP_NAME:l},u="mweb_content_first_activation_skippable_tp",p="mweb_cfa_full_modal_opt_in_tp",h="mweb_closeup_save_btn_color",f="mweb_nux_gender_step_ui_experiment",m="enabled_show_back_button_only_on_topic_picker",_="enabled_show_back_button_also_on_app_upsell",b="mweb_nux_no_hf_loader_experiment"},568388:(e,t,n)=>{n.d(t,{Z:()=>f,z:()=>l});var r=n(667294),o=n(702664),a=n(391254),i=n(281180),s=n(883119),c=n(785893);const l=2500,d={__style:{right:"-105px"}},u={__style:{animationName:"SavePin_AnimateIn, SavePin_CircleAnimateOut",animationDuration:"0.3s, 0.25s",animationDelay:"0.5s, 1.3s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out",backgroundColor:"rgba(255, 255, 255, 0.6)"}},p={__style:{animationName:"SavePin_AnimateIn, SavePin_AnimateOut",animationDuration:"0.3s, 0.35s",animationDelay:"0.5s, 1.55s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out",border:"4px solid white"}},h={__style:{animationName:"SavePin_NavButtonAnimation",animationDuration:"0.8s",animationDelay:"1.65s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out"}},f=(0,r.memo)((({children:e})=>{const t=(0,i.Tt)(),n=(0,o.useSelector)((({pins:e})=>{const n=null==t?void 0:t.last_repin_id;return n?e[n]:null})),r=(0,o.useSelector)((({session:e})=>e.isShowingRepinAnimation));if(!n||!r)return e;const{images:l}=n,{height:f,width:m,url:_}=(null==l?void 0:l["136x136"])||(null==l?void 0:l["236x"])||{};return(0,c.jsxs)(s.kC,{alignItems:"stretch",flex:"grow",justifyContent:"center",children:[(0,c.jsx)(a.Z,{unsafeCSS:"\n@keyframes SavePin_AnimateIn {\n  from {\n    transform: scale(0.0);\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n    transform: scale(1.0);\n  }\n}\n@keyframes SavePin_CircleAnimateOut {\n  from {\n    transform: scale(1.0);\n    opacity: 1;\n  }\n  to {\n    transform: scale(0.8);\n    opacity: 0;\n  }\n}\n@keyframes SavePin_AnimateOut {\n  from {\n    transform: translateY(0);\n    opacity: 1;\n  }\n  to {\n    transform: translateY(100px);\n    width: 0px;\n    height: 0px;\n    opacity: 0;\n  }\n}\n@keyframes SavePin_NavButtonAnimation {\n  0% {\n    transform: scale(1.0);\n  }\n  50% {\n    transform: scale(1.3);\n  }\n  100% {\n    transform: scale(1.0);\n  }\n}\n"}),(0,c.jsxs)(s.xu,{position:"relative",children:[(0,c.jsxs)(s.xu,{width:250,height:250,position:"absolute",right:!0,bottom:!0,dangerouslySetInlineStyle:d,children:[(0,c.jsx)(s.xu,{height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",opacity:0,rounding:"circle",dangerouslySetInlineStyle:u}),(0,c.jsx)(s.xu,{width:100,height:100,position:"absolute",margin:"auto",left:!0,right:!0,top:!0,bottom:!0,opacity:0,rounding:3,dangerouslySetInlineStyle:p,children:(0,c.jsx)(s.zd,{rounding:2,height:"100%",width:"100%",wash:!0,children:(0,c.jsx)(s.Ee,{alt:"pin-image",fit:"cover",naturalWidth:null!=m?m:1,naturalHeight:null!=f?f:1,src:null!=_?_:""})})})]}),(0,c.jsx)(s.xu,{dangerouslySetInlineStyle:h,children:e})]})]})}))},569046:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(702664),o=n(568388),a=n(14890),i=n(185894),s=n(343341),c=n(785893);const l=(0,a.compose)((0,r.connect)(null,(function(e){return{hideRepinAnimation:()=>e((0,i.a5)()),showRepinAnimation:()=>e((0,i.WF)())}})),(function(e){return t=>{const{hideRepinAnimation:n,showRepinAnimation:r}=t,{showToast:a,showOneToast:i}=(0,s.F9)();return(0,c.jsx)(e,{...t,showToast:a,showOneToast:i,showRepinConfirmation:(e,t)=>{t||r(),setTimeout((()=>{t||n(),a(e)}),o.z)}})}}))},777918:(e,t,n)=>{n.d(t,{Z:()=>u});var r=n(702664),o=n(941646),a=n(898781),i=n(266725),s=n(867820),c=n(883119),l=n(276775),d=n(785893);function u({alignIconLeft:e,bgColor:t,color:n,disableRedirect:u=!1,fallbackUrl:p,icon:h="arrow-back",onTouch:f,padding:m,placement:_,shouldUseFallbackUrl:b,size:y="lg",viewParameter:g,viewType:v}){const x=(0,a.ZP)(),w=(0,l.k6)(),S=(0,l.TH)(),P=(0,r.useSelector)((e=>e.session.isAuthenticated)),C=()=>{(0,s.My)(`mweb_back_button_click.${String(_)}.is_auth_${String(P)}`),(0,s.LW)({action:"click",pageLocation:S,item:"back-button"}),v&&g&&(0,i.So)({view_type:v,view_parameter:g,element:34}),f&&f(),u||((!S.key||S.state&&"redirect"===S.state.referrer||b)&&p?w.push(p):S.pathname.includes("/password/reset/")&&S.search&&S.search.includes("?nativeShouldDismiss=true")?w.push("/login/?dismissWebview=true"):w.goBack())};return(0,d.jsx)(o.Z,{id:"back-button",children:e?(0,d.jsx)(c.xu,{display:"flex",width:48,height:48,alignItems:"center",marginStart:"cancel"===h?-1:-2,children:(0,d.jsx)(c.hU,{accessibilityLabel:x._('Back', 'navigation button', 'navigation button'),bgColor:t,iconColor:n,icon:h,onClick:C,padding:"auto"!==m?m:2,size:y})}):(0,d.jsx)(c.hU,{accessibilityLabel:x._('Back', 'navigation button', 'navigation button'),bgColor:t,iconColor:n,icon:h,onClick:C,padding:"auto"!==m?m:2,size:y})})}},877867:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(499128),o=n(162158),a=n(789363),i=n(358589),s=n(785893);const c=({boardId:e,boardSectionId:t,clientTrackingParams:n,dispatch:c,i18n:l,newPinId:d,onError:u,onSuccess:p,originalPinId:h,shouldRefresh:f=!1,showToast:m,sourcePinId:_})=>c((0,i.q$)({pinId:d,boardId:e,boardSectionId:t,clientTrackingParams:n})).then((()=>{h&&c((0,i.t_)(h,e,t)),c((0,i.t_)(_,e,t)),f&&(t&&c((0,a.A4)(t)),e&&c((0,o.u)(e))),m((({hideToast:e})=>(0,s.jsx)(r.ZP,{text:l._('Pin removed!', 'Utils.Unsave.Success', 'User removed their pin'),onHide:e}))),p&&p()})).catch((()=>{m((({hideToast:e})=>(0,s.jsx)(r.ZP,{variant:"error",text:l._('Sorry! There was an error removing your Pin.', 'Utils.Unsave.Error', 'Error when user tried to remove pin'),onHide:e}))),null==u||u()}))},778193:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(702664),o=n(276775),a=n(785893);function i(e){return(0,r.useSelector)((({session:e})=>e.isAuthenticated))?null:(0,a.jsx)(o.l_,{to:e})}},789363:(e,t,n)=>{n.d(t,{A4:()=>p,ET:()=>m,Nv:()=>u,PA:()=>l,X_:()=>f,ic:()=>h,o4:()=>d});var r=n(6637),o=n(47495),a=n(414327),i=n(782677),s=n(983360);const c=(e,t)=>({type:s.nk,payload:t}),l=(e,t)=>n=>r.Z.create("BoardSectionEditResource",{...t,section_id:e}).callCreate().then((e=>(n(c(0,t)),e.resource_response.data))),d=(e,t,n,o)=>a=>{const i=r.Z.create("BoardSectionEditResource",{section_id:t}).callDelete();return a(((e,t,n,r)=>({type:s.Yn,payload:{userId:e,boardSectionId:t,boardId:n,pinCount:r}}))(e,t,n,o)),i},u=(e,t,n)=>c=>{const l={board_id:e,initial_pins:t,name:n},d="BoardSectionResource";return r.Z.create(d,l).callCreate().then((n=>{const r=n.resource_response.data,u=(0,i.Fv)(r,o.Z[d]);return c((0,a.XM)(d,l,n,u)),t.length&&c({type:s.u2,payload:{source:{boardId:e},target:{boardId:e,sectionId:r.id},pinIds:t}}),n}))},p=e=>t=>{const n={section_id:e},a="BoardSectionResource";return r.Z.create(a,n).callGet().then((n=>{const r=(0,i.Fv)(n.resource_response.data,o.Z[a]).entities.boardsections[e];return t(c(0,r)),n}))},h=e=>t=>{const{source:n,target:c,pinIds:l}=e;if(t({type:s.u2,payload:e}),n.boardlessPins||c.boardId!==n.boardId){const e={board_id:c.boardId,pin_ids:l,section_id:c.sectionId},t="BulkEditResource";return r.Z.create(t,e).callUpdate()}if(c.sectionId){const e={section_id:c.sectionId,pins:l},n="BoardSectionEditResource";return r.Z.create(n,e).callUpdate().then((r=>{const s=(0,i.Fv)(r.resource_response.data,o.Z[n]);return t((0,a.XM)(n,e,r,s)),r}))}const d={section_id:n.sectionId,pins:l};return r.Z.create("BoardSectionPinsResource",d).callDelete()},f=e=>t=>{t({type:s.Fl,payload:e});const{source:n,target:o,excludePinIds:a}=e,i={board_id:n.boardId,new_board_id:o.boardId,pin_ids:a,old_section_id:n.sectionId,new_section_id:o.sectionId};return r.Z.create("BulkEditSelectAllResource",i).callUpdate()},m=(e,t,n,r)=>o=>o(u(e,[],t)).then((t=>{const a=t.resource_response.data.id;return o(f({source:{boardId:e,sectionId:r},target:{boardId:e,sectionId:a},excludePinIds:n}))}))},185894:(e,t,n)=>{n.d(t,{Cp:()=>p,FK:()=>u,H5:()=>j,MI:()=>x,Mj:()=>E,O0:()=>g,QZ:()=>d,W:()=>P,WF:()=>_,Wz:()=>O,YV:()=>m,a5:()=>b,dz:()=>S,e0:()=>y,e2:()=>l,gH:()=>v,iW:()=>C,n1:()=>c,rm:()=>f,wb:()=>I,xu:()=>w});var r=n(172071),o=n(360903),a=n(983360),i=n(53987),s=n(408285);const c=()=>({type:a.Wn}),l=()=>({type:a.lj}),d=e=>({type:a.j_,payload:{unauthSavePinId:e}}),u=()=>({type:a.JG}),p=()=>({type:a.pV}),h=e=>({type:a.BM,payload:e}),f=e=>({type:a.a9,payload:{from:e}}),m=()=>e=>{e(h({preparingNewVersion:!0})),(0,s.Ng)().catch((()=>(r.Z.increment("mweb_service_worker.prepareNewVersion.error",1),(0,s.Dm)()))).finally((()=>{r.Z.increment("mweb.new_version.refresh",1),e(h({newVersionAvailable:!0,preparingNewVersion:!1}))})),(0,o.Qi)()},_=()=>({type:a.cs}),b=()=>({type:a.tg}),y=e=>({type:a.$t,payload:{steps:e}}),g=()=>({type:a.LB}),v=e=>({type:a.aj,payload:e}),x=e=>({type:a.HQ,payload:e}),w=e=>({type:a.vH,payload:{viewedImageSignature:e}}),S=e=>({type:a.le,payload:{pins:e}}),P=()=>({type:a.L6}),C=e=>e?{type:a.Pz,payload:e}:{type:a.OO},E=(e,t,n)=>r=>r(((e,t,n)=>({type:a.AO,payload:{isShareMenuOpen:e,objectType:t,objectId:n}}))(e,t,n)),I=()=>({type:a.dO}),j=e=>({type:a.UD,payload:e}),O=(e,t)=>{let n;return n=e?(0,i.bo)(e)?"today":t&&(0,i.dZ)(e,t)?"own_section":t&&(0,i.J)(e,t)?"own_board":(0,i.OJ)(e)?"section":(0,i.am)(e)?"board":(0,i.L6)(e)?"closeup":(0,i.C$)(e)?"home":(0,i.cD)(e)?"profile":(0,i.En)(e)?"search":(0,i.$V)(e)?"topic":"":"",{type:a.il,payload:n}}},176786:(e,t,n)=>{n.d(t,{Io:()=>A,ZP:()=>D});var r=n(667294),o=n(702664),a=n(52395),i=n(777918),s=n(794987),c=n(622359),l=n(609943),d=n(542554),u=n(499128),p=n(877867),h=n(223123),f=n(411465),m=n(778193),_=n(569046),b=n(313047),y=n(862501),g=n(349700),v=n(643010),x=n(347556),w=n(266725),S=n(898781),P=n(728214),C=n(276775),E=n(358589),I=n(883119),j=n(332611),O=n(14890),T=n(785893);function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const A=(e,t,n)=>{const r=n._('Saved to new board', 'Board saved message if the new board\'s name is not found', 'Board saved message if the new board\'s name is not found');return{text:t?(0,g.nk)(n._('Saved to {{ board }}', 'Board saved message', 'Board saved message'),{board:t}).join(" "):r,href:e}},R=e=>({color:e?"#fff":"#333",fontSize:21,fontWeight:"bold",background:"none",outline:"none",border:"none",marginTop:"4px",width:"100%"});class Z extends r.PureComponent{constructor(...e){var t;super(...e),t=this,k(this,"state",{boardName:this.props.match.params.boardName||"",canSubmit:!!this.props.match.params.boardName,errorBoardNames:[],secret:!1,submitting:!1}),k(this,"handleRepinSuccess",(()=>this.props.history.go(-2))),k(this,"onSwitchToggle",(()=>{this.setState((({secret:e})=>({secret:!e})))})),k(this,"onInputChange",(e=>{const t=e.target.value,n=t.trim().length;this.setState((({errorBoardNames:e})=>({boardName:t,canSubmit:n>0&&n<=100&&!e.includes(t)})))})),k(this,"onCreateClick",this.props.requireAuthForLimitedLogin({fn:()=>{const{boardName:e,secret:n,submitting:o}=this.state,{createPin:a,createBoard:i,dispatchUnsavePin:d,history:p,i18n:h,location:f,match:m,pin:_,repinToBoard:b,showRepinConfirmation:g,showToast:v,undoSaveAction:x}=this.props;if(o)return;const S=n?"secret":"public",P=m.params.pinId,C=f.state?f.state.pinnedToBoardId:"",E=this.props.i18n._('Created Board!', 'Text in toast after creating a new board', 'Text in toast after creating a new board');if(P){const n=(0,l.Z)((f.state||{}).trackingParams,null==_?void 0:_.tracking_params);this.setState({submitting:!0}),i({name:e,pin:_,privacy:S}).then((async function(r){var o;const a=null!==(o=r.url)&&void 0!==o?o:"";t.setState({submitting:!1}),(0,w.j)({event_type:20,view_type:3,object_id_str:P});const i=r.id,s=f.state&&f.state.pinDescription?f.state.pinDescription:"",{isFirstBoardCreateActive:l,isEditingPin:m,pinBoardId:S,pinSectionId:E}=f.state||{},{href:I,text:j}=A(a,e,h),{duration:O,text:k,thumbnail:R}=(0,y.qV)({boardId:i,isFBC:l}),Z=()=>g((({hideToast:e})=>(0,T.jsx)(c.Z,{duration:O,href:I,onHide:e,text:k||j,thumbnail:R})));var D;(s?b({i18n:t.props.i18n,pinId:P,boardId:i,onSuccess:()=>{t.completeFirstExperiences()},onUndo:(e,t,r,o,a)=>x({pinId:e,newPinId:t,boardId:r,boardSectionId:o,i18n:a,clientTrackingParams:n}),showRepinConfirmation:e=>v(e),trackingParams:{clientTrackingParams:n,pinnedToBoardId:C}}).catch((e=>{v((({hideToast:n})=>(0,T.jsx)(u.ZP,{variant:"error",text:e.message||t.props.i18n._('Sorry! Something went wrong on our end.', 'error completing repin', 'error completing repin'),onHide:n})))})):(t.completeFirstExperiences(Z),(0,w.j)({event_type:5,view_type:3,component:7,object_id_str:P,clientTrackingParams:n,aux_data:{board_id:C,destination_board_id:i}})),m&&_)&&(await d({pinId:_.id,pinBoardId:S,pinSectionId:E,clientTrackingParams:n}),null!==(D=_.pinned_to_board)&&void 0!==D&&D.url&&p.replace(_.pinned_to_board.url))}),(t=>{v((({hideToast:e})=>(0,T.jsx)(u.ZP,{text:t.message||this.props.i18n._('Sorry! Something went wrong on our end.', 'error creating board', 'error creating board'),variant:"error",onHide:e}))),this.setState((({errorBoardNames:t})=>({errorBoardNames:t.concat(e),canSubmit:!1,submitting:!1})))}))}else this.setState({submitting:!0}),i({name:e,pin:_,privacy:S}).then((e=>{const t=this.props.location.state;if(!t||0===Object.keys(t).length){this.setState({submitting:!1});const{duration:t,text:n,thumbnail:r}=(0,y.qV)({boardId:e.id});return v((({hideToast:e})=>(0,T.jsx)(c.Z,{duration:t,onHide:e,text:n||E,thumbnail:r}))),void(e.url&&p.replace(e.url))}const{description:n,guid:o,method:i,url:l}=t,d=[];if("scraped"===t.method)t.imgData.forEach((t=>d.push(a({link:l,image_url:t,description:n,board_id:e.id,method:i,guid:o}))));else{const{base64Image:r,imageUrl:s}=t;d.push(a({link:l,image_url:s,image_base64:r,description:n,board_id:e.id,method:i,guid:o}))}Promise.all(d).then((t=>{v((({hideToast:e})=>(0,T.jsx)(u.ZP,{text:E,onHide:e}))),v((({hideToast:t})=>(0,T.jsx)(u.ZP,{text:(0,T.jsxs)(r.Fragment,{children:[(0,T.jsx)(I.xv,{children:this.props.i18n._('Saved to', 'Saved to {{ boardName }}', 'Saved to {{ boardName }}')}),(0,T.jsx)(I.xv,{weight:"bold",children:e.name})]}),iconThumbnail:(0,T.jsx)(I.xu,{width:54,height:54,children:(0,T.jsx)(s.Z,{boardId:e.id,type:"thumbnail"})}),onHide:t}))),(0,w.j)({event_type:1,view_type:92,component:7,object_id_str:t[0].resource_response.data.id}),this.setState({submitting:!1}),e.url&&p.replace(e.url)}),(()=>{v((({hideToast:e})=>(0,T.jsx)(u.ZP,{text:this.props.i18n._('Sorry! Something went wrong on our end.', 'error during pin creation', 'error during pin creation'),onHide:e}))),this.setState({submitting:!1})}))}),(e=>{this.setState({submitting:!1}),v((({hideToast:t})=>(0,T.jsx)(u.ZP,{text:e.message_detail||e.message||this.props.i18n._('Sorry! Something went wrong on our end.', 'error creating board', 'error creating board'),variant:"error",onHide:t})))}))}})),k(this,"completeFirstExperiences",(e=>{const{closeupExperience:t,repinExperience:n,completeExperience:r}=this.props;if(t||n){const o=[];t&&t.placement_id&&x.UT.includes(t.experience_id)&&o.push(r(t.placement_id,t.experience_id)),n&&n.placement_id&&501032===n.experience_id&&o.push(r(n.placement_id,n.experience_id)),o.length>0&&Promise.all(o).then((()=>{this.handleRepinSuccess(),e&&e()}))}else this.handleRepinSuccess(),e&&e()}))}componentDidMount(){const{repinExperience:e,viewExperience:t}=this.props;e&&t(e.placement_id,e.experience_id)}render(){const{i18n:e}=this.props;return(0,T.jsxs)(d.default,{hasFixedHeader:!0,children:[(0,T.jsx)(a.Z,{text:e._('Create a Board', 'duplo.createboardpage.accessibilityModalLabel', 'Accessibility label for the create board page')}),(0,T.jsx)(b.FixedHeader,{children:(0,T.jsxs)(I.kC,{alignItems:"center",justifyContent:"start",children:[(0,T.jsx)(I.xu,{flex:"none",marginStart:-2,children:(0,T.jsx)(i.Z,{})}),(0,T.jsx)(I.kC,{alignItems:"stretch",flex:"grow",justifyContent:"center",children:(0,T.jsx)(I.xv,{align:"center",weight:"bold",children:this.props.i18n._('Create board', 'Label during board creation', 'Label during board creation')})}),(0,T.jsx)(I.kC,{alignItems:"stretch",flex:"none",justifyContent:"end",children:(0,T.jsx)(I.xu,{"data-test-id":"createBoardButton",children:(0,T.jsx)(I.zx,{fullWidth:!0,onClick:this.onCreateClick,color:"red",size:"sm",text:this.props.i18n._('Create', 'Create board button', 'Create board button'),disabled:!this.state.canSubmit||this.state.submitting})})})]})}),(0,T.jsx)(I.iz,{}),(0,T.jsxs)(I.xu,{paddingY:3,paddingX:4,children:[(0,T.jsx)(I.__,{htmlFor:"boardNameInput",children:(0,T.jsx)(I.xv,{size:"200",children:this.props.i18n._('Board name', 'Label during board creation', 'Label during board creation')})}),(0,T.jsx)("input",{id:"boardNameInput",placeholder:e._('Add', ' - ', ' -- '),value:this.state.boardName,style:R((0,v.Yc)()),onChange:this.onInputChange})]}),(0,T.jsx)(I.iz,{}),(0,T.jsxs)(I.xu,{display:"flex",justifyContent:"between",paddingY:3,paddingX:4,children:[(0,T.jsx)(I.__,{htmlFor:"secretToggle",children:(0,T.jsx)(I.xv,{children:this.props.i18n._('Keep board secret', 'Toggle during board creation', 'Toggle during board creation')})}),(0,T.jsx)(I.rs,{id:"secretToggle",switched:this.state.secret,onChange:this.onSwitchToggle})]})]})}}const D=(0,O.compose)(_.Z,(0,o.connect)((({experiences:e})=>({closeupExperience:e[1000112],repinExperience:e[1000153]})),((e,{showToast:t})=>({completeExperience:(t,n)=>e((0,j.CK)(t,n)),viewExperience:(t,n)=>e((0,j.UT)(t,n)),createPin:t=>e((0,E.iX)(t)),undoSaveAction:({boardId:n,boardSectionId:r,clientTrackingParams:o,i18n:a,newPinId:i,pinId:s})=>(0,p.Z)({dispatch:e,i18n:a,showToast:t,newPinId:i,sourcePinId:s,boardId:n,boardSectionId:r,clientTrackingParams:o}),repinToBoard:({i18n:t,pinId:n,boardId:r,onSuccess:o,onUndo:a,showRepinConfirmation:i,showToast:s,section:c,trackingParams:l})=>e((0,E.wh)({i18n:t,pinId:n,boardId:r,onSuccess:o,onUndo:a,showRepinConfirmation:i,showToast:s,section:c,trackingParams:l})),dispatchUnsavePin:({pinId:t,pinBoardId:n,pinSectionId:r,clientTrackingParams:o})=>e((0,E.q$)({pinId:t,boardId:n||"",boardSectionId:r,clientTrackingParams:o}))}))))((function(e){const t=(0,C.k6)(),n=(0,C.TH)(),r=(0,C.$B)(),o=(0,h.Z)(),a=(0,f.Z)(),i=(0,S.ZP)(),s=(0,P.Z)(),c=(0,m.Z)("/");return r.params.pinId&&a?(0,T.jsx)(C.l_,{to:"/"}):c||(0,T.jsx)(Z,{...e,history:t,location:n,match:r,createBoard:({name:e,pin:t,privacy:a})=>{const i=r.params.pinId,s=n.state&&n.state.pinDescription?n.state.pinDescription:"";if(i&&!s){const r=(0,l.Z)((n.state||{}).trackingParams,null==t?void 0:t.tracking_params);return o({boardCreateOptions:{name:e,privacy:a,initial_pins:[i],initial_pin_client_tracking_params:[r]}})}return o({boardCreateOptions:{name:e,privacy:a}})},i18n:i,requireAuthForLimitedLogin:s})}))},27255:(e,t,n)=>{n.d(t,{Z:()=>r});const r={AMP_TRACKING_DOMAIN:"amp.pinterest.com",BoardPrivacy:{SECRET:"secret",PUBLIC:"public",PROTECTED:"protected"},BoardType:{PROTECTED:"protected"},BulkAction:{MOVE:"bulkMove",COPY:"bulkCopy",CREATE_SECTION:"bulkCreateSection",DELETE:"bulkDelete"},MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION:500,MAX_CHARS_FOR_BOARD_TITLE:50,MAX_CHARS_FOR_FIRST_NAME:30,MAX_FETCH_NUM_FOLLOWERS_PER_PAGE:50,MAX_STORED_VISITED_PIN_PAGES:10,VIDEO_AUTOPLAY_LOCAL_STORAGE_KEY:"_video_autoplay_state",VIDEO_IFRAME_ID:"video-iframe"}},391254:(e,t,n)=>{n.d(t,{Z:()=>a});n(441143);var r=n(785893);class o{static factory(e){return e instanceof o?e:new o(String(e))}constructor(e){this._private_safe_value=e.trim().replace(">",">").replace("<","<").replace("&","&").replace('"','"').replace("'","'")}toString(){return this._private_safe_value}}function a(e){const{css:t,unsafeCSS:n,...a}=e,i=String(t||"")||n||"";return!!i?(0,r.jsx)("style",{...a,dangerouslySetInnerHTML:{__html:String(o.factory(i))}}):null}},941646:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(883119),o=n(785893);function a(e){const{children:t,display:n,id:a}=e;return(0,o.jsx)(r.xu,{"data-test-id":a,display:n,children:t})}},407043:(e,t,n)=>{n.d(t,{B:()=>c,v:()=>s});var r=n(385740),o=n(425288),a=n(785893);const{Provider:i,useHook:s}=(0,o.Z)("ContextLogger");function c({children:e,value:t}){const{setViewContextData:n}=(0,r.sV)();return t.injectSetViewContextDataFromHook=n,(0,a.jsx)(i,{value:t,children:e})}},112690:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(407043);const o=()=>(0,r.v)().logContextEvent},385740:(e,t,n)=>{n.d(t,{BE:()=>l,Ih:()=>d,SU:()=>u,sV:()=>s});var r=n(667294),o=n(425288),a=n(785893);const{Provider:i,useHook:s}=(0,o.Z)("View");let c;function l(){return c}function d({children:e,initialState:t={}}){const[n,o]=(0,r.useState)(t),s=(0,r.useCallback)((()=>{c={},o({})}),[]),l=(0,r.useCallback)((e=>{c={...c,...e},o((t=>({...t,...e})))}),[]),d=(0,r.useMemo)((()=>({viewContextData:n,clearViewContextData:s,setViewContextData:l})),[n,l,s]);return(0,a.jsx)(r.Fragment,{children:(0,a.jsx)(i,{value:d,children:e})})}function u(){const{viewContextData:e}=s();return e}},425288:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(667294),o=n(785893);function a(e,t){let n=e.slice(1);if(n=n.endsWith("Context")?n:`${n}Context`,t){return{hocDisplayName:`with${e[0].toUpperCase()}${n}(${t})`}}return{propsDisplayName:`${e[0].toLowerCase()}${n}`,messageDisplayName:`${e[0].toUpperCase()}${n}`}}function i(e,t){const n=(0,r.createContext)(t),{propsDisplayName:i,messageDisplayName:s}=a(e);n.displayName=s;const c=n.Provider,l=({children:e})=>{const t=(0,r.useContext)(n);if(void 0===t)throw new Error(`${s}Consumer must be used within a ${s}Provider.`);return e(t)},d=()=>(0,r.useContext)(n);function u(t){const{hocDisplayName:n}=a(e,String(t.displayName||t.name)),r=e=>(0,o.jsx)(l,{children:r=>{if(void 0===r)throw new Error(`${n} must be used within a ${s}Provider.`);if(e[i])throw new Error("Parent Component and Context are passing to the component the same variables.");const a={[i]:r};return(0,o.jsx)(t,{...e,...a})}});return r.displayName=n,r}return c.displayName=`${s}Provider`,l.displayName=`${s}Consumer`,u.displayName=`${s}HOC`,{Provider:c,Consumer:l,MaybeConsumer:({children:e})=>e((0,r.useContext)(n)),useMaybeHook:d,useHook:function(){const e=d();if(void 0===e)throw new Error(`use${s} must be used within a ${s}Provider.`);return e},deprecatedHOC:u}}},499128:(e,t,n)=>{n.d(t,{UZ:()=>l,Vg:()=>c,ZP:()=>d});var r=n(667294),o=n(829407),a=n(50286),i=n(883119),s=n(785893);const c=200,l=({deviceType:e,hiding:t,visible:n})=>({marginTop:"desktop"===e?10:0,opacity:0,position:"relative",transform:"desktop"===e?"translateY(200px)":"translateY(-200px)",transition:"opacity 0.1s ease-in-out",visibility:"hidden",pointerEvents:"auto",...n?{opacity:1,transform:"translateY(0)",transition:"all 0.7s cubic-bezier(.19, 1.15, .48, 1)",visibility:"visible"}:{},...n&&t?{opacity:0,transform:"scale(1.1)",transition:"opacity transform 0.2s"}:{}});function d({button:e,dataTestId:t,duration:n=2e3,href:d,iconThumbnail:u,imageUrl:p,onClick:h,onHide:f,openNewPage:m,text:_,thumbnailShape:b="square",variant:y="default"}){const g=(0,a.ZP)(),[v,x]=(0,r.useState)(!1),[w,S]=(0,r.useState)(!1),P=(0,r.useRef)(),C=()=>{x(!0),P.current=setTimeout(f,c)},E=()=>{P.current&&clearTimeout(P.current)},I=()=>{P.current=setTimeout(C,n)};(0,o.Z)((()=>(setTimeout((()=>S(!0)),100),I(),E)));const j="string"==typeof _?_:`${_[0]} ${_[1]}`,O=p?(0,s.jsx)(i.xu,{height:48,overflow:"hidden",width:48,children:(0,s.jsx)(i.Ee,{alt:j,fit:"cover",naturalHeight:1,naturalWidth:1,src:p})}):void 0,T=(0,s.jsx)(i.FN,{button:e,text:_,thumbnail:null!=u?u:O,thumbnailShape:b,variant:y});return(0,s.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{...l({deviceType:g,hiding:v,visible:w})}},"data-test-id":null!=t?t:"toast",onMouseEnter:E,onMouseLeave:I,children:d?(0,s.jsx)(i.iP,{role:"link",href:d,onTap:({event:e})=>null==h?void 0:h(e),target:m?"blank":null,rounding:"pill",children:T}):T})}},898781:(e,t,n)=>{n.d(t,{ZP:()=>s,oz:()=>a,q6:()=>o});var r=n(425288);const{Provider:o,Consumer:a,useHook:i}=(0,r.Z)("i18n"),s=i},349700:(e,t,n)=>{function r(e,t,n){return e.split(n).map((e=>{if(e.match(n)){const n=e.replace(/[\{\}]/g,"").trim();if(Object.prototype.hasOwnProperty.call(t,n))return t[n]}return e}))}n.d(t,{Wc:()=>i,bF:()=>c,nk:()=>a});const o=/(\{\{\s*\w+\s*\}\})/g;function a(e,t){return r(e,t,o)}function i(e,t){return r(e,t,o).join("")}const s=/(\{\s*\w+\s*\})/g;function c(e,t){return r(e,t,s)}},995081:(e,t,n)=>{n.d(t,{Rq:()=>r,Vf:()=>o,jd:()=>a,oy:()=>i});const r=e=>"ios"===e&&(window.devicePixelRatio||1)*window.screen.height==2436,o=28,a=e=>window.innerHeight>=748&&r(e),i=function(){return!("undefined"==typeof window||!window.navigator)&&(/iPad/.test(navigator.platform)||navigator.maxTouchPoints>1&&"MacIntel"===navigator.platform)}},313047:(e,t,n)=>{n.r(t),n.d(t,{DEFAULT_HEIGHT:()=>l,DEFAULT_PADDING_Y:()=>d,FixedFooter:()=>h,FixedHeader:()=>p});var r=n(667294),o=n(124580),a=n(643010),i=n(834256),s=n(883119),c=n(785893);const l=64,d=3;function u({children:e,footerConfig:t,headerConfig:n,height:i,hideOnScroll:u,hideOnScrollState:{isHidden:p,updateHiddenState:h},noPadding:f,paddingY:m=d,type:_,zIndex:b}){const{headerLimitedOverflow:y,ignoreObstructions:g,zIndexForGestaltBug:v}=n||{},{appUpsellFooterConfig:x,footerInLego:w,footerWidth:S}=t||{},P=!!x,C="header"===_?"top":"bottom",E=(0,r.useRef)(null),I=(0,r.useRef)(null);(0,r.useEffect)((()=>{try{if(!g){const e=E.current;I.current=y&&e&&Array.isArray(e.children)?e.children[0]:e,I.current instanceof HTMLElement&&o.Z.addObstruction(C,I.current)}}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}return()=>{g||I.current instanceof HTMLElement&&o.Z.removeObstruction(C,I.current)}}),[g,y,C]);const j="top"===C?"relative":"fixed",O=f?0:m,T=(null!=i?i:l)+((null==n?void 0:n.overrideTop)||0),k=u?{transition:w?"transform 300ms ease-in-out, opacity 300ms ease-in-out":"transform 200ms linear",...p?{transform:`translateY(${"top"===C?-T:T}px)`,opacity:w?0:1}:Object.freeze({})}:{},A="relative"!==j||null!=n&&n.noGutter?0:2,R=A?-A:0;let Z,D;return(0,a.Yc)()&&("header"===_?Z=-1:D=-1),(0,c.jsx)(s.xu,{ref:E,dangerouslySetInlineStyle:{__style:{top:Z,bottomStyle:D,...!b||v?{zIndex:v||1}:Object.freeze({}),...y?{background:"transparent",overflow:"hidden",paddingBottom:100,marginBottom:-100,pointerEvents:"none"}:Object.freeze({}),...null!=n&&n.hasBorder?{borderBottom:"1px solid #efefef"}:Object.freeze({}),...null!=t&&t.hasTopShadow?{boxShadow:"0 -2px 4px 1px rgba(0, 0, 0, 0.08)"}:Object.freeze({}),...k}},zIndex:v?void 0:b,"data-test-id":_,display:P?"flex":void 0,height:i&&!w?i:void 0,position:j,bottom:"footer"===_,top:"header"===_,left:!0,right:!0,marginStart:w?"auto":R,marginEnd:w?"auto":R,onTransitionEnd:()=>{u&&I.current&&(p?o.Z.removeObstruction(C,I.current):o.Z.addObstruction(C,I.current))},width:w||"fixed"!==j?void 0:"100%",children:(0,c.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:((0,a.Yc)()?"#000":(null==n?void 0:n.isTranslucent)&&"rgba(255,255,255,.95)")||(null==n?void 0:n.isTransparentBackground)&&"transparent"||"white",height:w?P?void 0:null!=i?i:l:"100%",boxShadow:w?"0px 0px 8px rgba(0, 0, 0, 0.1)":void 0,marginBottom:w?16:void 0,...y?{pointerEvents:"auto"}:Object.freeze({}),...null!=n&&n.useRoundedCorners?{zIndex:5,borderTopRightRadius:17,borderTopLeftRadius:17,borderBottomRightRadius:0,borderBottomLeftRadius:0}:Object.freeze({})}},paddingX:("footer"!==_||f?0:4)+A,paddingY:O,position:"relative",width:w&&S?S:P?void 0:"100%",rounding:w?"pill":void 0,display:w||null!=t&&t.alignCenter?"flex":void 0,marginStart:w?"auto":void 0,marginEnd:w?"auto":void 0,alignItems:null!=t&&t.alignCenter?"center":void 0,children:"function"==typeof e?e({updateHiddenState:h}):e})})}function p({hasBorder:e,headerLimitedOverflow:t,ignoreObstructions:n,isTranslucent:r,isTransparentBackground:o,noGutter:a,overrideTop:l,useRoundedCorners:p,zIndexForGestaltBug:h,...f}){const{noPadding:m,paddingY:_=d,zIndex:b}=f,y=m?0:_;return(0,c.jsx)(s.Le,{top:l||0,height:t?44+2*y*4:void 0,zIndex:b||void 0,children:(0,c.jsx)(i.Z,{hideOnScroll:f.hideOnScroll,children:i=>(0,c.jsx)(u,{...f,hideOnScrollState:i,type:"header",headerConfig:{isTranslucent:r,isTransparentBackground:o,headerLimitedOverflow:t,hasBorder:e,ignoreObstructions:n,noGutter:a,overrideTop:l,zIndexForGestaltBug:h,useRoundedCorners:p}})})})}function h({alignCenter:e,appUpsellFooterConfig:t,footerInLego:n,footerWidth:r,forceShow:o,hasTopShadow:a,isModal:s,onScroll:l,...d}){return(0,c.jsx)(i.Z,{appUpsellFooterConfig:t,forceShow:o,hideOnScroll:d.hideOnScroll,isModal:s,onScroll:l,children:o=>(0,c.jsx)(u,{...d,hideOnScrollState:o,type:"footer",footerConfig:{alignCenter:e,appUpsellFooterConfig:t,footerInLego:n,footerWidth:r,hasTopShadow:a}})})}},834256:(e,t,n)=>{n.d(t,{Z:()=>s,m:()=>i});var r=n(667294),o=n(700380);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const i=20;class s extends r.Component{constructor(...e){super(...e),a(this,"state",{isHidden:!!this.props.appUpsellFooterConfig}),a(this,"lastScrollPos",0),a(this,"updateHiddenState",(e=>{this.reqAnimationId=window.requestAnimationFrame((()=>{this.setState({isHidden:e})}))})),a(this,"handleScroll",(0,o.Z)((()=>{const{appUpsellFooterConfig:e,isModal:t,onScroll:n}=this.props,{isHidden:r}=this.state,o=window.scrollY,a=o-this.lastScrollPos;let s="none";const{scrollHeight:c,clientHeight:l}=document.documentElement||{};if(!Number.isNaN(c)&&!Number.isNaN(l))if(a<0){const e=window.scrollMinY||0;s=o<=Math.abs(e+Math.max(a,i))?"start":"none"}else{s=o>=(window.scrollMaxY||c-l)-Math.max(a,i)?"end":"none"}const d=t?0:55;if(e)if(a>i&&r&&o>=500){e.shouldShowAfterScroll()&&(this.updateHiddenState(!1),n&&n(!1))}else(a<-i&&!r||o<=d)&&(this.updateHiddenState(!0),n&&n(!0));else(a<-i||"start"===s)&&r||o<=d?(this.updateHiddenState(!1),n&&n(!1)):(a>i||"end"===s)&&!r&&(this.updateHiddenState(!0),n&&n(!0));this.lastScrollPos=o}),30))}componentDidMount(){try{this.props.hideOnScroll&&window.addEventListener("scroll",this.handleScroll)}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}}componentWillUnmount(){this.props.hideOnScroll&&window.removeEventListener("scroll",this.handleScroll),this.reqAnimationId&&(window.cancelAnimationFrame(this.reqAnimationId),this.reqAnimationId=null)}componentDidUpdate(e){!e.hideOnScroll&&this.props.hideOnScroll?window.addEventListener("scroll",this.handleScroll):e.hideOnScroll&&!this.props.hideOnScroll&&window.removeEventListener("scroll",this.handleScroll)}render(){const{children:e,forceShow:t}=this.props,{isHidden:n}=this.state;return e({isHidden:!t&&n,updateHiddenState:this.updateHiddenState})}}},542554:(e,t,n)=>{n.r(t),n.d(t,{AMPPageContainer:()=>l,default:()=>d});var r=n(883119),o=n(134879),a=n(444445),i=n(780280),s=n(995081),c=n(785893);const l=({children:e,dataLayoutShiftBoundaryId:t,hasFixedHeader:n=!1,hasGutter:l=!0,useViewport:d=!1,showKeychainError:u=!1})=>{const p=(0,i.B)(),h=(0,s.jd)(p.userAgent.platform)?s.Vf:0;return(0,c.jsx)(r.xu,{"data-layout-shift-boundary-id":t||"PageContainer",height:d?`calc(100vh - ${h}px)`:void 0,paddingX:l?a.D6:void 0,paddingY:n||u?void 0:3,children:(0,c.jsx)(o.C,{value:!!l,children:e})})},d=l},53987:(e,t,n)=>{n.d(t,{wy:()=>O,Fw:()=>H,bo:()=>D,oF:()=>V,bW:()=>b,AX:()=>p,Fy:()=>u,XE:()=>d,am:()=>i,pD:()=>h,OJ:()=>c,LO:()=>re,Gl:()=>Y,h3:()=>G,PY:()=>g,Ni:()=>y,pV:()=>T,L6:()=>j,b0:()=>_,jC:()=>L,O7:()=>K,LM:()=>B,OK:()=>E,mP:()=>v,C$:()=>x,J3:()=>A,Fr:()=>F,Xn:()=>w,l4:()=>I,b_:()=>q,J:()=>s,dZ:()=>l,re:()=>P,RU:()=>J,Ui:()=>f,KY:()=>m,fY:()=>$,uM:()=>z,x7:()=>U,rk:()=>oe,cD:()=>M,dW:()=>ae,Pu:()=>X,En:()=>k,ej:()=>te,gf:()=>C,mY:()=>Q,kY:()=>ne,cY:()=>W,$Y:()=>Z,Zz:()=>S,$V:()=>R,j8:()=>N,YW:()=>ee});const r=new RegExp(/^\/(?!(?:pin|categories|report|search|password|terms|discover|help|email|topics|explore|pw|login|signup|about|business|source|ideas|today|tv))[\w\d\-]+\/(?!(?:following|followers|_tools|_created|_saved|tried))[\w\d\-]+(?=\/|$)/),o=["/BingSiteAuth.xml","/about","/add-account","/ads","/age_verification","/all","/apple-app-site-association","/apple-app-site-association.p7m","/attribution_source","/bot.html","/browserbutton","/buy-it","/careers","/categories","/close-account","/content-claiming","/convert-business","/convert-personal","/create-business","/create-linked-business","/create-personal","/creation-inspiration","/creator-onboarding-landing","/csrf_error","/ct.html","/deactivate-account","/developers","/discover","/edit","/email_verification_error","/engagement","/explore","/favicon.ico","/fb.html","/following","/google_gdn.html","/google_search.html","/googlef5dc42d6e03f6e61.html","/guidedsearch","/help","/holidays-celebrations","/homefeed","/idea-pin-builder","/idea-pin-invite","/ideas","/inbox","/install-shuffles","/invited","/jobs","/live-session","/login","/login_redirect","/logout","/manifest.json","/manifest.webapp","/me","/messages","/mobile","/notifications","/oauth","/app-factory-oauth","/appealed-pin","/oembed.json","/offline.html","/offsite","/opensearch.xml","/parent_contact_info","/pin-builder","/pin-editor","/pin_catalog","/pin_redirect","/pinterest-wellbeing","/pinterest-predicts","/pinterestlens","/pinterestlenstryon","/pinterestwellbeing","/policy","/product-catalogs","/recently-viewed","/report","/robots.txt","/safe-redirect","/search","/settings","/signup","/socialmanager","/story-pin-builder","/story-pin-invite","/story_feed","/story_pins","/sw-shell.html","/sw.html","/sw.js","/switch_account","/terms","/today","/topics","/transparent.html","/tv","/unauth-profile","/unlink","/upload-image","/upload-profile-image","/verified","/verify","/web-mentorship","/welcome","/windows-app-web-link","/your-shop"];var a=n(276775);const i=e=>r.test(e.pathname),s=(e,t)=>{const{pathname:n}=e;return i(e)&&n.match(t||"?")},c=e=>{const{pathname:t}=e;return!!(0,a.LX)(t,{path:"/:username/:boardId/:boardSectionId",exact:!0})&&!t.match(/^\/.+\/.+\/(_tools)/i)},l=(e,t)=>{const{pathname:n}=e;return c(e)&&n.match(t||"?")},d=e=>!!(0,a.LX)(e.pathname,{path:"/board/:id/edit",exact:!0}),u=e=>!!(0,a.LX)(e.pathname,{path:"/board/:id/edit/collaborators",exact:!0}),p=e=>!!(0,a.LX)(e.pathname,{path:"/board/:id/edit/add_collaborators",exact:!0}),h=e=>!!(0,a.LX)(e.pathname,{path:"/boardsection/:id/edit",exact:!0}),f=e=>!!(0,a.LX)(e.pathname,{path:"/pin/:id/comments",exact:!0}),m=e=>!!(0,a.LX)(e.pathname,{path:"/pin/:id/edit",exact:!0}),_=e=>!!(0,a.LX)(e.pathname,{path:"/conversation/:id",exact:!0}),b=e=>!!(0,a.LX)(e.pathname,{path:"/appealed-pin/",exact:!0}),y=e=>e.pathname.startsWith("/business/"),g=e=>e.pathname.startsWith("/business/invite/"),v=e=>!!(0,a.LX)(e.pathname,{path:"/pin/:id/visual-search/",exact:!0}),x=e=>"/"===e.pathname,w=e=>e.pathname.startsWith("/login"),S=e=>!!(0,a.LX)(e.pathname,{path:"/today",exact:!0}),P=e=>e.pathname.startsWith("/password/reset")||!!(0,a.LX)(e.pathname,{path:"/pw/:username",exact:!0}),C=e=>e.pathname.startsWith("/signup"),E=e=>e.pathname.startsWith("/email/subscription"),I=e=>e.pathname.startsWith("/notifications/"),j=e=>!!(0,a.LX)(e.pathname,{path:"/pin/:id",exact:!0}),O=e=>j(e)&&void 0===e.state,T=e=>e.pathname.startsWith("/pin_redirect"),k=e=>e.pathname.startsWith("/search"),A=e=>e.pathname.startsWith("/ideas"),R=e=>e.pathname.startsWith("/topics"),Z=e=>e.pathname.startsWith("/today/article/")||e.pathname.startsWith("/today/best/")||e.pathname.startsWith("/today/trending/"),D=e=>S(e)||Z(e)||e.pathname.startsWith("/today/popular/"),B=e=>/^\/discover\/article\/\S+\/?/i.test(e.pathname),L=e=>e.pathname.startsWith("/pin/create/"),M=e=>!!(0,a.LX)(e.pathname,{path:"/:username/",exact:!0})&&!o.includes(e.pathname.replace(/\/$/,"")),N=e=>e.pathname.startsWith("/unauth-profile"),z=e=>e.pathname.startsWith("/pin/"),F=e=>"#imgViewer"===e.hash,$=e=>!!(0,a.LX)(e.pathname,{path:"/pin/:id",exact:!1})&&(e.pathname.includes("/sent/")||e.pathname.includes("/feedback/")),H=e=>(e=>new RegExp("invite_code").test(e.search))(e)&&(($(e)?"pin":i(e)&&"board")||M(e)&&"profile")||null,U=e=>e.pathname.includes("/repin/x"),W=e=>e.pathname.startsWith("/_/storyboard"),q=e=>e.pathname.startsWith("/oauth"),V=e=>e.pathname.startsWith("/app-factory-oauth"),X=e=>e.pathname.includes("/scheduled-pin/"),Y=e=>e.pathname.startsWith("/business/convert"),G=e=>e.pathname.startsWith("/business/hub"),K=e=>e.pathname.startsWith("/pin-editor"),J=e=>e.pathname.startsWith("/pin-builder"),Q=e=>e.pathname.startsWith("/story-pin-builder")||e.pathname.startsWith("/idea-pin-builder"),ee=e=>e.pathname.startsWith("/advertiser/quick-promote"),te=e=>e.pathname.startsWith("/settings"),ne=e=>e.pathname.startsWith("/story-pin-invite")||e.pathname.startsWith("/idea-pin-invite"),re=e=>void 0!==e.pathname&&e.pathname.startsWith("/business/business-access/")&&e.pathname.includes("/dashboard/"),oe=e=>void 0!==e.pathname&&e.pathname.startsWith("/tv/studio"),ae=e=>void 0!==e.pathname&&e.pathname.startsWith("/business/schedule_call/")},620707:(e,t,n)=>{function r(e,t){if("object"==typeof e&&"object"==typeof t){const n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every((n=>e[n]===t[n]))}return e===t}n.d(t,{Ak:()=>r,_Y:()=>o,qe:()=>s,xZ:()=>i});const o=(e,t)=>e.length===t.length&&e.every(((e,n)=>r(e,t[n]))),a=(e,t)=>e.length===t.length&&e.every(((e,n)=>e===t[n])),i=(e,t=a)=>n=>{const r=[];return function(...o){const a=this,i=r.find((e=>e.context===a&&t(e.args,o)));if(i)return i.result;const s={context:a,args:o,result:n.apply(this,o)};return r.push(s),e&&r.length>e&&r.shift(),s.result}},s=i(1);i()},886858:(e,t,n)=>{n.d(t,{Z:()=>i,k:()=>a});const r=new Set(["bookmarks","client_tracking_params","get_page_metadata","in_nux","invite_code","no_fetch_context_on_resource","original_referrer","source","top_level_source","top_level_source_depth"]),o=e=>!r.has(e)&&!e.startsWith("__track__");function a(e){return e.split(/([^=]+=[^=]+),/).filter(Boolean).reduce(((e,t)=>{const[n,r]=t.split("=");return e[n]=JSON.parse(r),e}),{})}const i=e=>e?Object.keys("object"==typeof e&&e||{}).filter((e=>"string"==typeof e)).filter(o).sort().map((t=>`${t}=${JSON.stringify(null==e[t]?null:e[t])}`)).join(","):""},780280:(e,t,n)=>{n.d(t,{B:()=>u,LC:()=>l,P2:()=>c,fH:()=>d,gf:()=>p});var r=n(667294),o=n(608832),a=n(620707),i=n(785893);const s=(0,r.createContext)();function c({children:e,value:t}){const[n,c]=(0,r.useState)(t),l=(0,r.useMemo)((()=>({requestContext:n,updateRequestContext:e=>{const t={...n,...e};(0,a.Ak)(n,e)||c(t),(0,o.J)(t)}})),[n]);return(0,i.jsx)(s.Provider,{value:l,children:e})}const l=({children:e})=>{const t=(0,r.useContext)(s);if(!t)throw new Error("RequestContextConsumer must be used within a RequestContextProvider");return e(t.requestContext)},d=({children:e})=>{const t=(0,r.useContext)(s);if(!t)throw new Error("RequestContextConsumer must be used within a RequestContextProvider");return e(t.requestContext)};function u(){const e=(0,r.useContext)(s);if(!e)throw new Error("useRequestContext must be used within a RequestContextProvider");return e.requestContext}function p(){const e=(0,r.useContext)(s);if(!e)throw new Error("useUpdateRequestContext must be used within a RequestContextProvider");return e.updateRequestContext}},608832:(e,t,n)=>{let r;function o(e){r=e}function a(){return r}n.d(t,{J:()=>o,l:()=>a})},379725:(e,t,n)=>{n.d(t,{U2:()=>c,bi:()=>l,v_:()=>d});var r=n(886858),o=n(6637),a=n(414327),i=n(718368);function s({fetchOptions:e,resource:t,retry:n}){return(c,l)=>{var d,u,p;const{bookmark:h,headers:f,options:m,refresh:_,schema:b}=e,y=(0,r.Z)(m);if(null!==(d=l().resources)&&void 0!==d&&null!==(u=d[t])&&void 0!==u&&null!==(p=u[y])&&void 0!==p&&p.fetching&&!n)return Promise.resolve();const g=n?n.bookmark:h,v=g?{...m,bookmarks:[g]}:m;return c((0,a.LQ)(t,m,!0)),o.Z.create(t,v).callGet(void 0,f).then((r=>{var l,d,u;const p=null===(l=r.resource_response)||void 0===l?void 0:l.data,[f]=r.bookmarks||[];if(Array.isArray(p)&&0===p.length&&f&&f!==i.q){const r=n?n.count:0;if(!(r>=i.s))return c(s({resource:t,fetchOptions:e,retry:{count:r+1,bookmark:f}}))}null===(d=o.Z.customDataManipulations)||void 0===d||d.call(o.Z,t,p);const{normalizedResponse:y,resourceSchema:g}=(null===(u=o.Z.normalizeResponse)||void 0===u?void 0:u.call(o.Z,{data:p,opts:{bookmark:h,options:m,schema:b},resource:t}))||{normalizedResponse:null,resourceSchema:void 0};return h?(c((0,a.Dm)(t,m,r,y,g)),o.Z.fetchMoreCompleteCallback&&o.Z.fetchMoreCompleteCallback({resource:t,options:m,response:r,normalizedResponse:y,refresh:_,resourceSchema:g})):(c((0,a.Sr)(t,m,r,y,_,g)),o.Z.fetchCompleteCallback&&o.Z.fetchCompleteCallback({resource:t,options:m,response:r,normalizedResponse:y,refresh:_,resourceSchema:g})),Promise.resolve()}),(e=>{c((0,a.Tl)(t,m,e))}))}}const c=(e,{bookmark:t,headers:n,options:r,schema:o})=>s({resource:e,fetchOptions:{bookmark:t,headers:n,options:r,refresh:!1,schema:o}}),l=(e,{headers:t,options:n,schema:r})=>s({resource:e,fetchOptions:{headers:t,options:n,refresh:!0,schema:r}});function d(e,t,n){return r=>{const{options:i}=t;return o.Z.create(e,i).callCreate().then((t=>{var o;if(null!==(o=t.resource_response)&&void 0!==o&&o.data){const o=t.resource_response.data,s=(null==n?void 0:n(o))||null;r((0,a.XM)(e,i,t,s))}return t}),(t=>(r((0,a.Tl)(e,i,t)),t)))}}},718368:(e,t,n)=>{n.d(t,{q:()=>r,s:()=>o});const r="-end-",o=10},338739:(e,t,n)=>{n.d(t,{AF:()=>r,KK:()=>o,aW:()=>s,cR:()=>a,se:()=>c,zP:()=>i});const r="CREATE_COMPLETE",o="FETCHING",a="FETCH_ERROR",i="FETCH_COMPLETE",s="FETCH_MORE_COMPLETE",c="RESOURCE_INVALIDATE"},414327:(e,t,n)=>{n.d(t,{Dm:()=>c,LQ:()=>a,Sr:()=>s,Tl:()=>i,XM:()=>o,jB:()=>l});var r=n(338739);function o(e,t,n,o){return{type:r.AF,payload:{resource:e,options:t,response:n,normalizedResponse:o}}}function a(e,t,n){return{type:r.KK,payload:{resource:e,options:t,isFetching:n}}}const i=(e,t,n)=>({type:r.cR,payload:{resource:e,options:t,error:n}});function s(e,t,n,o,a,i){return{type:r.zP,payload:{isRefresh:a,normalizedResponse:o,options:t,resource:e,response:n,schema:i}}}function c(e,t,n,o,a){return{type:r.aW,payload:{resource:e,options:t,response:n,normalizedResponse:o,schema:a}}}function l(e,t){return{type:r.se,payload:{resource:e,optionsOrOptionsKey:t}}}},784590:(e,t,n)=>{n.d(t,{Z:()=>u});var r=n(667294),o=n(702664),a=n(886858),i=n(718368),s=n(276775),c=n(780280),l=n(379725);const d={};function u({dangerouslyDisableFetch:e,enabledRouteRefresh:t,__unstableEnableSuspenseSupport:n,headers:u,name:p,noCache:h,options:f,schema:m}){const _=(0,o.useDispatch)(),b=(0,a.Z)(f),y=(0,r.useRef)(null),g=(0,r.useRef)(),v=(0,s.k6)(),x=v&&"POP"!==v.action,w=e=>(e[p]||d)[b]||d,S=(0,o.useSelector)((({resources:e})=>w(e).nextBookmark)),P=(0,o.useSelector)((({resources:e})=>w(e).data)),C=(0,o.useSelector)((({resources:e})=>w(e).auxData)),E=(0,o.useSelector)((({resources:e})=>w(e).error)),I=(0,o.useSelector)((({resources:e})=>Boolean(w(e).fetching))),j=Boolean(E)||void 0!==P,O=j&&!I&&S===i.q,T=Boolean(j&&t&&x&&!e),[k,A]=(0,r.useState)(T),R=(0,r.useCallback)((e=>{y.current=_((0,l.U2)(p,{options:f,schema:m,bookmark:e,headers:u}))}),[_,p,b,m,u]),Z=()=>{y.current=_((0,l.bi)(p,{options:f,schema:m,headers:u}))},{isBot:D}=(0,c.B)(),B=()=>{if(!e&&g.current!==b){const e=void 0===g.current;g.current=b,!j&&!I||e&&E&&(({httpStatus:e})=>!e||e>=500)(E)?R():(!D&&h||T)&&Z()}};(0,r.useEffect)((()=>{n||B()})),n&&B();const L=(0,r.useCallback)((()=>{e||(Z(),A(!0))}),[e,l.bi,p,b,u,A]),M=(0,r.useCallback)((()=>{!S||O||I||e||R(S)}),[e,R,S,O,I]);if(y.current)if(j&&!I)y.current=null;else if(n)throw y.current;const N=(0,r.useRef)({auxData:void 0,data:void 0,error:void 0,fetchMore:M,isAtEnd:!1,isFetching:!1,isLoaded:!1,isRefreshing:!1,nextBookmark:void 0,refresh:L}),z={auxData:C,data:P,error:E,fetchMore:M,isAtEnd:O,isFetching:I,isLoaded:j,isRefreshing:k,nextBookmark:S,refresh:L};return(0,o.shallowEqual)(z,N.current)||(!k||!N.current.data&&T||(0,o.shallowEqual)(z.data,N.current.data)||(z.isRefreshing=!1,A(!1)),N.current=z),N.current}},622096:(e,t,n)=>{n.d(t,{L_:()=>o,Nh:()=>a,qn:()=>r});const r=(e,t)=>{if("undefined"==typeof window)return t;try{return window.sessionStorage.getItem(e)}catch(n){return window.console.error("Cannot access sessionStorage."),t}},o=e=>{if("undefined"!=typeof window)try{window.sessionStorage.removeItem(e)}catch(t){window.console.error("Cannot access sessionStorage.")}},a=(e,t)=>{if("undefined"!=typeof window)try{window.sessionStorage.setItem(e,t)}catch(n){window.console.error("Cannot access sessionStorage.")}}},985913:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(858142);const o=/\{\{\s*(\w+)\s*\}\}/g,a=(e,t)=>(0,r.Z)(o,e,t)},858791:(e,t,n)=>{n.d(t,{Z:()=>r});const r=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")},858142:(e,t,n)=>{n.d(t,{Z:()=>r});const r=(e,t,n)=>t?t.replace(e,((e,t)=>n&&Object.prototype.hasOwnProperty.call(n,t)?n[t]:"")):""},66699:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(985913),o=n(858791);const a=(e,t)=>{const n={};return Object.keys(t).forEach((e=>{n[e]=t[e]?(0,o.Z)(t[e].toString()):""})),(0,r.Z)(e,n)}},867820:(e,t,n)=>{n.d(t,{yl:()=>h,an:()=>y,qJ:()=>f,dy:()=>x,De:()=>g,NC:()=>b,LW:()=>v,My:()=>_,tj:()=>m});var r=n(231486),o=n(6637),a=n(826067),i=n(226198);const s="unauthHistories",c="trackHistoryClickInternalUrl";var l=n(622096),d=n(53987);let u=[];let p;function h(e){u.length&&(o.Z.create("UserRegisterTrackActionResource",{actions:u}).callUpdate({showError:!1,async:!e}),u=[],p=null)}const f=e=>{!function(e){const t=(0,l.qn)(c);if((0,l.L_)(c),t)return;let n=(0,l.qn)(s);if(n=n?n.split(","):[],n.length){const t=`${e}.${n.reduce(((e,t)=>e+"-"+t))}`;u.push({name:t,aux_data:{}})}(0,l.L_)(s)}(e),u.length&&h(!0)};function m(e,t){let n="undefined"!=typeof window&&window.encodeURIComponent&&encodeURIComponent(e)||e;t||(t={}),-1!==n.indexOf("%")&&(t.invalid_action&&(t.invalid_action_original=t.invalid_action),t.invalid_action=n,n="track_register_action.web.invalid_action.with_percent"),u.push({name:n,aux_data:t}),p||(p=setTimeout((()=>h()),5e3)),function(e,t){if("undefined"!=typeof window)try{const n=new URL(window.location.href).searchParams.get("consoleTra");if(window.PINTEREST_DEV_LOG||n){const n=window.PINTEREST_DEV_REGEX||"";n&&!(e||"").match(n)||("object"==typeof t&&Object.keys(t).length?console.log(e+": %O",t):console.log(e))}}catch(n){}}(e,t)}function _(e,t){m(e,{tags:t?{...t}:{}})}function b(e,t=!1){if("undefined"==typeof window)return;let n=(0,l.qn)(s);n=n?n.split(","):[],n.push(e),(0,l.Nh)(s,n.join()),_(`lex.${e}`),t&&(0,l.Nh)(c,!0)}const y=()=>{const e=(0,a.mB)(window.location.search);if("31"===e.utm_source)return"email";if(e.utm_pai)return"paid";const t=r.U2(i.tg)||document.referrer;return t?t.includes("/t.co/")?"twitter":t.includes("cdn.ampproject.org")?"amp":t.includes("google.")?"google":t.includes("bing.")?"bing":t.includes("facebook.")?"facebook":"other":"direct"},g=e=>{e.action&&e.event?_("pinner_conversion",{...e,type:e.type||"none",trigger:e.trigger||"other",referrer:y()}):_("pinner_conversion.missing_tags")},v=({action:e,item:t,pageLocation:n,within:r})=>{var o;_(`logged_out_product.interaction.${o=n,(0,d.L6)(o)?"pin":(0,d.am)(o)?"board":(0,d.Xn)(o)?"login":(0,d.C$)(o)?"home":(0,d.cD)(o)?"profile":(0,d.J3)(o)?"ideas":(0,d.$Y)(o)?"article":(0,d.Zz)(o)?"today":(0,d.j8)(o)?"unauth-profile":"other"}.${e}`,{item:t||"none",within:r||"none"})},x=({event:e,provider:t})=>{_(`pinner_conversion.autologin.${t}.${e}`)}},948618:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(883119),o=n(785893);function a({ariaHidden:e=!1,color:t="darkGray",size:n}){return(0,o.jsx)("span",{"aria-hidden":e,style:{padding:"0 4px"},children:(0,o.jsx)(r.xv,{color:t,inline:!0,size:null!=n?n:"200",children:""})})}},343341:(e,t,n)=>{n.d(t,{F9:()=>i,Zo:()=>o,nE:()=>a});var r=n(425288);const{Provider:o,Consumer:a,useHook:i}=(0,r.Z)("toastManagerContext")},50286:(e,t,n)=>{n.d(t,{HG:()=>c,Mm:()=>o,Wb:()=>s,ZP:()=>l,ml:()=>i});var r=n(780280);function o(e){const{isMobile:t,isTablet:n}=e.userAgent;return n?"tablet":t?"phone":"desktop"}const a=()=>o((0,r.B)()),i=()=>"phone"===a(),s=()=>"tablet"===a(),c=()=>"desktop"===a(),l=a},829407:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(667294);const o=e=>{(0,r.useEffect)(e,[])}},411465:(e,t,n)=>{n.d(t,{G:()=>s,Z:()=>c});var r=n(667294),o=n(276775),a=n(785893);const i=(0,r.createContext)(!0);function s({children:e}){const t=(0,o.TH)(),[n,s]=(0,r.useState)(!0),c=(0,r.useRef)(t);return(0,r.useEffect)((()=>{c.current!==t&&(c.current=t,s(!1))}),[t]),(0,a.jsx)(i.Provider,{value:n,children:e})}function c(){return(0,r.useContext)(i)}},19121:(e,t,n)=>{n.d(t,{$:()=>o,Z:()=>i});var r=n(425288);const{Provider:o,useHook:a}=(0,r.Z)("viewer"),i=a},52395:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(883119),o=n(785893);function a({text:e}){return(0,o.jsx)(r.xu,{display:"visuallyHidden",children:(0,o.jsx)(r.X6,{accessibilityLevel:1,children:e})})}},31185:(e,t,n)=>{function r(e,t,n){return{privacy_filter:t?"secret":"public",sort:n||"last_pinned_to",field_set_key:"profile_grid_item",username:e}}n.d(t,{Z:()=>r})},527885:(e,t,n)=>{n.d(t,{O:()=>s,Q:()=>c});var r=n(848900),o=n(414327),a=n(875495);const i=["alphabetical","last_pinned_to","oldest","newest","group_boards_at_top","custom"],s={name:"BoardsResource",key:"boardsResource",options:({boardOrder:e,filterStories:t,mixPublicSecret:n,username:r},o)=>({privacy_filter:"all",sort:e||"last_pinned_to",field_set_key:"profile_grid_item",filter_stories:t,username:r,page_size:25,group_by:n?"mix_public_private":"visibility",include_archived:!0,redux_normalize_feed:!0,...o?{orbac_subject_id:o}:Object.freeze({})})},c=e=>i.reduce(((t,n)=>{const i=[(0,a.N8)("profileBoards",(0,r.Z)(e,n))];return[!0,!1].forEach((t=>{[!0,!1].forEach((r=>{i.push((0,o.jB)(s.name,s.options({username:e,boardOrder:n,mixPublicSecret:t,filterStories:r})))}))})),t.concat(i)}),[])},223123:(e,t,n)=>{n.d(t,{Z:()=>d});var r=n(702664),o=n(6637),a=n(332611),i=n(886858),s=n(379725),c=n(414327),l=n(782677);function d(){const e=(0,r.useDispatch)(),t=(0,r.useSelector)((e=>e.resources));return async function({boardCreateOptions:n,deprecatedSchemaForNormalization:r}){var d,u;const p=await o.Z.create("BoardResource",n).callCreate(),h=null===(d=p.resource_response)||void 0===d?void 0:d.data,f=r?(0,l.Fv)(h,r):void 0;e((0,c.XM)("BoardResource",n,p,f)),e((0,a.fO)({event_type:20})),null!==(u=h.owner)&&void 0!==u&&u.id&&e((0,s.bi)("UserResource",{options:{user_id:h.owner.id,field_set_key:"save_behavior"}}));const m=t.BoardsResource||{},_=t.BoardsFeedResource||{};return Object.keys(m).forEach((t=>{var n;(0,i.k)(t).username===(null===(n=h.owner)||void 0===n?void 0:n.username)&&e((0,c.jB)("BoardsResource",t))})),Object.keys(_).forEach((t=>{var n;(0,i.k)(t).username===(null===(n=h.owner)||void 0===n?void 0:n.username)&&e((0,c.jB)("BoardsFeedResource",t))})),h}}},935409:(e,t,n)=>{n.d(t,{Br:()=>p,Cr:()=>C,K8:()=>y,Q_:()=>x,Tq:()=>_,YV:()=>P,ZP:()=>E,aX:()=>I,eo:()=>f,gi:()=>S,md:()=>h,oG:()=>m,oL:()=>j,of:()=>g,xH:()=>b,xQ:()=>v,xk:()=>w,yT:()=>u});var r=n(27255),o=n(31185),a=n(6637),i=n(778821),s=n(379725),c=n(875495),l=n(527885),d=n(414327);function u(e){return{type:"BOARD_UPDATE_COMPLETE",payload:{board:e}}}function p(e){return{type:"BOARD_PIN_COUNT_CHANGED",payload:e}}function h(e,t){return{type:"BOARD_FOLLOW",payload:{boardId:e,value:t}}}function f({viewingUserId:e,viewingUsername:t,boardId:n,boardPinCount:r}){return{type:"BOARD_DELETE",payload:{viewingUserId:e,viewingUsername:t,boardId:n,boardPinCount:r}}}const m=(e,t)=>n=>n((0,s.U2)("BoardResource",{options:{board_id:e,field_set_key:t}}));function _(e,t,n){return(0,s.U2)("BoardResource",{options:{board_id:e,field_set_key:t,...n?{orbac_subject_id:n}:{}}})}function b(e,t,n){return r=>a.Z.create("BoardsMergeResource",{source_board_id:e,target_board_id:t,...n?{orbac_subject_id:n}:{}}).callUpdate().then((()=>Promise.all([r(f({boardId:e})),r(_(t,"pin_count")),r((0,c.N8)(i.DV.BOARD_SECTIONS,t))])))}function y(e){return t=>{e&&(0,l.Q)(e).forEach((e=>{t(e)}))}}const g=e=>({type:"BOARD_DISMISS_SENSITIVITY_SCREEN",payload:{boardId:e}}),v=e=>m(e,"pin_count");function x(e,t){return{type:"BOARD_ARCHIVE",payload:{boardId:e,username:t}}}function w(e,t){return n=>(n(x(e)),a.Z.create("BoardArchiveResource",{boardId:e,orbacSubjectId:t}).callUpdate())}function S(e){return{type:"BOARD_UNARCHIVE",payload:{boardId:e}}}function P(e,t){return n=>(n(S(e)),a.Z.create("BoardArchiveResource",{boardId:e,orbacSubjectId:t}).callDelete())}const C=(e,t)=>({type:"BOARD_COVER_IMAGE_UPDATED",payload:{boardId:e,coverPin:t}}),E=e=>({type:"BOARD_DISABLE_MORE_IDEAS_BADGING",payload:{boardId:e}});function I(e,t,n){const i={name:e,privacy:r.Z.BoardPrivacy.PUBLIC,username:t,...n?{orbac_subject_id:n}:Object.freeze({})};return e=>a.Z.create("BoardResource",i).callCreate().then((n=>{const r=n.resource_response.data;return e(t&&(0,d.jB)("BoardsResource",(0,o.Z)(t,!1))),r}))}function j(e={},t,n){return{type:"BOARD_CREATE_COMPLETE",payload:{options:e,board:t},error:n}}},162158:(e,t,n)=>{n.d(t,{V:()=>i,u:()=>a});var r=n(6637),o=n(935409);const a=e=>t=>{const n={board_id:e};return r.Z.create("BoardResource",n).callGet().then((e=>{const n=e&&e.resource_response&&e.resource_response.data;return n&&t((0,o.yT)(n)),e}))};function i(e,t,n){return(a,i)=>{const{boards:s}=i(),c=s[e],l=void 0===t.collaborator_requests_enabled||null===t.collaborator_requests_enabled?Object.freeze({}):{collaborator_requests_enabled:t.collaborator_requests_enabled},d={allow_homefeed_recommendations:t.allow_homefeed_recommendations,category:t.category,collab_board_email:t.collab_board_email,collaborator_invites_enabled:t.collaborator_invites_enabled,collaborator_permissions_setting:t.collaborator_permissions_setting,description:t.description,name:t.name,privacy:t.privacy,sensitivity:t.sensitivity||null,...n?{orbac_subject_id:n}:Object.freeze({}),...l};return a((0,o.yT)({...d,id:e})),r.Z.create("BoardResource",{...d,board_id:e}).callUpdate().then((e=>{const n=e&&e.resource_response&&e.resource_response.data||t;return a((0,o.yT)(n)),e})).catch((e=>{throw c&&a((0,o.yT)(c)),e}))}}},875495:(e,t,n)=>{function r(e){return{type:"FEED_ITEM_REORDERED",payload:e}}function o(e,t){return{type:"FEED_INVALIDATE",payload:{feedType:e,feedId:t}}}n.d(t,{EX:()=>i,N8:()=>o,Qv:()=>a,_f:()=>r,vX:()=>s});const a=(e,t,n=Object.freeze({}))=>({type:"APPEND_FEED_ITEMS",payload:{id:e,options:n,items:t}});function i(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}function s(e){return{type:"FEED_ITEMS_ADDED",payload:e}}},204942:(e,t,n)=>{function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>r})},487462:(e,t,n)=>{function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,{Z:()=>r})},894578:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(589611);function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,r.Z)(e,t)}},601413:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(204942);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},263366:(e,t,n)=>{function r(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}n.d(t,{Z:()=>r})},589611:(e,t,n)=>{function r(e,t){return(r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,{Z:()=>r})}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/31872-72bd6dc599915008.mjs.map